<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>WINABET.AI - Dashboard Paris Sportifs</title>
  <style>
    /* Hide Shopify default header */
    #shopify-section-header {
      display: none !important;
    }

    /* CSS Variables */
    :root {
      --background: 0 0% 0%;
      --foreground: 0 0% 100%;
      --primary: 120 100% 45%;
      --primary-foreground: 0 0% 100%;
      --secondary: 220 25% 18%;
      --muted: 220 25% 18%;
      --muted-foreground: 220 15% 65%;
      --border: 220 25% 20%;
      --radius: 0.75rem;
    }

    /* Reset & Base */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', sans-serif;
      background: #000000;
      color: #ffffff;
      line-height: 1.5;
      overflow-x: hidden;
    }

    /* Animations */
    @keyframes spin {
      from { transform: rotate(0deg); }
      to { transform: rotate(360deg); }
    }

    @keyframes bounce {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-10px); }
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    @keyframes spin {
      from { transform: rotate(0deg); }
      to { transform: rotate(360deg); }
    }

    @keyframes slideIn {
      from { transform: translateX(-100%); }
      to { transform: translateX(0); }
    }

    @keyframes pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.5; }
    }

    .animate-spin {
      animation: spin 1s linear infinite;
    }

    .animate-bounce {
      animation: bounce 1s ease-in-out infinite;
    }

    .animate-fade-in {
      animation: fadeIn 0.3s ease-out;
    }

    .animate-pulse {
      animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
    }

    /* Mobile Toggle Button */
    .mobile-toggle {
      position: fixed;
      top: 1.5rem;
      left: 1.5rem;
      z-index: 60;
      background: transparent;
      color: #ffffff;
      border: none;
      cursor: pointer;
      display: none;
      transition: all 0.3s;
      width: 32px;
      height: 32px;
      padding: 0;
    }

    .mobile-toggle:hover {
      background: transparent;
      color: #ffffff;
    }

    .mobile-toggle-icon {
      width: 32px;
      height: 32px;
    }

    @media (max-width: 768px) {
      .mobile-toggle {
        display: block;
      }
    }

    /* Overlay */
    .overlay {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.7);
      z-index: 40;
    }

    .overlay.active {
      display: block;
    }

    /* Sidebar */
    .sidebar {
      position: fixed;
      top: 0;
      left: 0;
      width: 16rem;
      height: 100vh;
      background: #000000;
      border-right: 1px solid rgba(255, 255, 255, 0.1);
      z-index: 50;
      display: flex;
      flex-direction: column;
      transition: transform 0.3s ease;
    }

    @media (max-width: 768px) {
      .sidebar {
        width: 100%;
        transform: translateX(-100%);
      }

      .sidebar.active {
        transform: translateX(0);
      }
    }

    .sidebar-header {
      padding: 1.5rem 1rem 1rem;
    }

    .logo {
      font-size: 2.5rem;
      font-weight: 700;
      text-align: center;
      line-height: 1;
    }

    .logo .text-foreground {
      color: #ffffff;
    }

    .logo .text-primary {
      color: #16a34a;
    }

    .logo .text-sm {
      font-size: 0.875rem;
    }

    .sidebar-nav {
      flex: 1;
      overflow-y: auto;
      padding: 1rem 0;
    }

    .nav-item {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 0.5rem;
      padding: 1.25rem 1.5rem;
      margin: 0.5rem 1rem;
      color: #ffffff;
      text-decoration: none;
      border-radius: 0.5rem;
      border: 2px solid transparent;
      transition: all 0.2s;
      cursor: pointer !important;
      font-size: 1.75rem;
      font-weight: 600;
    }

    .nav-item *, .nav-item *:hover {
      cursor: pointer !important;
    }

    .nav-item-content {
      display: flex;
      align-items: center;
      gap: 1rem;
      flex: 1;
    }

    .nav-item:hover {
      background: rgba(255, 255, 255, 0.1);
    }

    .nav-item.active {
      background: rgba(22, 163, 74, 0.2);
      border: 2px solid #16a34a;
      color: #16a34a;
      font-weight: 600;
    }

    .nav-icon {
      width: 1.75rem;
      height: 1.75rem;
      flex-shrink: 0;
    }

    .nav-icon-small {
      width: 1.5rem;
      height: 1.5rem;
      flex-shrink: 0;
    }

    .chevron-icon {
      width: 1.25rem;
      height: 1.25rem;
      flex-shrink: 0;
      margin-left: auto;
    }

    .sidebar-footer {
      padding: 1.5rem 1rem;
      border-top: 1px solid rgba(255, 255, 255, 0.1);
      text-align: center;
      font-size: 0.75rem;
      color: rgba(255, 255, 255, 0.6);
    }

    /* AI Update Indicator */
    .ai-update-indicator {
      background: #000000;
      padding: 0.75rem 1rem;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 0.5rem;
    }

    .ai-update-indicator svg {
      color: #16a34a !important;
      stroke: #16a34a !important;
    }

    .ai-spinner {
      position: relative;
      width: 2.4rem;
      height: 2.4rem;
      flex-shrink: 0;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .ai-spinner::before {
      content: '';
      position: absolute;
      width: 100%;
      height: 100%;
      border-radius: 50%;
      border: 3px solid transparent;
      border-top-color: #16a34a;
      border-right-color: #16a34a;
      border-bottom-color: #16a34a;
      animation: spin 1s linear infinite;
    }

    .ai-badge {
      position: relative;
      color: #16a34a;
      font-weight: 700;
      font-size: 10px;
      line-height: 1;
      z-index: 10;
    }

    .ai-update-text {
      color: rgba(255, 255, 255, 0.7);
      font-size: 0.875rem;
    }

    /* Header */
    .header {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      background: #000000;
      z-index: 30;
      display: flex;
      flex-direction: column;
    }

    .header-logo {
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 1.5rem 0;
      background: #000000;
    }

    .header-ai-update {
      background: #000000;
      padding: 0.5rem 1.5rem;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 0.5rem;
    }

    .header-ai-update svg {
      color: #16a34a !important;
      stroke: #16a34a !important;
    }

    @media (min-width: 768px) {
      .header {
        left: 16rem;
      }
    }

    /* Main Content */
      .main-content {
        margin-left: 16rem;
        min-height: 100vh;
        padding-top: 110px;
        background: #000000;
      }

    @media (max-width: 768px) {
      .main-content {
        margin-left: 0;
      }
    }

    .container {
      padding: 2rem;
    }

    @media (max-width: 768px) {
      .container {
        padding: 1.5rem;
      }
    }

    /* Page */
    .page {
      display: none;
    }

    .page.active {
      display: block;
      animation: fadeIn 0.3s ease-out;
    }

    /* Typography */
    h1 {
      font-size: 4.5rem;
      font-weight: 700;
      margin-bottom: 1rem;
      color: #ffffff;
      text-align: center;
    }

    h2 {
      font-size: 1.5rem;
      font-weight: 600;
      margin-bottom: 1rem;
    }

    h3 {
      font-size: 1.25rem;
      font-weight: 600;
      margin-bottom: 0.5rem;
    }

    .subtitle {
      color: #ffffff;
      margin-bottom: 2rem;
      text-align: center;
      font-size: 1.5rem;
      max-width: 95%;
      margin-left: auto;
      margin-right: auto;
    }

    /* Card */
    .card {
      background: #000000;
      border: 3px solid #16a34a;
      border-radius: 0.125rem;
      padding: 1.5rem;
      margin-bottom: 1.5rem;
      max-width: 28rem;
      margin-left: auto;
      margin-right: auto;
    }

    /* Bet Card */
    .bet-card {
      background: #000000;
      border: 3px solid #16a34a;
      border-radius: 1rem;
      padding: 0;
      margin-bottom: 1.5rem;
      max-width: 36rem;
      margin-left: auto;
      margin-right: auto;
      overflow: hidden;
      box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
    }

    @media (max-width: 768px) {
      .bet-card {
        max-width: 95%;
      }
    }

    .bet-card-header {
      padding: 0;
    }

    /* AI Counter Section - Above Card */
    .ai-counter-above {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 0.75rem;
      padding: 0.5rem 1.5rem;
      margin-bottom: 0.5rem;
      background: transparent;
    }

    .ai-counter-above .ai-spinner {
      position: relative;
      width: 2.4rem;
      height: 2.4rem;
      flex-shrink: 0;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .ai-counter-above .ai-spinner::before {
      content: '';
      position: absolute;
      width: 100%;
      height: 100%;
      border-radius: 50%;
      border: 3px solid transparent;
      border-top-color: #ffffff;
      border-right-color: #ffffff;
      border-bottom-color: #ffffff;
      animation: spin 1s linear infinite;
    }

    .ai-counter-above .ai-badge {
      position: relative;
      color: #ffffff;
      font-weight: 700;
      font-size: 10px;
      line-height: 1;
      z-index: 10;
    }

    .ai-counter-above span {
      color: #ffffff;
      font-weight: 600;
      font-size: 10px;
      letter-spacing: 0.025em;
    }

    /* AI Counter Section */
    .ai-counter {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 0.75rem;
      padding: 0.75rem 1.5rem;
      background: #16a34a;
    }

    .ai-counter span {
      color: #ffffff;
      font-weight: 600;
      font-size: 10px;
      letter-spacing: 0.025em;
    }

    /* Confidence Badge - Bande verte 92% */
    .confidence-badge {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 1rem;
      padding: 1rem 1.5rem;
      background: #16a34a;
    }

    .confidence-left {
      display: flex;
      align-items: center;
      gap: 0;
      flex: 1;
    }

    .confidence-badge span {
      color: #ffffff;
      font-weight: 700;
    }

    .confidence-percentage {
      font-size: 3.2rem;
      line-height: 1;
      font-weight: 700;
      flex-shrink: 0;
    }

    .confidence-text {
      font-size: 13px;
      font-weight: 700;
      line-height: 1.5;
      text-align: center;
      flex: 1;
      padding: 0rem;
    }

    /* Bouton Voir Analyse IA */
    .btn-analysis {
      padding: 0.5rem 1rem;
      background: #000000;
      border: 2px solid #000000;
      border-radius: 0.25rem;
      color: #4ade80;
      font-weight: 700;
      font-size: 8px;
      cursor: pointer;
      transition: background-color 0.2s;
      white-space: nowrap;
      min-width: 40px;
      text-align: center;
      line-height: 1.3;
      flex-shrink: 0;
    }

    .btn-analysis:hover {
      background: rgba(0, 0, 0, 0.8);
    }

    /* New Bet Card Design */
    .multiplier-section-label {
      text-align: center;
      color: #ffffff;
      font-weight: 700;
      font-size: 1.5rem;
      margin-bottom: 0.75rem;
      letter-spacing: 0.05em;
    }

    .multiplier-button {
      background: #16a34a;
      color: #ffffff;
      border: none;
      border-radius: 0.75rem;
      padding: 1rem 2rem;
      font-size: 3rem;
      font-weight: 700;
      width: 100%;
      cursor: pointer;
      transition: background 0.2s;
    }

    .multiplier-button:hover {
      background: #15803d;
    }

    .bet-card-content {
      padding: 1.5rem;
    }

    .bet-section-label {
      text-align: center;
      color: #ffffff;
      font-weight: 700;
      font-size: 1.5rem;
      margin-bottom: 1rem;
      letter-spacing: 0.05em;
    }

    .match-info-new {
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: stretch;
      gap: 0.25rem;
      padding: 0.25rem 1.5rem 0.75rem;
      border: 2px solid #16a34a;
      border-radius: 0.75rem;
      margin-bottom: 1.5rem;
      position: relative;
    }

    .match-info-header {
      text-align: center;
      font-size: 1.75rem;
      color: #ffffff;
      font-weight: 600;
      margin-bottom: 0;
      padding-top: 1rem;
    }

    .match-info-content {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 1rem;
    }

    .team-side {
      flex: 1;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 0.5rem;
    }

    .team-logo {
      width: 6rem;
      height: 6rem;
      border-radius: 50%;
      object-fit: contain;
      background: #ffffff;
      padding: 0.25rem;
      border: 3px solid transparent;
    }

    .team-side.selected .team-logo {
      border: 3px solid #16a34a;
      box-shadow: 0 0 0 3px rgba(22, 163, 74, 0.2);
    }

    .team-name-new {
      font-weight: 700;
      font-size: 1.5rem;
      text-align: center;
      line-height: 1.2;
    }

    .team-bet-type {
      font-size: 1.5rem;
      color: #16a34a;
      font-weight: 600;
    }

    .match-center .team-bet-type {
      color: #ffffff;
    }

    .match-center {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 0.25rem;
    }

    .match-time-new {
      font-size: 1.25rem;
      font-weight: 700;
      color: #ffffff;
    }

    .match-vs-new {
      font-size: 0.875rem;
      font-weight: 700;
      color: #ffffff;
      background: #16a34a;
      padding: 0.375rem 1rem;
      border-radius: 0.375rem;
    }

    .units-button {
      background: #16a34a;
      color: #ffffff;
      border: none;
      border-radius: 0.75rem;
      padding: 1.25rem 2rem;
      font-size: 2.75rem;
      font-weight: 700;
      width: 100%;
      cursor: pointer;
      transition: background 0.2s;
      margin-bottom: 1.5rem;
    }

    .units-button:hover {
      background: #15803d;
    }

    .gain-section {
      margin-bottom: 0.5rem;
    }

    .gain-section-label {
      text-align: center;
      color: #ffffff;
      font-weight: 700;
      font-size: 1.5rem;
      margin-bottom: 1rem;
      letter-spacing: 0.05em;
    }

    .gain-grid {
      display: flex;
      flex-direction: row;
      justify-content: space-between;
      align-items: center;
      gap: 1rem;
      padding: 0 1rem;
    }

    .bet-modify-box {
      background: transparent;
      border-radius: 0.5rem;
      padding: 0;
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
      align-items: center;
    }

    .modify-btn {
      background: #16a34a;
      color: #ffffff;
      border: none;
      border-radius: 0.5rem;
      padding: 0.75rem 1.5rem;
      font-size: 1.125rem;
      font-weight: 700;
      cursor: pointer;
      transition: background 0.2s;
      width: 100%;
    }

    .modify-btn:hover {
      background: #15803d;
    }

    .bet-amount-small {
      font-size: 1rem;
      color: rgba(255, 255, 255, 0.6);
      margin-top: 0.5rem;
    }

    .bet-amount-value-small {
      font-size: 1.75rem;
      font-weight: 700;
      color: #16a34a;
    }

    .cashout-box {
      background: transparent;
      border: 3px solid #16a34a;
      border-radius: 1rem;
      padding: 1.5rem 2.5rem;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      gap: 0.5rem;
      flex-shrink: 0;
    }

    .cashout-box-large {
      background: rgba(22, 163, 74, 0.15);
      border: 3px solid #16a34a;
      border-radius: 1rem;
      padding: 1.5rem 2.5rem;
    }

    /* Parlay Leg Styles */
    .parlay-legs-list {
      display: flex;
      flex-direction: column;
      gap: 1rem;
      margin-bottom: 1.5rem;
    }

    .parlay-leg-item {
      background: rgba(22, 163, 74, 0.1);
      border: 2px solid #16a34a;
      border-radius: 0.75rem;
      padding: 1rem 1.5rem;
      position: relative;
    }

    .parlay-leg-header {
      font-size: 1rem;
      font-weight: 700;
      color: #16a34a;
      margin-bottom: 0.75rem;
      text-align: center;
      letter-spacing: 0.05em;
    }

    .parlay-leg-content {
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
    }

    .parlay-leg-teams {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 1rem;
    }

    .parlay-leg-team {
      flex: 1;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 0.5rem;
    }

    .parlay-leg-logo {
      width: 4rem;
      height: 4rem;
      border-radius: 50%;
      object-fit: contain;
      background: #ffffff;
      padding: 0.25rem;
      border: 2px solid transparent;
    }

    .parlay-leg-team-name {
      font-weight: 700;
      font-size: 1.125rem;
      text-align: center;
      color: #ffffff;
    }

    .parlay-leg-vs {
      font-size: 0.875rem;
      font-weight: 700;
      color: #ffffff;
      background: #16a34a;
      padding: 0.25rem 0.75rem;
      border-radius: 0.375rem;
    }

    .parlay-leg-info {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 1rem;
      flex-wrap: wrap;
      margin-top: 0.5rem;
    }

    .parlay-leg-time {
      font-size: 1rem;
      font-weight: 600;
      color: #ffffff;
    }

    .parlay-leg-bet-type {
      font-size: 1.125rem;
      font-weight: 700;
      color: #16a34a;
      background: rgba(22, 163, 74, 0.2);
      padding: 0.5rem 1rem;
      border-radius: 0.5rem;
    }

    .parlay-leg-separator {
      height: 1px;
      background: linear-gradient(90deg, transparent, #16a34a, transparent);
      margin: 0.5rem 0;
      border: 3px solid #16a34a;
      border-radius: 1rem;
      padding: 2.5rem 4rem;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      gap: 0.75rem;
      min-width: 22rem;
      flex-shrink: 0;
      margin-left: auto;
    }

    .cashout-box-large .cashout-label {
      font-size: 1.125rem;
      color: #ffffff;
      font-weight: 600;
      letter-spacing: 0.05em;
    }

    .cashout-box-large .cashout-amount {
      font-size: 3.5rem;
      font-weight: 700;
      color: #16a34a;
      line-height: 1;
    }

    .cashout-box-large .cashout-profit {
      font-size: 1.125rem;
      color: #ffffff;
      font-weight: 600;
    }

    .cashout-label {
      font-size: 1rem;
      color: #ffffff;
      font-weight: 700;
      text-align: center;
    }

    .cashout-amount {
      font-size: 1.75rem;
      font-weight: 700;
      color: #16a34a;
      line-height: 1;
      text-align: center;
    }

    .cashout-profit {
      font-size: 0.875rem;
      color: #16a34a;
      font-weight: 600;
      text-align: center;
    }

    .best-odds-footer {
      display: flex;
      align-items: center;
      justify-content: space-between;
      background: #16a34a;
      padding: 1rem 1.5rem;
      gap: 0.5rem;
    }

    .best-odds-label {
      color: #ffffff;
      font-weight: 700;
      font-size: 1.125rem;
    }

    .bookmaker-badge {
      background: transparent;
      color: #ffffff;
      padding: 0;
      border-radius: 0;
      font-weight: 700;
      font-size: 1rem;
      margin-left: auto;
    }

    .odds-value {
      background: #ffffff;
      color: #000000;
      padding: 0.5rem 1rem;
      border-radius: 0.375rem;
      font-weight: 700;
      font-size: 1.25rem;
    }

    .bet-card + .bet-card {
      margin-top: 2rem;
    }

    /* Over/Under Display Styles */
    .over-under-display {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 0.25rem;
      padding: 0.75rem 1.5rem;
      background: rgba(22, 163, 74, 0.1);
      border: 2px solid #16a34a;
      border-radius: 0.5rem;
      margin-top: 0.5rem;
    }

    .over-under-type {
      font-size: 1.75rem;
      font-weight: 700;
      color: #16a34a;
    }

    .over-under-value {
      font-size: 2.5rem;
      font-weight: 700;
      color: #ffffff;
    }

    .over-under-stat {
      font-size: 1rem;
      color: rgba(255, 255, 255, 0.7);
      text-align: center;
    }

    /* Parlay Card */
    .parlay-card {
      background: #000000;
      border: 3px solid #3b82f6;
      border-radius: 0.125rem;
      max-width: 42rem;
      margin: 0 auto;
      overflow: hidden;
      box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
    }

    .parlay-card + .parlay-card {
      margin-top: 2rem;
    }

    .parlay-header {
      background: #3b82f6;
      padding: 1rem 1.5rem;
      text-align: center;
    }

    .parlay-title {
      color: #ffffff;
      font-weight: 700;
      font-size: 1.25rem;
      margin: 0;
    }

    .parlay-stats {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0.75rem 1.5rem;
      background: rgba(59, 130, 246, 0.2);
      border-bottom: 1px solid rgba(59, 130, 246, 0.3);
    }

    .parlay-stat {
      display: flex;
      flex-direction: column;
      gap: 0.25rem;
    }

    .parlay-stat-label {
      color: rgba(255, 255, 255, 0.6);
      font-size: 0.75rem;
      font-weight: 600;
    }

    .parlay-stat-value {
      color: #ffffff;
      font-weight: 700;
      font-size: 1.125rem;
    }

    .parlay-multiplier {
      color: #3b82f6;
      font-size: 2rem;
      font-weight: 700;
    }

    .parlay-content {
      padding: 1.5rem;
    }

    .parlay-bets-list {
      display: flex;
      flex-direction: column;
      gap: 1rem;
      margin-bottom: 1.5rem;
    }

    .parlay-bet-item {
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 0.375rem;
      padding: 1rem;
    }

    .parlay-bet-number {
      color: #3b82f6;
      font-weight: 700;
      font-size: 0.875rem;
      margin-bottom: 0.5rem;
    }

    .parlay-bet-details {
      color: #ffffff;
      font-size: 0.9375rem;
      line-height: 1.5;
    }

    .parlay-explanation {
      background: rgba(59, 130, 246, 0.1);
      border-left: 3px solid #3b82f6;
      padding: 1rem;
      color: rgba(255, 255, 255, 0.8);
      font-size: 0.875rem;
      line-height: 1.6;
      margin-bottom: 1.5rem;
    }

    .parlay-gain-section {
      background: rgba(59, 130, 246, 0.1);
      border: 2px solid #3b82f6;
      border-radius: 0.5rem;
      padding: 1.5rem;
      text-align: center;
    }

    .parlay-gain-label {
      color: rgba(255, 255, 255, 0.6);
      font-size: 0.875rem;
      font-weight: 600;
      margin-bottom: 0.5rem;
    }

    .parlay-gain-value {
      color: #3b82f6;
      font-size: 2.25rem;
      font-weight: 700;
    }

    /* History Card */
    .history-card {
      background: #000000;
      border: 3px solid #16a34a;
      border-radius: 0.375rem;
      padding: 1rem;
      margin-bottom: 1rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
      flex-wrap: wrap;
      gap: 1rem;
    }

    .history-match {
      font-weight: 600;
    }

    .history-date {
      color: rgba(255, 255, 255, 0.6);
      font-size: 0.875rem;
    }

    .badge {
      padding: 0.25rem 0.75rem;
      border-radius: 0.375rem;
      font-size: 0.75rem;
      font-weight: 600;
    }

    .badge-success {
      background: rgba(22, 163, 74, 0.2);
      color: #16a34a;
    }

    .badge-danger {
      background: rgba(239, 68, 68, 0.2);
      color: #ef4444;
    }

    .badge-warning {
      background: rgba(234, 179, 8, 0.2);
      color: #eab308;
    }

    /* Strategy Cards */
    .strategy-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 1.5rem;
      margin-bottom: 2rem;
    }

    .strategy-card {
      background: #000000;
      border: 3px solid #16a34a;
      border-radius: 0.375rem;
      padding: 1.5rem;
      transition: all 0.3s;
    }

    .strategy-card:hover {
      border-color: #4ade80;
      transform: translateY(-4px);
    }

    .strategy-icon {
      width: 3rem;
      height: 3rem;
      color: #16a34a;
      margin-bottom: 1rem;
    }

    .strategy-title {
      font-size: 1.125rem;
      font-weight: 600;
      margin-bottom: 0.5rem;
    }

    .strategy-description {
      color: rgba(255, 255, 255, 0.6);
      font-size: 0.875rem;
    }

    .principles-list {
      list-style: none;
      padding: 0;
    }

    .principles-list li {
      padding: 0.75rem 0;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .principles-list li:last-child {
      border-bottom: none;
    }

    .check-icon {
      color: #16a34a;
      width: 1.25rem;
      height: 1.25rem;
    }

    /* Dialog/Modal */
    .dialog-overlay {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.8);
      z-index: 100;
      align-items: center;
      justify-content: center;
      padding: 1rem;
    }

    .dialog-overlay.active {
      display: flex;
      animation: fadeIn 0.2s ease-out;
    }

    .dialog {
      background: #000000;
      border: 3px solid #16a34a;
      border-radius: 1.5rem;
      max-width: 672px;
      width: 100%;
      max-height: 90vh;
      overflow-y: auto;
      animation: fadeIn 0.3s ease-out;
    }

    .dialog-large {
      max-width: 900px;
    }

    .dialog-header {
      padding: 1.5rem;
      border-bottom: 2px solid #16a34a;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .dialog-title {
      font-size: 1.5rem;
      font-weight: 700;
    }

    .dialog-close {
      background: transparent;
      border: none;
      color: rgba(255, 255, 255, 0.6);
      cursor: pointer;
      padding: 0.5rem;
      border-radius: 0.375rem;
      transition: all 0.2s;
    }

    .dialog-close:hover {
      background: rgba(255, 255, 255, 0.1);
      color: #ffffff;
    }

    .dialog-content {
      padding: 1.5rem;
    }

    .bet-buttons {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
      gap: 1rem;
      margin-bottom: 1rem;
    }

    .bet-button {
      padding: 1rem;
      background: rgba(255, 255, 255, 0.05);
      border: 2px solid #16a34a;
      border-radius: 0.375rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s;
      color: #ffffff;
    }

    .bet-button:hover {
      border-color: #4ade80;
      background: rgba(22, 163, 74, 0.1);
    }

    /* Analysis Dialog */
    .analysis-header {
      background: rgba(22, 163, 74, 0.1);
      padding: 1.5rem;
      text-align: center;
      position: relative;
    }

    .analysis-header .ai-spinner::before {
      content: '';
      position: absolute;
      width: 100%;
      height: 100%;
      border-radius: 50%;
      border: 3px solid transparent;
      border-top-color: #ffffff;
      border-right-color: #ffffff;
      border-bottom-color: #ffffff;
      animation: spin 1s linear infinite;
    }

    /* AI Loading Overlay */
    .ai-loading-overlay {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      width: 100vw;
      min-height: 100vh;
      min-height: 100dvh;
      background: #000000;
      z-index: 99999;
      justify-content: center;
      align-items: center;
      flex-direction: column;
      gap: 2rem;
      overflow: hidden;
      touch-action: none;
      -webkit-overflow-scrolling: touch;
    }

    /* Empêcher le scroll du body quand l'overlay est actif */
    body.body-no-scroll {
      overflow: hidden;
      position: fixed;
      width: 100%;
      height: 100%;
    }

    .ai-loading-overlay.active {
      display: flex;
    }

    .ai-loading-spinner {
      position: relative;
      width: 150px;
      height: 150px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .ai-loading-spinner::before {
      content: '';
      position: absolute;
      width: 100%;
      height: 100%;
      border-radius: 50%;
      border: 8px solid transparent;
      border-top-color: #ffffff;
      border-right-color: #ffffff;
      border-bottom-color: #ffffff;
      animation: spin 1.5s linear infinite;
    }

    .ai-loading-spinner-text {
      position: relative;
      color: #ffffff;
      font-weight: 700;
      font-size: 3rem;
      z-index: 10;
    }

    .ai-loading-logo {
      font-size: 3rem;
      font-weight: 700;
      line-height: 1;
      text-align: center;
    }

    .ai-loading-message {
      color: #ffffff;
      font-size: 1.125rem;
      font-weight: 600;
      text-align: center;
      max-width: 80%;
      line-height: 1.5;
    }

    .analysis-title {
      font-size: 1.75rem;
      font-weight: 700;
      margin-bottom: 1rem;
    }

    .loading-container {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 1rem;
      padding: 2rem;
    }

    .loading-dots {
      display: flex;
      gap: 0.5rem;
    }

    .loading-dot {
      width: 0.75rem;
      height: 0.75rem;
      background: #16a34a;
      border-radius: 50%;
      animation: bounce 1s ease-in-out infinite;
    }

    .loading-dot:nth-child(2) {
      animation-delay: 0.2s;
    }

    .loading-dot:nth-child(3) {
      animation-delay: 0.4s;
    }

    .confidence-section {
      background: transparent;
      border: 3px solid #16a34a;
      border-radius: 1rem;
      padding: 2rem;
      margin-bottom: 2rem;
      text-align: center;
    }

    .confidence-label {
      font-size: 1rem;
      font-weight: 700;
      color: #ffffff;
      margin-bottom: 1rem;
      letter-spacing: 0.05em;
      text-transform: uppercase;
    }

    .confidence-value {
      font-size: 4rem;
      font-weight: 700;
      color: #16a34a;
      margin-bottom: 0.5rem;
      line-height: 1;
    }

    .confidence-subtitle {
      font-size: 0.75rem;
      color: rgba(255, 255, 255, 0.6);
      text-transform: uppercase;
      letter-spacing: 0.05em;
      margin-bottom: 1rem;
    }

    .confidence-progress {
      width: 100%;
      height: 1rem;
      background: rgba(22, 163, 74, 0.2);
      border-radius: 9999px;
      overflow: hidden;
    }

    .confidence-progress-bar {
      height: 100%;
      background: hsl(var(--primary));
      border-radius: 9999px;
      transition: width 0.8s ease-out;
    }

    .analysis-section {
      margin-bottom: 2rem;
    }

    .analysis-section-title {
      font-size: 1.125rem;
      font-weight: 700;
      margin-bottom: 1rem;
      color: #ffffff;
    }

    .analysis-subsection {
      background: transparent;
      border: 2px solid hsl(var(--primary));
      border-radius: 0.75rem;
      padding: 1rem 1rem 1rem 3.5rem;
      margin-bottom: 1rem;
      position: relative;
    }

    .analysis-subsection-icon {
      position: absolute;
      left: 1rem;
      top: 1.25rem;
      width: 2.4rem;
      height: 2.4rem;
      flex-shrink: 0;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .analysis-subsection-icon::before {
      content: '';
      position: absolute;
      width: 100%;
      height: 100%;
      border-radius: 50%;
      border: 3px solid transparent;
      border-top-color: #ffffff;
      border-right-color: #ffffff;
      border-bottom-color: #ffffff;
      animation: spin 1s linear infinite;
    }

    .analysis-subsection-icon svg {
      display: none;
    }
    
    .analysis-subsection-icon .ai-badge {
      position: relative;
      color: #ffffff;
      font-weight: 700;
      font-size: 10px;
      line-height: 1;
      z-index: 10;
    }

    .analysis-subsection-title {
      font-weight: 700;
      margin-bottom: 0.5rem;
      color: #ffffff;
      font-size: 0.875rem;
    }

    .analysis-subsection-content {
      color: rgba(255, 255, 255, 0.8);
      font-size: 0.875rem;
      line-height: 1.6;
    }

    .analysis-footer {
      background: rgba(255, 255, 255, 0.05);
      padding: 1rem;
      border-radius: 0.375rem;
      font-size: 0.875rem;
      color: rgba(255, 255, 255, 0.6);
      text-align: center;
    }

    /* AI Spinner Animation (cards only) */
    .ai-counter .ai-spinner {
      position: relative;
      width: 1.5rem;
      height: 1.5rem;
      flex-shrink: 0;
    }

    .ai-counter .ai-spinner svg {
      position: absolute;
      width: 100%;
      height: 100%;
      color: #ffffff;
    }

    .ai-counter .ai-badge {
      position: absolute;
      inset: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      color: #16a34a;
      font-weight: 700;
      font-size: 10px;
    }

    .confidence-left {
      display: flex;
      flex-direction: column;
      gap: 0.25rem;
    }

    /* Utilities */
    .flex {
      display: flex;
    }

    .items-center {
      align-items: center;
    }

    .justify-between {
      justify-content: space-between;
    }

    .gap-2 {
      gap: 0.5rem;
    }

    .mb-4 {
      margin-bottom: 1rem;
    }

    .text-center {
      text-align: center;
    }
  </style>
</head>
<body>
  <!-- Mobile Toggle Button -->
  <button class="mobile-toggle" onclick="toggleSidebar()" aria-label="Toggle menu">
    <svg class="mobile-toggle-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M4 6h16M4 12h16M4 18h16"/>
    </svg>
  </button>

  <!-- Overlay -->
  <div class="overlay" onclick="toggleSidebar()"></div>

  <!-- Sidebar -->
  <aside class="sidebar">
    <div class="sidebar-header">
      <div class="logo">
        <span class="text-foreground">WIN</span><span class="text-primary">A</span><span class="text-foreground">BET</span><span class="text-primary text-sm">.AI</span>
      </div>
    </div>

    <!-- AI Update Indicator in Sidebar -->
    <div class="ai-update-indicator">
      <div class="ai-spinner">
        <span class="ai-badge">IA</span>
      </div>
      <span class="ai-update-text">Dernière mise à jour IA : <span id="sidebar-time">17:34</span></span>
    </div>

    <nav class="sidebar-nav">
      <a class="nav-item active" data-page="bet" onclick="navigateTo(event, 'bet')">
        <div class="nav-item-content">
          <svg class="nav-icon" xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M6 9H4.5a2.5 2.5 0 0 1 0-5H6"></path>
            <path d="M18 9h1.5a2.5 2.5 0 0 0 0-5H18"></path>
            <path d="M4 22h16"></path>
            <path d="M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22"></path>
            <path d="M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22"></path>
            <path d="M18 2H6v7a6 6 0 0 0 12 0V2Z"></path>
          </svg>
          <span>BET DU JOUR</span>
        </div>
        <svg class="chevron-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <polyline points="9 18 15 12 9 6"></polyline>
        </svg>
      </a>

      <a class="nav-item" data-page="parlay" onclick="navigateTo(event, 'parlay')">
        <div class="nav-item-content">
          <svg class="nav-icon" xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z"></path>
            <path d="m6.08 9.5-3.5 1.6a1 1 0 0 0 0 1.81l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9a1 1 0 0 0 0-1.83l-3.5-1.59"></path>
            <path d="m6.08 14.5-3.5 1.6a1 1 0 0 0 0 1.81l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9a1 1 0 0 0 0-1.83l-3.5-1.59"></path>
          </svg>
          <span>PARLAY DU JOUR</span>
        </div>
        <svg class="chevron-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <polyline points="9 18 15 12 9 6"></polyline>
        </svg>
      </a>

      <a class="nav-item" data-page="historique-bet" onclick="navigateTo(event, 'historique-bet')">
        <div class="nav-item-content">
          <svg class="nav-icon" xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"></path>
            <path d="M3 3v5h5"></path>
            <path d="M12 7v5l4 2"></path>
          </svg>
          <span>HISTORIQUE BET DU JOUR</span>
          <svg class="nav-icon-small" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M6 9H4.5a2.5 2.5 0 0 1 0-5H6"></path>
            <path d="M18 9h1.5a2.5 2.5 0 0 0 0-5H18"></path>
            <path d="M4 22h16"></path>
            <path d="M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22"></path>
            <path d="M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22"></path>
            <path d="M18 2H6v7a6 6 0 0 0 12 0V2Z"></path>
          </svg>
        </div>
        <svg class="chevron-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <polyline points="9 18 15 12 9 6"></polyline>
        </svg>
      </a>

      <a class="nav-item" data-page="historique-parlay" onclick="navigateTo(event, 'historique-parlay')">
        <div class="nav-item-content">
          <svg class="nav-icon" xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <circle cx="12" cy="12" r="10"></circle>
            <polyline points="12 6 12 12 16 14"></polyline>
          </svg>
          <span>HISTORIQUE PARLAY DU JOUR</span>
          <svg class="nav-icon-small" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z"></path>
            <path d="m6.08 9.5-3.5 1.6a1 1 0 0 0 0 1.81l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9a1 1 0 0 0 0-1.83l-3.5-1.59"></path>
            <path d="m6.08 14.5-3.5 1.6a1 1 0 0 0 0 1.81l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9a1 1 0 0 0 0-1.83l-3.5-1.59"></path>
          </svg>
        </div>
        <svg class="chevron-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <polyline points="9 18 15 12 9 6"></polyline>
        </svg>
      </a>

      <a class="nav-item" data-page="strategy" onclick="navigateTo(event, 'strategy')">
        <div class="nav-item-content">
          <svg class="nav-icon" xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M6 9H4.5a2.5 2.5 0 0 1 0-5H6"></path>
            <path d="M18 9h1.5a2.5 2.5 0 0 0 0-5H18"></path>
            <path d="M4 22h16"></path>
            <path d="M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22"></path>
            <path d="M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22"></path>
            <path d="M18 2H6v7a6 6 0 0 0 12 0V2Z"></path>
          </svg>
          <span>NOTRE STRATÉGIE</span>
        </div>
        <svg class="chevron-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <polyline points="9 18 15 12 9 6"></polyline>
        </svg>
      </a>

      <a class="nav-item" href="https://winabet.ai/apps/memberships">
        <div class="nav-item-content">
          <svg class="nav-icon" xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"></path>
            <circle cx="12" cy="7" r="4"></circle>
          </svg>
          <span>MON COMPTE</span>
        </div>
        <svg class="chevron-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <polyline points="9 18 15 12 9 6"></polyline>
        </svg>
      </a>

      <a class="nav-item" href="https://winabet.ai">
        <div class="nav-item-content">
          <svg class="nav-icon" xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"></path>
            <line x1="3" y1="6" x2="21" y2="6"></line>
            <path d="M16 10a4 4 0 0 1-8 0"></path>
          </svg>
          <span>BOUTIQUE</span>
        </div>
        <svg class="chevron-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <polyline points="9 18 15 12 9 6"></polyline>
        </svg>
      </a>

      <a class="nav-item" data-page="support" onclick="navigateTo(event, 'support')">
        <div class="nav-item-content">
          <svg class="nav-icon" xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M7.9 20A9 9 0 1 0 4 16.1L2 22Z"></path>
          </svg>
          <span>SUPPORT</span>
        </div>
        <svg class="chevron-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <polyline points="9 18 15 12 9 6"></polyline>
        </svg>
      </a>
    </nav>

    <div class="sidebar-footer">
      © 2024 WINABET.AI
    </div>
  </aside>

  <!-- Header -->
  <header class="header">
    <div class="header-logo">
      <div class="logo">
        <span class="text-foreground">WIN</span><span class="text-primary">A</span><span class="text-foreground">BET</span><span class="text-primary text-sm">.AI</span>
      </div>
    </div>
    <div class="header-ai-update">
      <div class="ai-spinner">
        <span class="ai-badge">IA</span>
      </div>
      <span class="ai-update-text">Dernière mise à jour IA : <span id="header-time">17:34</span></span>
    </div>
  </header>

  <!-- Main Content -->
  <main class="main-content">
    <!-- PAGE 1: BET DU JOUR -->
    <div id="page-bet" class="page active">
      <div class="container">
        <h1>BET DU JOUR</h1>
        <p class="subtitle">Les bet avec la meilleur probabilité de réussite aujourd'hui. Nous affichons tous les bet avec minimum de 70% de chance de gagner selon notre IA.</p>

        {% assign bet_cards = section.blocks | where: 'type', 'bet_card' %}
        {% if bet_cards.size > 0 %}
          {% for block in bet_cards %}
            {% if block.settings.show_card and block.settings.send_to_history != true %}
              <!-- AI Data Counter Above Card -->
              <div class="ai-counter-above">
                <div class="ai-spinner">
                  <span class="ai-badge">IA</span>
                </div>
                <span><span>{{ block.settings.ai_data_count | default: 2843 }}</span> DONNÉES ANALYSÉES PAR NOTRE IA POUR CE BET</span>
              </div>

              <div class="bet-card" {{ block.shopify_attributes }}>
                <!-- Confidence Badge - Bande verte 92% -->
                <div class="confidence-badge">
                  <span class="confidence-percentage">{{ block.settings.win_percentage | default: 92 }}%</span>
                  <span class="confidence-text">DE CHANCE DE GAGNER SELON NOTRE IA</span>
                  <button 
                    class="btn-analysis" 
                    onclick="openAnalysisDialog(this)"
                    data-win-percentage="{{ block.settings.win_percentage | default: 92 }}"
                    data-ai-data-count="{{ block.settings.ai_data_count | default: 2843 }}"
                    data-sport-type="{{ block.settings.sport_type | default: 'nhl' }}"
                    data-team1="{{ block.settings.team1_name | default: 'ÉQUIPE DOMICILE' }}"
                    data-team2="{{ block.settings.team2_name | default: 'ÉQUIPE EXTÉRIEUR' }}"
                    data-auto-increment="{{ block.settings.auto_increment_enabled }}"
                    data-increment-interval="{{ block.settings.auto_increment_interval | default: 5 }}"
                    data-increment-amount="{{ block.settings.auto_increment_amount | default: 5 }}"
                  >
                    VOIR<br>ANALYSE<br>IA
                  </button>
                </div>

                <div class="bet-card-content">
                  <!-- Multiplicateur de Mise -->
                  <div class="multiplier-section-label">MULTIPLICATEUR DE MISE</div>
                  <button class="multiplier-button">x{{ block.settings.multiplier | default: '1.95' }}</button>

                  <!-- Parier Sur -->
                  <div class="bet-section-label" style="margin-top: 1.5rem;">PARIER SUR</div>
                  <div class="match-info-new">
                    {% assign bet_type = block.settings.bet_type | default: 'moneyline' %}
                    
                    {% if bet_type == 'moneyline' %}
                      <!-- MONEYLINE -->
                      <div class="match-info-header">MONEYLINE</div>
                      <div class="match-info-content">
                        <div class="team-side">
                          {% if block.settings.team1_logo %}
                            <img src="{{ block.settings.team1_logo | image_url: width: 200 }}" alt="{{ block.settings.team1_name }}" class="team-logo">
                          {% else %}
                            <img src="{{ 'stlouis-logo.png' | asset_url }}" alt="{{ block.settings.team1_name }}" class="team-logo">
                          {% endif %}
                          <div class="team-name-new">{{ block.settings.team1_name | default: 'ST. LOUIS' }}</div>
                        </div>

                        <div class="match-center">
                          <div class="match-time-new">{{ block.settings.match_time | default: '7:00 PM' }}</div>
                          <div class="match-vs-new">VS</div>
                        </div>

                        <div class="team-side selected">
                          {% if block.settings.team2_logo %}
                            <img src="{{ block.settings.team2_logo | image_url: width: 200 }}" alt="{{ block.settings.team2_name }}" class="team-logo">
                          {% else %}
                            <img src="{{ 'pittsburgh-logo.png' | asset_url }}" alt="{{ block.settings.team2_name }}" class="team-logo">
                          {% endif %}
                          <div class="team-name-new">{{ block.settings.team2_name | default: 'PITTSBURGH' }}</div>
                          <div class="team-bet-type">VICTOIRE</div>
                        </div>
                      </div>
                    
                    {% elsif bet_type == 'spread' %}
                      <!-- SPREAD -->
                      <div class="match-info-header">SPREAD</div>
                      <div class="match-info-content">
                        <div class="team-side {% if block.settings.spread_team == 'team1' %}selected{% endif %}">
                          {% if block.settings.team1_logo %}
                            <img src="{{ block.settings.team1_logo | image_url: width: 200 }}" alt="{{ block.settings.team1_name }}" class="team-logo">
                          {% else %}
                            <img src="{{ 'stlouis-logo.png' | asset_url }}" alt="{{ block.settings.team1_name }}" class="team-logo">
                          {% endif %}
                          <div class="team-name-new">{{ block.settings.team1_name | default: 'ST. LOUIS' }}</div>
                          {% if block.settings.spread_team == 'team1' %}
                            <div class="team-bet-type">{{ block.settings.spread_value | default: '-3.5' }}</div>
                          {% endif %}
                        </div>

                        <div class="match-center">
                          <div class="match-time-new">{{ block.settings.match_time | default: '7:00 PM' }}</div>
                          <div class="match-vs-new">VS</div>
                        </div>

                        <div class="team-side {% if block.settings.spread_team == 'team2' %}selected{% endif %}">
                          {% if block.settings.team2_logo %}
                            <img src="{{ block.settings.team2_logo | image_url: width: 200 }}" alt="{{ block.settings.team2_name }}" class="team-logo">
                          {% else %}
                            <img src="{{ 'pittsburgh-logo.png' | asset_url }}" alt="{{ block.settings.team2_name }}" class="team-logo">
                          {% endif %}
                          <div class="team-name-new">{{ block.settings.team2_name | default: 'PITTSBURGH' }}</div>
                          {% if block.settings.spread_team == 'team2' %}
                            <div class="team-bet-type">{{ block.settings.spread_value | default: '-3.5' }}</div>
                          {% endif %}
                        </div>
                      </div>
                    
                    {% elsif bet_type == 'over_under' %}
                      <!-- OVER/UNDER -->
                      <div class="match-info-header">{{ block.settings.over_under_type | default: 'OVER' | upcase }}</div>
                      <div class="match-info-content">
                        <div class="team-side">
                          {% if block.settings.team1_logo %}
                            <img src="{{ block.settings.team1_logo | image_url: width: 200 }}" alt="{{ block.settings.team1_name }}" class="team-logo">
                          {% else %}
                            <img src="{{ 'stlouis-logo.png' | asset_url }}" alt="{{ block.settings.team1_name }}" class="team-logo">
                          {% endif %}
                          <div class="team-name-new">{{ block.settings.team1_name | default: 'ST. LOUIS' }}</div>
                        </div>

                        <div class="match-center">
                          <div class="match-time-new">{{ block.settings.match_time | default: '7:00 PM' }}</div>
                          <div class="match-vs-new">VS</div>
                          <div class="over-under-display">
                            <div class="over-under-type">{{ block.settings.over_under_type | default: 'OVER' | upcase }}</div>
                            <div class="over-under-value">{{ block.settings.over_under_value | default: '225.5' }}</div>
                            {% if block.settings.over_under_stat_type != blank %}
                              <div class="over-under-stat">{{ block.settings.over_under_stat_type }}</div>
                            {% endif %}
                          </div>
                        </div>

                        <div class="team-side">
                          {% if block.settings.team2_logo %}
                            <img src="{{ block.settings.team2_logo | image_url: width: 200 }}" alt="{{ block.settings.team2_name }}" class="team-logo">
                          {% else %}
                            <img src="{{ 'pittsburgh-logo.png' | asset_url }}" alt="{{ block.settings.team2_name }}" class="team-logo">
                          {% endif %}
                          <div class="team-name-new">{{ block.settings.team2_name | default: 'PITTSBURGH' }}</div>
                        </div>
                      </div>
                    {% endif %}
                  </div>

                  <!-- Mise -->
                  <div class="bet-section-label">MISE</div>
                  <button class="units-button">{{ block.settings.bet_units | default: '1' }} UNITS</button>

                  <!-- Votre Gain -->
                  <div class="gain-section">
                    <div class="gain-section-label">VOTRE GAIN</div>
                    <div class="gain-grid">
                      <div class="bet-modify-box">
                        <button class="modify-btn" onclick="openBetDialog(this)" data-multiplier="{{ block.settings.multiplier | default: '1.95' }}">Modifier</button>
                        <div class="bet-amount-small">Votre mise</div>
                        <div class="bet-amount-value-small">$100</div>
                      </div>
                      <div class="cashout-box-large">
                        <div class="cashout-label">CASHOUT</div>
                        <div class="cashout-amount">${{ 100 | times: block.settings.multiplier | default: 1.95 | round: 2 }}</div>
                        <div class="cashout-profit">+${{ 100 | times: block.settings.multiplier | default: 1.95 | minus: 100 | round: 2 }} bénéfice</div>
                      </div>
                    </div>
                  </div>
                </div>

                <!-- Best Odds Footer -->
                <div class="best-odds-footer">
                  <div class="best-odds-label">MEILLEUR ODDS</div>
                  <div class="bookmaker-badge">{{ block.settings.best_bookmaker | default: 'DRAFTKINGS' }}</div>
                  <div class="odds-value">{{ block.settings.best_odds | default: '-105' }}</div>
                </div>
              </div>
            {% endif %}
          {% endfor %}
        {% else %}
          <div class="card text-center" style="padding: 2rem;">
            <p style="color: rgba(255, 255, 255, 0.6);">
              Aucune carte de pari ajoutée. Utilisez l'éditeur Shopify pour ajouter vos premières recommandations de type "🎯 Carte Bet du Jour".
            </p>
          </div>
        {% endif %}
      </div>
    </div>

    <!-- PAGE 2: PARLAY DU JOUR -->
    <div id="page-parlay" class="page">
      <div class="container">
        <h1>PARLAY DU JOUR</h1>
        <p class="subtitle">Les parlay avec la meilleur probabilité de réussite aujourd'hui. Nous affichons tous les parlay avec minimum de 60% de chance de gagner selon notre IA.</p>

        {% assign has_parlay = false %}
        {% for block in section.blocks %}
          {% if block.type == 'parlay_card' and block.settings.show_card and block.settings.send_to_history != true %}
            {% assign has_parlay = true %}
              <!-- AI Data Counter Above Card -->
              <div class="ai-counter-above">
                <div class="ai-spinner">
                  <span class="ai-badge">IA</span>
                </div>
                <span><span>{{ block.settings.ai_data_count | default: 2843 }}</span> DONNÉES ANALYSÉES PAR NOTRE IA POUR CE BET</span>
              </div>

              <div class="bet-card" {{ block.shopify_attributes }}>
                <!-- Confidence Badge - Bande verte 92% -->
                <div class="confidence-badge">
                  <span class="confidence-percentage">{{ block.settings.win_percentage | default: 92 }}%</span>
                  <span class="confidence-text">DE CHANCE DE GAGNER SELON NOTRE IA</span>
                  <button 
                    class="btn-analysis" 
                    onclick="openAnalysisDialog(this)"
                    data-win-percentage="{{ block.settings.win_percentage | default: 92 }}"
                    data-ai-data-count="{{ block.settings.ai_data_count | default: 2843 }}"
                    data-sport-type="{{ block.settings.sport_type | default: 'nhl' }}"
                    data-team1="{{ block.settings.leg1_team1_name | default: 'ÉQUIPE DOMICILE' }}"
                    data-team2="{{ block.settings.leg1_team2_name | default: 'ÉQUIPE EXTÉRIEUR' }}"
                    data-auto-increment="{{ block.settings.auto_increment_enabled }}"
                    data-increment-interval="{{ block.settings.auto_increment_interval | default: 5 }}"
                    data-increment-amount="{{ block.settings.auto_increment_amount | default: 5 }}"
                  >
                    VOIR<br>ANALYSE<br>IA
                  </button>
                </div>

                <div class="bet-card-content">
                  <!-- Multiplicateur de Mise -->
                  <div class="multiplier-section-label">MULTIPLICATEUR DE MISE</div>
                  <button class="multiplier-button">x{{ block.settings.multiplier | default: '1.95' }}</button>

                  <!-- Parier Sur -->
                  <div class="bet-section-label" style="margin-top: 1.5rem;">PARIER SUR</div>
                  
                  <!-- LEG 1 -->
                  {% if block.settings.leg1_team1_name != blank %}
                  <div class="match-info-new" style="margin-bottom: 1rem;">
                    {% assign leg_bet_type = block.settings.leg1_bet_type | default: 'moneyline' %}
                    
                    {% if leg_bet_type == 'moneyline' %}
                      <div class="match-info-header">LEG 1 - MONEYLINE</div>
                      <div class="match-info-content">
                        <div class="team-side">
                          {% if block.settings.leg1_team1_logo %}
                            <img src="{{ block.settings.leg1_team1_logo | image_url: width: 200 }}" alt="{{ block.settings.leg1_team1_name }}" class="team-logo">
                          {% else %}
                            <img src="{{ 'stlouis-logo.png' | asset_url }}" alt="{{ block.settings.leg1_team1_name }}" class="team-logo">
                          {% endif %}
                          <div class="team-name-new">{{ block.settings.leg1_team1_name }}</div>
                        </div>
                        <div class="match-center">
                          <div class="match-time-new">{{ block.settings.leg1_match_time | default: '7:00 PM' }}</div>
                          <div class="match-vs-new">VS</div>
                        </div>
                        <div class="team-side selected">
                          {% if block.settings.leg1_team2_logo %}
                            <img src="{{ block.settings.leg1_team2_logo | image_url: width: 200 }}" alt="{{ block.settings.leg1_team2_name }}" class="team-logo">
                          {% else %}
                            <img src="{{ 'pittsburgh-logo.png' | asset_url }}" alt="{{ block.settings.leg1_team2_name }}" class="team-logo">
                          {% endif %}
                          <div class="team-name-new">{{ block.settings.leg1_team2_name }}</div>
                          <div class="team-bet-type">VICTOIRE</div>
                        </div>
                      </div>
                    {% elsif leg_bet_type == 'spread' %}
                      <div class="match-info-header">LEG 1 - SPREAD</div>
                      <div class="match-info-content">
                        <div class="team-side {% if block.settings.leg1_spread_team == 'team1' %}selected{% endif %}">
                          {% if block.settings.leg1_team1_logo %}
                            <img src="{{ block.settings.leg1_team1_logo | image_url: width: 200 }}" alt="{{ block.settings.leg1_team1_name }}" class="team-logo">
                          {% else %}
                            <img src="{{ 'stlouis-logo.png' | asset_url }}" alt="{{ block.settings.leg1_team1_name }}" class="team-logo">
                          {% endif %}
                          <div class="team-name-new">{{ block.settings.leg1_team1_name }}</div>
                          {% if block.settings.leg1_spread_team == 'team1' %}
                            <div class="team-bet-type">{{ block.settings.leg1_spread_value | default: '-3.5' }}</div>
                          {% endif %}
                        </div>
                        <div class="match-center">
                          <div class="match-time-new">{{ block.settings.leg1_match_time | default: '7:00 PM' }}</div>
                          <div class="match-vs-new">VS</div>
                        </div>
                        <div class="team-side {% if block.settings.leg1_spread_team == 'team2' %}selected{% endif %}">
                          {% if block.settings.leg1_team2_logo %}
                            <img src="{{ block.settings.leg1_team2_logo | image_url: width: 200 }}" alt="{{ block.settings.leg1_team2_name }}" class="team-logo">
                          {% else %}
                            <img src="{{ 'pittsburgh-logo.png' | asset_url }}" alt="{{ block.settings.leg1_team2_name }}" class="team-logo">
                          {% endif %}
                          <div class="team-name-new">{{ block.settings.leg1_team2_name }}</div>
                          {% if block.settings.leg1_spread_team == 'team2' %}
                            <div class="team-bet-type">{{ block.settings.leg1_spread_value | default: '-3.5' }}</div>
                          {% endif %}
                        </div>
                      </div>
                    {% elsif leg_bet_type == 'over_under' %}
                      <div class="match-info-header">LEG 1 - {{ block.settings.leg1_over_under_type | default: 'OVER' | upcase }}</div>
                      <div class="match-info-content">
                        <div class="team-side">
                          {% if block.settings.leg1_team1_logo %}
                            <img src="{{ block.settings.leg1_team1_logo | image_url: width: 200 }}" alt="{{ block.settings.leg1_team1_name }}" class="team-logo">
                          {% else %}
                            <img src="{{ 'stlouis-logo.png' | asset_url }}" alt="{{ block.settings.leg1_team1_name }}" class="team-logo">
                          {% endif %}
                          <div class="team-name-new">{{ block.settings.leg1_team1_name }}</div>
                        </div>
                        <div class="match-center">
                          <div class="match-time-new">{{ block.settings.leg1_match_time | default: '7:00 PM' }}</div>
                          <div class="match-vs-new">VS</div>
                          <div class="over-under-display">
                            <div class="over-under-type">{{ block.settings.leg1_over_under_type | default: 'OVER' | upcase }}</div>
                            <div class="over-under-value">{{ block.settings.leg1_over_under_value | default: '225.5' }}</div>
                            {% if block.settings.leg1_over_under_stat_type != blank %}
                              <div class="over-under-stat">{{ block.settings.leg1_over_under_stat_type }}</div>
                            {% endif %}
                          </div>
                        </div>
                        <div class="team-side">
                          {% if block.settings.leg1_team2_logo %}
                            <img src="{{ block.settings.leg1_team2_logo | image_url: width: 200 }}" alt="{{ block.settings.leg1_team2_name }}" class="team-logo">
                          {% else %}
                            <img src="{{ 'pittsburgh-logo.png' | asset_url }}" alt="{{ block.settings.leg1_team2_name }}" class="team-logo">
                          {% endif %}
                          <div class="team-name-new">{{ block.settings.leg1_team2_name }}</div>
                        </div>
                      </div>
                    {% endif %}
                  </div>
                  {% endif %}

                  <!-- LEG 2 -->
                  {% if block.settings.leg2_team1_name != blank %}
                  <div class="match-info-new" style="margin-bottom: 1rem;">
                    {% assign leg_bet_type = block.settings.leg2_bet_type | default: 'moneyline' %}
                    
                    {% if leg_bet_type == 'moneyline' %}
                      <div class="match-info-header">LEG 2 - MONEYLINE</div>
                      <div class="match-info-content">
                        <div class="team-side">
                          {% if block.settings.leg2_team1_logo %}
                            <img src="{{ block.settings.leg2_team1_logo | image_url: width: 200 }}" alt="{{ block.settings.leg2_team1_name }}" class="team-logo">
                          {% else %}
                            <img src="{{ 'stlouis-logo.png' | asset_url }}" alt="{{ block.settings.leg2_team1_name }}" class="team-logo">
                          {% endif %}
                          <div class="team-name-new">{{ block.settings.leg2_team1_name }}</div>
                        </div>
                        <div class="match-center">
                          <div class="match-time-new">{{ block.settings.leg2_match_time | default: '7:00 PM' }}</div>
                          <div class="match-vs-new">VS</div>
                        </div>
                        <div class="team-side selected">
                          {% if block.settings.leg2_team2_logo %}
                            <img src="{{ block.settings.leg2_team2_logo | image_url: width: 200 }}" alt="{{ block.settings.leg2_team2_name }}" class="team-logo">
                          {% else %}
                            <img src="{{ 'pittsburgh-logo.png' | asset_url }}" alt="{{ block.settings.leg2_team2_name }}" class="team-logo">
                          {% endif %}
                          <div class="team-name-new">{{ block.settings.leg2_team2_name }}</div>
                          <div class="team-bet-type">VICTOIRE</div>
                        </div>
                      </div>
                    {% elsif leg_bet_type == 'spread' %}
                      <div class="match-info-header">LEG 2 - SPREAD</div>
                      <div class="match-info-content">
                        <div class="team-side {% if block.settings.leg2_spread_team == 'team1' %}selected{% endif %}">
                          {% if block.settings.leg2_team1_logo %}
                            <img src="{{ block.settings.leg2_team1_logo | image_url: width: 200 }}" alt="{{ block.settings.leg2_team1_name }}" class="team-logo">
                          {% else %}
                            <img src="{{ 'stlouis-logo.png' | asset_url }}" alt="{{ block.settings.leg2_team1_name }}" class="team-logo">
                          {% endif %}
                          <div class="team-name-new">{{ block.settings.leg2_team1_name }}</div>
                          {% if block.settings.leg2_spread_team == 'team1' %}
                            <div class="team-bet-type">{{ block.settings.leg2_spread_value | default: '-3.5' }}</div>
                          {% endif %}
                        </div>
                        <div class="match-center">
                          <div class="match-time-new">{{ block.settings.leg2_match_time | default: '7:00 PM' }}</div>
                          <div class="match-vs-new">VS</div>
                        </div>
                        <div class="team-side {% if block.settings.leg2_spread_team == 'team2' %}selected{% endif %}">
                          {% if block.settings.leg2_team2_logo %}
                            <img src="{{ block.settings.leg2_team2_logo | image_url: width: 200 }}" alt="{{ block.settings.leg2_team2_name }}" class="team-logo">
                          {% else %}
                            <img src="{{ 'pittsburgh-logo.png' | asset_url }}" alt="{{ block.settings.leg2_team2_name }}" class="team-logo">
                          {% endif %}
                          <div class="team-name-new">{{ block.settings.leg2_team2_name }}</div>
                          {% if block.settings.leg2_spread_team == 'team2' %}
                            <div class="team-bet-type">{{ block.settings.leg2_spread_value | default: '-3.5' }}</div>
                          {% endif %}
                        </div>
                      </div>
                    {% elsif leg_bet_type == 'over_under' %}
                      <div class="match-info-header">LEG 2 - {{ block.settings.leg2_over_under_type | default: 'OVER' | upcase }}</div>
                      <div class="match-info-content">
                        <div class="team-side">
                          {% if block.settings.leg2_team1_logo %}
                            <img src="{{ block.settings.leg2_team1_logo | image_url: width: 200 }}" alt="{{ block.settings.leg2_team1_name }}" class="team-logo">
                          {% else %}
                            <img src="{{ 'stlouis-logo.png' | asset_url }}" alt="{{ block.settings.leg2_team1_name }}" class="team-logo">
                          {% endif %}
                          <div class="team-name-new">{{ block.settings.leg2_team1_name }}</div>
                        </div>
                        <div class="match-center">
                          <div class="match-time-new">{{ block.settings.leg2_match_time | default: '7:00 PM' }}</div>
                          <div class="match-vs-new">VS</div>
                          <div class="over-under-display">
                            <div class="over-under-type">{{ block.settings.leg2_over_under_type | default: 'OVER' | upcase }}</div>
                            <div class="over-under-value">{{ block.settings.leg2_over_under_value | default: '225.5' }}</div>
                            {% if block.settings.leg2_over_under_stat_type != blank %}
                              <div class="over-under-stat">{{ block.settings.leg2_over_under_stat_type }}</div>
                            {% endif %}
                          </div>
                        </div>
                        <div class="team-side">
                          {% if block.settings.leg2_team2_logo %}
                            <img src="{{ block.settings.leg2_team2_logo | image_url: width: 200 }}" alt="{{ block.settings.leg2_team2_name }}" class="team-logo">
                          {% else %}
                            <img src="{{ 'pittsburgh-logo.png' | asset_url }}" alt="{{ block.settings.leg2_team2_name }}" class="team-logo">
                          {% endif %}
                          <div class="team-name-new">{{ block.settings.leg2_team2_name }}</div>
                        </div>
                      </div>
                    {% endif %}
                  </div>
                  {% endif %}

                  <!-- LEG 3 à LEG 10: Structure similaire mais trop longue, je vais créer une approche compacte ci-dessous -->
                  
                  {% for i in (3..10) %}
                    {% case i %}
                      {% when 3 %}
                        {% assign team1_name = block.settings.leg3_team1_name %}
                        {% assign team1_logo = block.settings.leg3_team1_logo %}
                        {% assign team2_name = block.settings.leg3_team2_name %}
                        {% assign team2_logo = block.settings.leg3_team2_logo %}
                        {% assign match_time = block.settings.leg3_match_time %}
                        {% assign leg_bet_type = block.settings.leg3_bet_type %}
                        {% assign spread_value = block.settings.leg3_spread_value %}
                        {% assign spread_team = block.settings.leg3_spread_team %}
                        {% assign over_under_type = block.settings.leg3_over_under_type %}
                        {% assign over_under_value = block.settings.leg3_over_under_value %}
                        {% assign over_under_stat_type = block.settings.leg3_over_under_stat_type %}
                      {% when 4 %}
                        {% assign team1_name = block.settings.leg4_team1_name %}
                        {% assign team1_logo = block.settings.leg4_team1_logo %}
                        {% assign team2_name = block.settings.leg4_team2_name %}
                        {% assign team2_logo = block.settings.leg4_team2_logo %}
                        {% assign match_time = block.settings.leg4_match_time %}
                        {% assign leg_bet_type = block.settings.leg4_bet_type %}
                        {% assign spread_value = block.settings.leg4_spread_value %}
                        {% assign spread_team = block.settings.leg4_spread_team %}
                        {% assign over_under_type = block.settings.leg4_over_under_type %}
                        {% assign over_under_value = block.settings.leg4_over_under_value %}
                        {% assign over_under_stat_type = block.settings.leg4_over_under_stat_type %}
                      {% when 5 %}
                        {% assign team1_name = block.settings.leg5_team1_name %}
                        {% assign team1_logo = block.settings.leg5_team1_logo %}
                        {% assign team2_name = block.settings.leg5_team2_name %}
                        {% assign team2_logo = block.settings.leg5_team2_logo %}
                        {% assign match_time = block.settings.leg5_match_time %}
                        {% assign leg_bet_type = block.settings.leg5_bet_type %}
                        {% assign spread_value = block.settings.leg5_spread_value %}
                        {% assign spread_team = block.settings.leg5_spread_team %}
                        {% assign over_under_type = block.settings.leg5_over_under_type %}
                        {% assign over_under_value = block.settings.leg5_over_under_value %}
                        {% assign over_under_stat_type = block.settings.leg5_over_under_stat_type %}
                      {% when 6 %}
                        {% assign team1_name = block.settings.leg6_team1_name %}
                        {% assign team1_logo = block.settings.leg6_team1_logo %}
                        {% assign team2_name = block.settings.leg6_team2_name %}
                        {% assign team2_logo = block.settings.leg6_team2_logo %}
                        {% assign match_time = block.settings.leg6_match_time %}
                        {% assign leg_bet_type = block.settings.leg6_bet_type %}
                        {% assign spread_value = block.settings.leg6_spread_value %}
                        {% assign spread_team = block.settings.leg6_spread_team %}
                        {% assign over_under_type = block.settings.leg6_over_under_type %}
                        {% assign over_under_value = block.settings.leg6_over_under_value %}
                        {% assign over_under_stat_type = block.settings.leg6_over_under_stat_type %}
                      {% when 7 %}
                        {% assign team1_name = block.settings.leg7_team1_name %}
                        {% assign team1_logo = block.settings.leg7_team1_logo %}
                        {% assign team2_name = block.settings.leg7_team2_name %}
                        {% assign team2_logo = block.settings.leg7_team2_logo %}
                        {% assign match_time = block.settings.leg7_match_time %}
                        {% assign leg_bet_type = block.settings.leg7_bet_type %}
                        {% assign spread_value = block.settings.leg7_spread_value %}
                        {% assign spread_team = block.settings.leg7_spread_team %}
                        {% assign over_under_type = block.settings.leg7_over_under_type %}
                        {% assign over_under_value = block.settings.leg7_over_under_value %}
                        {% assign over_under_stat_type = block.settings.leg7_over_under_stat_type %}
                      {% when 8 %}
                        {% assign team1_name = block.settings.leg8_team1_name %}
                        {% assign team1_logo = block.settings.leg8_team1_logo %}
                        {% assign team2_name = block.settings.leg8_team2_name %}
                        {% assign team2_logo = block.settings.leg8_team2_logo %}
                        {% assign match_time = block.settings.leg8_match_time %}
                        {% assign leg_bet_type = block.settings.leg8_bet_type %}
                        {% assign spread_value = block.settings.leg8_spread_value %}
                        {% assign spread_team = block.settings.leg8_spread_team %}
                        {% assign over_under_type = block.settings.leg8_over_under_type %}
                        {% assign over_under_value = block.settings.leg8_over_under_value %}
                        {% assign over_under_stat_type = block.settings.leg8_over_under_stat_type %}
                      {% when 9 %}
                        {% assign team1_name = block.settings.leg9_team1_name %}
                        {% assign team1_logo = block.settings.leg9_team1_logo %}
                        {% assign team2_name = block.settings.leg9_team2_name %}
                        {% assign team2_logo = block.settings.leg9_team2_logo %}
                        {% assign match_time = block.settings.leg9_match_time %}
                        {% assign leg_bet_type = block.settings.leg9_bet_type %}
                        {% assign spread_value = block.settings.leg9_spread_value %}
                        {% assign spread_team = block.settings.leg9_spread_team %}
                        {% assign over_under_type = block.settings.leg9_over_under_type %}
                        {% assign over_under_value = block.settings.leg9_over_under_value %}
                        {% assign over_under_stat_type = block.settings.leg9_over_under_stat_type %}
                      {% when 10 %}
                        {% assign team1_name = block.settings.leg10_team1_name %}
                        {% assign team1_logo = block.settings.leg10_team1_logo %}
                        {% assign team2_name = block.settings.leg10_team2_name %}
                        {% assign team2_logo = block.settings.leg10_team2_logo %}
                        {% assign match_time = block.settings.leg10_match_time %}
                        {% assign leg_bet_type = block.settings.leg10_bet_type %}
                        {% assign spread_value = block.settings.leg10_spread_value %}
                        {% assign spread_team = block.settings.leg10_spread_team %}
                        {% assign over_under_type = block.settings.leg10_over_under_type %}
                        {% assign over_under_value = block.settings.leg10_over_under_value %}
                        {% assign over_under_stat_type = block.settings.leg10_over_under_stat_type %}
                    {% endcase %}
                    
                    {% if team1_name != blank %}
                    <div class="match-info-new" style="margin-bottom: 1rem;">
                      {% assign current_leg_bet_type = leg_bet_type | default: 'moneyline' %}
                      
                      {% if current_leg_bet_type == 'moneyline' %}
                        <div class="match-info-header">LEG {{ i }} - MONEYLINE</div>
                        <div class="match-info-content">
                          <div class="team-side">
                            {% if team1_logo %}
                              <img src="{{ team1_logo | image_url: width: 200 }}" alt="{{ team1_name }}" class="team-logo">
                            {% else %}
                              <img src="{{ 'stlouis-logo.png' | asset_url }}" alt="{{ team1_name }}" class="team-logo">
                            {% endif %}
                            <div class="team-name-new">{{ team1_name }}</div>
                          </div>
                          <div class="match-center">
                            <div class="match-time-new">{{ match_time | default: '7:00 PM' }}</div>
                            <div class="match-vs-new">VS</div>
                          </div>
                          <div class="team-side selected">
                            {% if team2_logo %}
                              <img src="{{ team2_logo | image_url: width: 200 }}" alt="{{ team2_name }}" class="team-logo">
                            {% else %}
                              <img src="{{ 'pittsburgh-logo.png' | asset_url }}" alt="{{ team2_name }}" class="team-logo">
                            {% endif %}
                            <div class="team-name-new">{{ team2_name }}</div>
                            <div class="team-bet-type">VICTOIRE</div>
                          </div>
                        </div>
                      {% elsif current_leg_bet_type == 'spread' %}
                        <div class="match-info-header">LEG {{ i }} - SPREAD</div>
                        <div class="match-info-content">
                          <div class="team-side {% if spread_team == 'team1' %}selected{% endif %}">
                            {% if team1_logo %}
                              <img src="{{ team1_logo | image_url: width: 200 }}" alt="{{ team1_name }}" class="team-logo">
                            {% else %}
                              <img src="{{ 'stlouis-logo.png' | asset_url }}" alt="{{ team1_name }}" class="team-logo">
                            {% endif %}
                            <div class="team-name-new">{{ team1_name }}</div>
                            {% if spread_team == 'team1' %}
                              <div class="team-bet-type">{{ spread_value | default: '-3.5' }}</div>
                            {% endif %}
                          </div>
                          <div class="match-center">
                            <div class="match-time-new">{{ match_time | default: '7:00 PM' }}</div>
                            <div class="match-vs-new">VS</div>
                          </div>
                          <div class="team-side {% if spread_team == 'team2' %}selected{% endif %}">
                            {% if team2_logo %}
                              <img src="{{ team2_logo | image_url: width: 200 }}" alt="{{ team2_name }}" class="team-logo">
                            {% else %}
                              <img src="{{ 'pittsburgh-logo.png' | asset_url }}" alt="{{ team2_name }}" class="team-logo">
                            {% endif %}
                            <div class="team-name-new">{{ team2_name }}</div>
                            {% if spread_team == 'team2' %}
                              <div class="team-bet-type">{{ spread_value | default: '-3.5' }}</div>
                            {% endif %}
                          </div>
                        </div>
                      {% elsif current_leg_bet_type == 'over_under' %}
                        <div class="match-info-header">LEG {{ i }} - {{ over_under_type | default: 'OVER' | upcase }}</div>
                        <div class="match-info-content">
                          <div class="team-side">
                            {% if team1_logo %}
                              <img src="{{ team1_logo | image_url: width: 200 }}" alt="{{ team1_name }}" class="team-logo">
                            {% else %}
                              <img src="{{ 'stlouis-logo.png' | asset_url }}" alt="{{ team1_name }}" class="team-logo">
                            {% endif %}
                            <div class="team-name-new">{{ team1_name }}</div>
                          </div>
                          <div class="match-center">
                            <div class="match-time-new">{{ match_time | default: '7:00 PM' }}</div>
                            <div class="match-vs-new">VS</div>
                            <div class="over-under-display">
                              <div class="over-under-type">{{ over_under_type | default: 'OVER' | upcase }}</div>
                              <div class="over-under-value">{{ over_under_value | default: '225.5' }}</div>
                              {% if over_under_stat_type != blank %}
                                <div class="over-under-stat">{{ over_under_stat_type }}</div>
                              {% endif %}
                            </div>
                          </div>
                          <div class="team-side">
                            {% if team2_logo %}
                              <img src="{{ team2_logo | image_url: width: 200 }}" alt="{{ team2_name }}" class="team-logo">
                            {% else %}
                              <img src="{{ 'pittsburgh-logo.png' | asset_url }}" alt="{{ team2_name }}" class="team-logo">
                            {% endif %}
                            <div class="team-name-new">{{ team2_name }}</div>
                          </div>
                        </div>
                      {% endif %}
                    </div>
                    {% endif %}
                  {% endfor %}

                  <!-- Mise -->
                  <div class="bet-section-label">MISE</div>
                  <button class="units-button">{{ block.settings.bet_units | default: '1' }} UNITS</button>

                  <!-- Votre Gain -->
                  <div class="gain-section">
                    <div class="gain-section-label">VOTRE GAIN</div>
                    <div class="gain-grid">
                      <div class="bet-modify-box">
                        <button class="modify-btn" onclick="openBetDialog(this)" data-multiplier="{{ block.settings.multiplier | default: '1.95' }}">Modifier</button>
                        <div class="bet-amount-small">Votre mise</div>
                        <div class="bet-amount-value-small">$100</div>
                      </div>
                      <div class="cashout-box-large">
                        <div class="cashout-label">CASHOUT</div>
                        <div class="cashout-amount">${{ 100 | times: block.settings.multiplier | default: 1.95 | round: 2 }}</div>
                        <div class="cashout-profit">+${{ 100 | times: block.settings.multiplier | default: 1.95 | minus: 100 | round: 2 }} bénéfice</div>
                      </div>
                    </div>
                  </div>
                </div>

                <!-- Best Odds Footer -->
                <div class="best-odds-footer">
                  <div class="best-odds-label">MEILLEUR ODDS</div>
                  <div class="bookmaker-badge">{{ block.settings.best_bookmaker | default: 'DRAFTKINGS' }}</div>
                  <div class="odds-value">{{ block.settings.best_odds | default: '-105' }}</div>
                </div>
              </div>
          {% endif %}
        {% endfor %}
        {% if has_parlay == false %}
          <div class="card text-center" style="padding: 2rem;">
            <p style="color: rgba(255, 255, 255, 0.6);">
              Aucune carte de parlay ajoutée. Utilisez l'éditeur Shopify pour ajouter vos premières recommandations de type "🎲 Carte Parlay".
            </p>
          </div>
        {% endif %}
      </div>
    </div>

    <!-- PAGE 3: HISTORIQUE BET DU JOUR -->
    <div id="page-historique-bet" class="page">
      <div class="container">
        <h1>HISTORIQUE BET DU JOUR</h1>
        <p class="subtitle">Consultez l'historique des bets du jour de winabet.ai</p>

        {% assign history_bets = section.blocks | where: 'type', 'bet_card' %}
        {% assign has_history = false %}
        
        {% for block in history_bets %}
          {% if block.settings.send_to_history == true %}
            {% assign has_history = true %}
            {% assign bet_type = block.settings.bet_type | default: 'moneyline' %}
            
            <!-- Calcul des units -->
            {% if block.settings.result == 'win' %}
              {% assign units_value = block.settings.multiplier | default: 1.74 | minus: 1 %}
              {% assign units_display = units_value | round: 2 %}
              {% assign units_text = "+" | append: units_display | append: " UNITS" %}
              {% assign units_color = "#22c55e" %}
            {% elsif block.settings.result == 'loose' %}
              {% assign units_text = "-1.00 UNITS" %}
              {% assign units_color = "#ef4444" %}
            {% else %}
              {% assign units_text = "EN ATTENTE" %}
              {% assign units_color = "#f59e0b" %}
            {% endif %}

            <!-- Badge UNITS au-dessus de la carte (même largeur) -->
            <div style="max-width: 32rem; margin: 2rem auto 0.5rem; padding: 0 2rem;">
              <div style="background: {{ units_color }}; color: #ffffff; padding: 1rem 2rem; border-radius: 0.5rem; font-size: 1.5rem; font-weight: 700; text-align: center;">
                {{ units_text }}
              </div>
            </div>

            <!-- Carte historique simplifiée -->
            <div style="background: #000000; border: 2px solid {{ units_color }}; border-radius: 1rem; padding: 2rem; margin: 0 auto 2rem; max-width: 32rem;" {{ block.shopify_attributes }}>
              
              <!-- Date -->
              <div style="text-align: center; color: rgba(255, 255, 255, 0.7); font-size: 1rem; margin-bottom: 1.5rem;">
                {{ block.settings.match_date | default: "10/30/2025" }}
              </div>

              {% if bet_type == 'moneyline' %}
                <!-- MONEYLINE -->
                <div style="text-align: center; color: rgba(255, 255, 255, 0.7); font-size: 1.125rem; font-weight: 600; margin-bottom: 1rem;">MONEYLINE</div>
                <div style="display: flex; align-items: center; justify-content: space-between; gap: 1rem;">
                  <div style="text-align: center; flex: 1;">
                    <div style="width: 5rem; height: 5rem; border-radius: 50%; background: #ffffff; display: flex; align-items: center; justify-content: center; margin: 0 auto 0.5rem; padding: 0.75rem;">
                      {% if block.settings.team1_logo %}
                        <img src="{{ block.settings.team1_logo | image_url: width: 300 }}" alt="{{ block.settings.team1_name }}" style="width: 100%; height: 100%; object-fit: contain;">
                      {% else %}
                        <img src="{{ 'vegas-logo.png' | asset_url }}" alt="{{ block.settings.team1_name }}" style="width: 100%; height: 100%; object-fit: contain;">
                      {% endif %}
                    </div>
                    <div style="font-size: 0.875rem; font-weight: 600; color: #ffffff;">{{ block.settings.team1_name | default: 'VEGAS' }}</div>
                  </div>

                  <div style="text-align: center;">
                    <div style="font-size: 1.5rem; font-weight: 700; color: rgba(255, 255, 255, 0.5);">VS</div>
                  </div>

                  <div style="text-align: center; flex: 1;">
                    <div style="width: 5rem; height: 5rem; border-radius: 50%; background: #ffffff; display: flex; align-items: center; justify-content: center; margin: 0 auto 0.5rem; padding: 0.75rem; {% if block.settings.result == 'win' %}border: 3px solid #22c55e;{% endif %}">
                      {% if block.settings.team2_logo %}
                        <img src="{{ block.settings.team2_logo | image_url: width: 300 }}" alt="{{ block.settings.team2_name }}" style="width: 100%; height: 100%; object-fit: contain;">
                      {% else %}
                        <img src="{{ 'tampa-logo.png' | asset_url }}" alt="{{ block.settings.team2_name }}" style="width: 100%; height: 100%; object-fit: contain;">
                      {% endif %}
                    </div>
                    <div style="font-size: 0.875rem; font-weight: 600; color: #ffffff;">{{ block.settings.team2_name | default: 'TAMPA BAY' }}</div>
                    <div style="font-size: 1rem; font-weight: 700; color: {{ units_color }}; margin-top: 0.5rem;">VICTOIRE</div>
                  </div>
                </div>

              {% elsif bet_type == 'spread' %}
                <!-- SPREAD -->
                <div style="text-align: center; color: rgba(255, 255, 255, 0.7); font-size: 1.125rem; font-weight: 600; margin-bottom: 1rem;">SPREAD</div>
                <div style="display: flex; align-items: center; justify-content: space-between; gap: 1rem;">
                  <div style="text-align: center; flex: 1;">
                    <div style="width: 5rem; height: 5rem; border-radius: 50%; background: #ffffff; display: flex; align-items: center; justify-content: center; margin: 0 auto 0.5rem; padding: 0.75rem; {% if block.settings.result == 'win' and block.settings.spread_team == 'team1' %}border: 3px solid #22c55e;{% endif %}">
                      {% if block.settings.team1_logo %}
                        <img src="{{ block.settings.team1_logo | image_url: width: 300 }}" alt="{{ block.settings.team1_name }}" style="width: 100%; height: 100%; object-fit: contain;">
                      {% else %}
                        <img src="{{ 'vegas-logo.png' | asset_url }}" alt="{{ block.settings.team1_name }}" style="width: 100%; height: 100%; object-fit: contain;">
                      {% endif %}
                    </div>
                    <div style="font-size: 0.875rem; font-weight: 600; color: #ffffff;">{{ block.settings.team1_name | default: 'VEGAS' }}</div>
                    {% if block.settings.spread_team == 'team1' %}
                      <div style="font-size: 1rem; font-weight: 700; color: {{ units_color }}; margin-top: 0.5rem;">{{ block.settings.spread_value | default: '-3.5' }}</div>
                    {% endif %}
                  </div>

                  <div style="text-align: center;">
                    <div style="font-size: 1.5rem; font-weight: 700; color: rgba(255, 255, 255, 0.5);">VS</div>
                  </div>

                  <div style="text-align: center; flex: 1;">
                    <div style="width: 5rem; height: 5rem; border-radius: 50%; background: #ffffff; display: flex; align-items: center; justify-content: center; margin: 0 auto 0.5rem; padding: 0.75rem; {% if block.settings.result == 'win' and block.settings.spread_team == 'team2' %}border: 3px solid #22c55e;{% endif %}">
                      {% if block.settings.team2_logo %}
                        <img src="{{ block.settings.team2_logo | image_url: width: 300 }}" alt="{{ block.settings.team2_name }}" style="width: 100%; height: 100%; object-fit: contain;">
                      {% else %}
                        <img src="{{ 'tampa-logo.png' | asset_url }}" alt="{{ block.settings.team2_name }}" style="width: 100%; height: 100%; object-fit: contain;">
                      {% endif %}
                    </div>
                    <div style="font-size: 0.875rem; font-weight: 600; color: #ffffff;">{{ block.settings.team2_name | default: 'TAMPA BAY' }}</div>
                    {% if block.settings.spread_team == 'team2' %}
                      <div style="font-size: 1rem; font-weight: 700; color: {{ units_color }}; margin-top: 0.5rem;">{{ block.settings.spread_value | default: '-3.5' }}</div>
                    {% endif %}
                  </div>
                </div>

              {% elsif bet_type == 'over_under' %}
                <!-- OVER/UNDER -->
                <div style="text-align: center; color: rgba(255, 255, 255, 0.7); font-size: 1.125rem; font-weight: 600; margin-bottom: 1rem;">{{ block.settings.over_under_type | default: 'OVER' | upcase }}</div>
                <div style="display: flex; align-items: center; justify-content: space-between; gap: 1rem;">
                  <div style="text-align: center; flex: 1;">
                    <div style="width: 5rem; height: 5rem; border-radius: 50%; background: #ffffff; display: flex; align-items: center; justify-content: center; margin: 0 auto 0.5rem; padding: 0.75rem;">
                      {% if block.settings.team1_logo %}
                        <img src="{{ block.settings.team1_logo | image_url: width: 300 }}" alt="{{ block.settings.team1_name }}" style="width: 100%; height: 100%; object-fit: contain;">
                      {% else %}
                        <img src="{{ 'vegas-logo.png' | asset_url }}" alt="{{ block.settings.team1_name }}" style="width: 100%; height: 100%; object-fit: contain;">
                      {% endif %}
                    </div>
                    <div style="font-size: 0.875rem; font-weight: 600; color: #ffffff;">{{ block.settings.team1_name | default: 'VEGAS' }}</div>
                  </div>

                  <div style="text-align: center;">
                    <div style="font-size: 1.5rem; font-weight: 700; color: rgba(255, 255, 255, 0.5);">VS</div>
                    <div style="margin-top: 0.75rem;">
                      <div style="font-size: 1rem; font-weight: 700; color: {{ units_color }};">{{ block.settings.over_under_type | default: 'OVER' | upcase }}</div>
                      <div style="font-size: 1.25rem; font-weight: 700; color: {{ units_color }}; margin-top: 0.25rem;">{{ block.settings.over_under_value | default: '225.5' }}</div>
                      {% if block.settings.over_under_stat_type != blank %}
                        <div style="font-size: 0.75rem; color: {{ units_color }}; margin-top: 0.25rem;">{{ block.settings.over_under_stat_type }}</div>
                      {% endif %}
                    </div>
                  </div>

                  <div style="text-align: center; flex: 1;">
                    <div style="width: 5rem; height: 5rem; border-radius: 50%; background: #ffffff; display: flex; align-items: center; justify-content: center; margin: 0 auto 0.5rem; padding: 0.75rem;">
                      {% if block.settings.team2_logo %}
                        <img src="{{ block.settings.team2_logo | image_url: width: 300 }}" alt="{{ block.settings.team2_name }}" style="width: 100%; height: 100%; object-fit: contain;">
                      {% else %}
                        <img src="{{ 'tampa-logo.png' | asset_url }}" alt="{{ block.settings.team2_name }}" style="width: 100%; height: 100%; object-fit: contain;">
                      {% endif %}
                    </div>
                    <div style="font-size: 0.875rem; font-weight: 600; color: #ffffff;">{{ block.settings.team2_name | default: 'TAMPA BAY' }}</div>
                  </div>
                </div>
              {% endif %}

            </div>
          {% endif %}
        {% endfor %}

        {% unless has_history %}
          <div class="card text-center" style="padding: 2rem;">
            <p style="color: rgba(255, 255, 255, 0.6);">
              Aucun pari dans l'historique. Marquez vos paris terminés avec "Envoyer à l'historique" dans l'éditeur Shopify.
            </p>
          </div>
        {% endunless %}
      </div>
    </div>

    <!-- PAGE 4: HISTORIQUE PARLAY DU JOUR -->
    <div id="page-historique-parlay" class="page">
      <div class="container">
        <h1>HISTORIQUE PARLAY DU JOUR</h1>
        <p class="subtitle">Consultez l'historique des paris combinés du jour de winabet.ai</p>

        {% assign history_parlays = section.blocks | where: 'type', 'parlay_card' %}
        {% assign has_history = false %}
        
        {% for block in history_parlays %}
          {% if block.settings.send_to_history == true %}
            {% assign has_history = true %}
            
            <!-- Calcul des units pour le parlay -->
            {% if block.settings.result == 'win' %}
              {% assign units_value = block.settings.multiplier | default: 5.24 | minus: 1 %}
              {% assign units_display = units_value | round: 2 %}
              {% assign units_text = "+" | append: units_display | append: " UNITS" %}
              {% assign units_color = "#22c55e" %}
            {% elsif block.settings.result == 'loose' %}
              {% assign units_text = "-1.00 UNITS" %}
              {% assign units_color = "#ef4444" %}
            {% else %}
              {% assign units_text = "EN ATTENTE" %}
              {% assign units_color = "#f59e0b" %}
            {% endif %}

            <!-- Badge UNITS au-dessus de la carte (même largeur) -->
            <div style="max-width: 32rem; margin: 2rem auto 0.5rem; padding: 0 2rem;">
              <div style="background: {{ units_color }}; color: #ffffff; padding: 1rem 2rem; border-radius: 0.5rem; font-size: 1.5rem; font-weight: 700; text-align: center;">
                {{ units_text }}
              </div>
            </div>

            <!-- Date -->
            <div style="max-width: 32rem; margin: 0 auto 0.5rem; text-align: center; color: rgba(255, 255, 255, 0.7); font-size: 1rem;">
              {{ block.settings.parlay_date | default: "10/30/2025" }}
            </div>

            <!-- LEG 1 -->
            {% if block.settings.leg1_team1_name != blank %}
              {% assign leg_bet_type = block.settings.leg1_bet_type | default: 'moneyline' %}
              <div style="background: #000000; border: 2px solid {{ units_color }}; border-radius: 1rem; padding: 2rem; margin: 0 auto 1rem; max-width: 32rem;">
                {% if leg_bet_type == 'moneyline' %}
                  <!-- MONEYLINE -->
                  <div style="text-align: center; color: rgba(255, 255, 255, 0.7); font-size: 1.125rem; font-weight: 600; margin-bottom: 1rem;">MONEYLINE</div>
                  <div style="display: flex; align-items: center; justify-content: space-between; gap: 1rem;">
                    <div style="text-align: center; flex: 1;">
                      <div style="width: 5rem; height: 5rem; border-radius: 50%; background: #ffffff; display: flex; align-items: center; justify-content: center; margin: 0 auto 0.5rem; padding: 0.75rem;">
                        {% if block.settings.leg1_team1_logo %}
                          <img src="{{ block.settings.leg1_team1_logo | image_url: width: 300 }}" alt="{{ block.settings.leg1_team1_name }}" style="width: 100%; height: 100%; object-fit: contain;">
                        {% else %}
                          <img src="{{ 'vegas-logo.png' | asset_url }}" alt="{{ block.settings.leg1_team1_name }}" style="width: 100%; height: 100%; object-fit: contain;">
                        {% endif %}
                      </div>
                      <div style="font-size: 0.875rem; font-weight: 600; color: #ffffff;">{{ block.settings.leg1_team1_name | default: 'VEGAS' }}</div>
                    </div>

                    <div style="text-align: center;">
                      <div style="font-size: 1.5rem; font-weight: 700; color: rgba(255, 255, 255, 0.5);">VS</div>
                    </div>

                    <div style="text-align: center; flex: 1;">
                      <div style="width: 5rem; height: 5rem; border-radius: 50%; background: #ffffff; display: flex; align-items: center; justify-content: center; margin: 0 auto 0.5rem; padding: 0.75rem; {% if block.settings.result == 'win' %}border: 3px solid #22c55e;{% endif %}">
                        {% if block.settings.leg1_team2_logo %}
                          <img src="{{ block.settings.leg1_team2_logo | image_url: width: 300 }}" alt="{{ block.settings.leg1_team2_name }}" style="width: 100%; height: 100%; object-fit: contain;">
                        {% else %}
                          <img src="{{ 'tampa-logo.png' | asset_url }}" alt="{{ block.settings.leg1_team2_name }}" style="width: 100%; height: 100%; object-fit: contain;">
                        {% endif %}
                      </div>
                      <div style="font-size: 0.875rem; font-weight: 600; color: #ffffff;">{{ block.settings.leg1_team2_name | default: 'TAMPA BAY' }}</div>
                      <div style="font-size: 1rem; font-weight: 700; color: {{ units_color }}; margin-top: 0.5rem;">VICTOIRE</div>
                    </div>
                  </div>

                {% elsif leg_bet_type == 'spread' %}
                  <!-- SPREAD -->
                  <div style="text-align: center; color: rgba(255, 255, 255, 0.7); font-size: 1.125rem; font-weight: 600; margin-bottom: 1rem;">SPREAD</div>
                  <div style="display: flex; align-items: center; justify-content: space-between; gap: 1rem;">
                    <div style="text-align: center; flex: 1;">
                      <div style="width: 5rem; height: 5rem; border-radius: 50%; background: #ffffff; display: flex; align-items: center; justify-content: center; margin: 0 auto 0.5rem; padding: 0.75rem; {% if block.settings.result == 'win' and block.settings.leg1_spread_team == 'team1' %}border: 3px solid #22c55e;{% endif %}">
                        {% if block.settings.leg1_team1_logo %}
                          <img src="{{ block.settings.leg1_team1_logo | image_url: width: 300 }}" alt="{{ block.settings.leg1_team1_name }}" style="width: 100%; height: 100%; object-fit: contain;">
                        {% else %}
                          <img src="{{ 'vegas-logo.png' | asset_url }}" alt="{{ block.settings.leg1_team1_name }}" style="width: 100%; height: 100%; object-fit: contain;">
                        {% endif %}
                      </div>
                      <div style="font-size: 0.875rem; font-weight: 600; color: #ffffff;">{{ block.settings.leg1_team1_name | default: 'VEGAS' }}</div>
                      {% if block.settings.leg1_spread_team == 'team1' %}
                        <div style="font-size: 1rem; font-weight: 700; color: {{ units_color }}; margin-top: 0.5rem;">{{ block.settings.leg1_spread_value | default: '-3.5' }}</div>
                      {% endif %}
                    </div>

                    <div style="text-align: center;">
                      <div style="font-size: 1.5rem; font-weight: 700; color: rgba(255, 255, 255, 0.5);">VS</div>
                    </div>

                    <div style="text-align: center; flex: 1;">
                      <div style="width: 5rem; height: 5rem; border-radius: 50%; background: #ffffff; display: flex; align-items: center; justify-content: center; margin: 0 auto 0.5rem; padding: 0.75rem; {% if block.settings.result == 'win' and block.settings.leg1_spread_team == 'team2' %}border: 3px solid #22c55e;{% endif %}">
                        {% if block.settings.leg1_team2_logo %}
                          <img src="{{ block.settings.leg1_team2_logo | image_url: width: 300 }}" alt="{{ block.settings.leg1_team2_name }}" style="width: 100%; height: 100%; object-fit: contain;">
                        {% else %}
                          <img src="{{ 'tampa-logo.png' | asset_url }}" alt="{{ block.settings.leg1_team2_name }}" style="width: 100%; height: 100%; object-fit: contain;">
                        {% endif %}
                      </div>
                      <div style="font-size: 0.875rem; font-weight: 600; color: #ffffff;">{{ block.settings.leg1_team2_name | default: 'TAMPA BAY' }}</div>
                      {% if block.settings.leg1_spread_team == 'team2' %}
                        <div style="font-size: 1rem; font-weight: 700; color: {{ units_color }}; margin-top: 0.5rem;">{{ block.settings.leg1_spread_value | default: '-3.5' }}</div>
                      {% endif %}
                    </div>
                  </div>

                {% elsif leg_bet_type == 'over_under' %}
                  <!-- OVER/UNDER -->
                  <div style="text-align: center; color: rgba(255, 255, 255, 0.7); font-size: 1.125rem; font-weight: 600; margin-bottom: 1rem;">{{ block.settings.leg1_over_under_type | default: 'OVER' | upcase }}</div>
                  <div style="display: flex; align-items: center; justify-content: space-between; gap: 1rem;">
                    <div style="text-align: center; flex: 1;">
                      <div style="width: 5rem; height: 5rem; border-radius: 50%; background: #ffffff; display: flex; align-items: center; justify-content: center; margin: 0 auto 0.5rem; padding: 0.75rem;">
                        {% if block.settings.leg1_team1_logo %}
                          <img src="{{ block.settings.leg1_team1_logo | image_url: width: 300 }}" alt="{{ block.settings.leg1_team1_name }}" style="width: 100%; height: 100%; object-fit: contain;">
                        {% else %}
                          <img src="{{ 'vegas-logo.png' | asset_url }}" alt="{{ block.settings.leg1_team1_name }}" style="width: 100%; height: 100%; object-fit: contain;">
                        {% endif %}
                      </div>
                      <div style="font-size: 0.875rem; font-weight: 600; color: #ffffff;">{{ block.settings.leg1_team1_name | default: 'VEGAS' }}</div>
                    </div>

                    <div style="text-align: center;">
                      <div style="font-size: 1.5rem; font-weight: 700; color: rgba(255, 255, 255, 0.5);">VS</div>
                      <div style="margin-top: 0.75rem;">
                        <div style="font-size: 1rem; font-weight: 700; color: {{ units_color }};">{{ block.settings.leg1_over_under_type | default: 'OVER' | upcase }}</div>
                        <div style="font-size: 1.25rem; font-weight: 700; color: {{ units_color }}; margin-top: 0.25rem;">{{ block.settings.leg1_over_under_value | default: '225.5' }}</div>
                        {% if block.settings.leg1_over_under_stat_type != blank %}
                          <div style="font-size: 0.75rem; color: {{ units_color }}; margin-top: 0.25rem;">{{ block.settings.leg1_over_under_stat_type }}</div>
                        {% endif %}
                      </div>
                    </div>

                    <div style="text-align: center; flex: 1;">
                      <div style="width: 5rem; height: 5rem; border-radius: 50%; background: #ffffff; display: flex; align-items: center; justify-content: center; margin: 0 auto 0.5rem; padding: 0.75rem;">
                        {% if block.settings.leg1_team2_logo %}
                          <img src="{{ block.settings.leg1_team2_logo | image_url: width: 300 }}" alt="{{ block.settings.leg1_team2_name }}" style="width: 100%; height: 100%; object-fit: contain;">
                        {% else %}
                          <img src="{{ 'tampa-logo.png' | asset_url }}" alt="{{ block.settings.leg1_team2_name }}" style="width: 100%; height: 100%; object-fit: contain;">
                        {% endif %}
                      </div>
                      <div style="font-size: 0.875rem; font-weight: 600; color: #ffffff;">{{ block.settings.leg1_team2_name | default: 'TAMPA BAY' }}</div>
                    </div>
                  </div>
                {% endif %}
              </div>
            {% endif %}

            <!-- LEG 2 -->
            {% if block.settings.leg2_team1_name != blank %}
              {% assign leg_bet_type = block.settings.leg2_bet_type | default: 'moneyline' %}
              <div style="background: #000000; border: 2px solid {{ units_color }}; border-radius: 1rem; padding: 2rem; margin: 0 auto 1rem; max-width: 32rem;">
                {% if leg_bet_type == 'moneyline' %}
                  <div style="text-align: center; color: rgba(255, 255, 255, 0.7); font-size: 1.125rem; font-weight: 600; margin-bottom: 1rem;">MONEYLINE</div>
                  <div style="display: flex; align-items: center; justify-content: space-between; gap: 1rem;">
                    <div style="text-align: center; flex: 1;">
                      <div style="width: 5rem; height: 5rem; border-radius: 50%; background: #ffffff; display: flex; align-items: center; justify-content: center; margin: 0 auto 0.5rem; padding: 0.75rem;">
                        {% if block.settings.leg2_team1_logo %}
                          <img src="{{ block.settings.leg2_team1_logo | image_url: width: 300 }}" alt="{{ block.settings.leg2_team1_name }}" style="width: 100%; height: 100%; object-fit: contain;">
                        {% endif %}
                      </div>
                      <div style="font-size: 0.875rem; font-weight: 600; color: #ffffff;">{{ block.settings.leg2_team1_name }}</div>
                    </div>
                    <div style="text-align: center;">
                      <div style="font-size: 1.5rem; font-weight: 700; color: rgba(255, 255, 255, 0.5);">VS</div>
                    </div>
                    <div style="text-align: center; flex: 1;">
                      <div style="width: 5rem; height: 5rem; border-radius: 50%; background: #ffffff; display: flex; align-items: center; justify-content: center; margin: 0 auto 0.5rem; padding: 0.75rem; {% if block.settings.result == 'win' %}border: 3px solid #22c55e;{% endif %}">
                        {% if block.settings.leg2_team2_logo %}
                          <img src="{{ block.settings.leg2_team2_logo | image_url: width: 300 }}" alt="{{ block.settings.leg2_team2_name }}" style="width: 100%; height: 100%; object-fit: contain;">
                        {% endif %}
                      </div>
                      <div style="font-size: 0.875rem; font-weight: 600; color: #ffffff;">{{ block.settings.leg2_team2_name }}</div>
                      <div style="font-size: 1rem; font-weight: 700; color: {{ units_color }}; margin-top: 0.5rem;">VICTOIRE</div>
                    </div>
                  </div>
                {% elsif leg_bet_type == 'spread' %}
                  <div style="text-align: center; color: rgba(255, 255, 255, 0.7); font-size: 1.125rem; font-weight: 600; margin-bottom: 1rem;">SPREAD</div>
                  <div style="display: flex; align-items: center; justify-content: space-between; gap: 1rem;">
                    <div style="text-align: center; flex: 1;">
                      <div style="width: 5rem; height: 5rem; border-radius: 50%; background: #ffffff; display: flex; align-items: center; justify-content: center; margin: 0 auto 0.5rem; padding: 0.75rem; {% if block.settings.result == 'win' and block.settings.leg2_spread_team == 'team1' %}border: 3px solid #22c55e;{% endif %}">
                        {% if block.settings.leg2_team1_logo %}
                          <img src="{{ block.settings.leg2_team1_logo | image_url: width: 300 }}" alt="{{ block.settings.leg2_team1_name }}" style="width: 100%; height: 100%; object-fit: contain;">
                        {% endif %}
                      </div>
                      <div style="font-size: 0.875rem; font-weight: 600; color: #ffffff;">{{ block.settings.leg2_team1_name }}</div>
                      {% if block.settings.leg2_spread_team == 'team1' %}
                        <div style="font-size: 1rem; font-weight: 700; color: {{ units_color }}; margin-top: 0.5rem;">{{ block.settings.leg2_spread_value }}</div>
                      {% endif %}
                    </div>
                    <div style="text-align: center;">
                      <div style="font-size: 1.5rem; font-weight: 700; color: rgba(255, 255, 255, 0.5);">VS</div>
                    </div>
                    <div style="text-align: center; flex: 1;">
                      <div style="width: 5rem; height: 5rem; border-radius: 50%; background: #ffffff; display: flex; align-items: center; justify-content: center; margin: 0 auto 0.5rem; padding: 0.75rem; {% if block.settings.result == 'win' and block.settings.leg2_spread_team == 'team2' %}border: 3px solid #22c55e;{% endif %}">
                        {% if block.settings.leg2_team2_logo %}
                          <img src="{{ block.settings.leg2_team2_logo | image_url: width: 300 }}" alt="{{ block.settings.leg2_team2_name }}" style="width: 100%; height: 100%; object-fit: contain;">
                        {% endif %}
                      </div>
                      <div style="font-size: 0.875rem; font-weight: 600; color: #ffffff;">{{ block.settings.leg2_team2_name }}</div>
                      {% if block.settings.leg2_spread_team == 'team2' %}
                        <div style="font-size: 1rem; font-weight: 700; color: {{ units_color }}; margin-top: 0.5rem;">{{ block.settings.leg2_spread_value }}</div>
                      {% endif %}
                    </div>
                  </div>
                {% elsif leg_bet_type == 'over_under' %}
                  <div style="text-align: center; color: rgba(255, 255, 255, 0.7); font-size: 1.125rem; font-weight: 600; margin-bottom: 1rem;">{{ block.settings.leg2_over_under_type | default: 'OVER' | upcase }}</div>
                  <div style="display: flex; align-items: center; justify-content: space-between; gap: 1rem;">
                    <div style="text-align: center; flex: 1;">
                      <div style="width: 5rem; height: 5rem; border-radius: 50%; background: #ffffff; display: flex; align-items: center; justify-content: center; margin: 0 auto 0.5rem; padding: 0.75rem;">
                        {% if block.settings.leg2_team1_logo %}
                          <img src="{{ block.settings.leg2_team1_logo | image_url: width: 300 }}" alt="{{ block.settings.leg2_team1_name }}" style="width: 100%; height: 100%; object-fit: contain;">
                        {% endif %}
                      </div>
                      <div style="font-size: 0.875rem; font-weight: 600; color: #ffffff;">{{ block.settings.leg2_team1_name }}</div>
                    </div>
                    <div style="text-align: center;">
                      <div style="font-size: 1.5rem; font-weight: 700; color: rgba(255, 255, 255, 0.5);">VS</div>
                      <div style="margin-top: 0.75rem;">
                        <div style="font-size: 1rem; font-weight: 700; color: {{ units_color }};">{{ block.settings.leg2_over_under_type | default: 'OVER' | upcase }}</div>
                        <div style="font-size: 1.25rem; font-weight: 700; color: {{ units_color }}; margin-top: 0.25rem;">{{ block.settings.leg2_over_under_value }}</div>
                        {% if block.settings.leg2_over_under_stat_type != blank %}
                          <div style="font-size: 0.75rem; color: {{ units_color }}; margin-top: 0.25rem;">{{ block.settings.leg2_over_under_stat_type }}</div>
                        {% endif %}
                      </div>
                    </div>
                    <div style="text-align: center; flex: 1;">
                      <div style="width: 5rem; height: 5rem; border-radius: 50%; background: #ffffff; display: flex; align-items: center; justify-content: center; margin: 0 auto 0.5rem; padding: 0.75rem;">
                        {% if block.settings.leg2_team2_logo %}
                          <img src="{{ block.settings.leg2_team2_logo | image_url: width: 300 }}" alt="{{ block.settings.leg2_team2_name }}" style="width: 100%; height: 100%; object-fit: contain;">
                        {% endif %}
                      </div>
                      <div style="font-size: 0.875rem; font-weight: 600; color: #ffffff;">{{ block.settings.leg2_team2_name }}</div>
                    </div>
                  </div>
                {% endif %}
              </div>
            {% endif %}

            <!-- LEG 3 -->
            {% if block.settings.leg3_team1_name != blank %}
              {% assign leg_bet_type = block.settings.leg3_bet_type | default: 'moneyline' %}
              <div style="background: #000000; border: 2px solid {{ units_color }}; border-radius: 1rem; padding: 2rem; margin: 0 auto 1rem; max-width: 32rem;">
                {% if leg_bet_type == 'moneyline' %}
                  <div style="text-align: center; color: rgba(255, 255, 255, 0.7); font-size: 1.125rem; font-weight: 600; margin-bottom: 1rem;">MONEYLINE</div>
                  <div style="display: flex; align-items: center; justify-content: space-between; gap: 1rem;">
                    <div style="text-align: center; flex: 1;">
                      <div style="width: 5rem; height: 5rem; border-radius: 50%; background: #ffffff; display: flex; align-items: center; justify-content: center; margin: 0 auto 0.5rem; padding: 0.75rem;">
                        {% if block.settings.leg3_team1_logo %}
                          <img src="{{ block.settings.leg3_team1_logo | image_url: width: 300 }}" alt="{{ block.settings.leg3_team1_name }}" style="width: 100%; height: 100%; object-fit: contain;">
                        {% endif %}
                      </div>
                      <div style="font-size: 0.875rem; font-weight: 600; color: #ffffff;">{{ block.settings.leg3_team1_name }}</div>
                    </div>
                    <div style="text-align: center;">
                      <div style="font-size: 1.5rem; font-weight: 700; color: rgba(255, 255, 255, 0.5);">VS</div>
                    </div>
                    <div style="text-align: center; flex: 1;">
                      <div style="width: 5rem; height: 5rem; border-radius: 50%; background: #ffffff; display: flex; align-items: center; justify-content: center; margin: 0 auto 0.5rem; padding: 0.75rem; {% if block.settings.result == 'win' %}border: 3px solid #22c55e;{% endif %}">
                        {% if block.settings.leg3_team2_logo %}
                          <img src="{{ block.settings.leg3_team2_logo | image_url: width: 300 }}" alt="{{ block.settings.leg3_team2_name }}" style="width: 100%; height: 100%; object-fit: contain;">
                        {% endif %}
                      </div>
                      <div style="font-size: 0.875rem; font-weight: 600; color: #ffffff;">{{ block.settings.leg3_team2_name }}</div>
                      <div style="font-size: 1rem; font-weight: 700; color: {{ units_color }}; margin-top: 0.5rem;">VICTOIRE</div>
                    </div>
                  </div>
                {% elsif leg_bet_type == 'spread' %}
                  <div style="text-align: center; color: rgba(255, 255, 255, 0.7); font-size: 1.125rem; font-weight: 600; margin-bottom: 1rem;">SPREAD</div>
                  <div style="display: flex; align-items: center; justify-content: space-between; gap: 1rem;">
                    <div style="text-align: center; flex: 1;">
                      <div style="width: 5rem; height: 5rem; border-radius: 50%; background: #ffffff; display: flex; align-items: center; justify-content: center; margin: 0 auto 0.5rem; padding: 0.75rem; {% if block.settings.result == 'win' and block.settings.leg3_spread_team == 'team1' %}border: 3px solid #22c55e;{% endif %}">
                        {% if block.settings.leg3_team1_logo %}
                          <img src="{{ block.settings.leg3_team1_logo | image_url: width: 300 }}" alt="{{ block.settings.leg3_team1_name }}" style="width: 100%; height: 100%; object-fit: contain;">
                        {% endif %}
                      </div>
                      <div style="font-size: 0.875rem; font-weight: 600; color: #ffffff;">{{ block.settings.leg3_team1_name }}</div>
                      {% if block.settings.leg3_spread_team == 'team1' %}
                        <div style="font-size: 1rem; font-weight: 700; color: {{ units_color }}; margin-top: 0.5rem;">{{ block.settings.leg3_spread_value }}</div>
                      {% endif %}
                    </div>
                    <div style="text-align: center;">
                      <div style="font-size: 1.5rem; font-weight: 700; color: rgba(255, 255, 255, 0.5);">VS</div>
                    </div>
                    <div style="text-align: center; flex: 1;">
                      <div style="width: 5rem; height: 5rem; border-radius: 50%; background: #ffffff; display: flex; align-items: center; justify-content: center; margin: 0 auto 0.5rem; padding: 0.75rem; {% if block.settings.result == 'win' and block.settings.leg3_spread_team == 'team2' %}border: 3px solid #22c55e;{% endif %}">
                        {% if block.settings.leg3_team2_logo %}
                          <img src="{{ block.settings.leg3_team2_logo | image_url: width: 300 }}" alt="{{ block.settings.leg3_team2_name }}" style="width: 100%; height: 100%; object-fit: contain;">
                        {% endif %}
                      </div>
                      <div style="font-size: 0.875rem; font-weight: 600; color: #ffffff;">{{ block.settings.leg3_team2_name }}</div>
                      {% if block.settings.leg3_spread_team == 'team2' %}
                        <div style="font-size: 1rem; font-weight: 700; color: {{ units_color }}; margin-top: 0.5rem;">{{ block.settings.leg3_spread_value }}</div>
                      {% endif %}
                    </div>
                  </div>
                {% elsif leg_bet_type == 'over_under' %}
                  <div style="text-align: center; color: rgba(255, 255, 255, 0.7); font-size: 1.125rem; font-weight: 600; margin-bottom: 1rem;">{{ block.settings.leg3_over_under_type | default: 'OVER' | upcase }}</div>
                  <div style="display: flex; align-items: center; justify-content: space-between; gap: 1rem;">
                    <div style="text-align: center; flex: 1;">
                      <div style="width: 5rem; height: 5rem; border-radius: 50%; background: #ffffff; display: flex; align-items: center; justify-content: center; margin: 0 auto 0.5rem; padding: 0.75rem;">
                        {% if block.settings.leg3_team1_logo %}
                          <img src="{{ block.settings.leg3_team1_logo | image_url: width: 300 }}" alt="{{ block.settings.leg3_team1_name }}" style="width: 100%; height: 100%; object-fit: contain;">
                        {% endif %}
                      </div>
                      <div style="font-size: 0.875rem; font-weight: 600; color: #ffffff;">{{ block.settings.leg3_team1_name }}</div>
                    </div>
                    <div style="text-align: center;">
                      <div style="font-size: 1.5rem; font-weight: 700; color: rgba(255, 255, 255, 0.5);">VS</div>
                      <div style="margin-top: 0.75rem;">
                        <div style="font-size: 1rem; font-weight: 700; color: {{ units_color }};">{{ block.settings.leg3_over_under_type | default: 'OVER' | upcase }}</div>
                        <div style="font-size: 1.25rem; font-weight: 700; color: {{ units_color }}; margin-top: 0.25rem;">{{ block.settings.leg3_over_under_value }}</div>
                        {% if block.settings.leg3_over_under_stat_type != blank %}
                          <div style="font-size: 0.75rem; color: {{ units_color }}; margin-top: 0.25rem;">{{ block.settings.leg3_over_under_stat_type }}</div>
                        {% endif %}
                      </div>
                    </div>
                    <div style="text-align: center; flex: 1;">
                      <div style="width: 5rem; height: 5rem; border-radius: 50%; background: #ffffff; display: flex; align-items: center; justify-content: center; margin: 0 auto 0.5rem; padding: 0.75rem;">
                        {% if block.settings.leg3_team2_logo %}
                          <img src="{{ block.settings.leg3_team2_logo | image_url: width: 300 }}" alt="{{ block.settings.leg3_team2_name }}" style="width: 100%; height: 100%; object-fit: contain;">
                        {% endif %}
                      </div>
                      <div style="font-size: 0.875rem; font-weight: 600; color: #ffffff;">{{ block.settings.leg3_team2_name }}</div>
                    </div>
                  </div>
                {% endif %}
              </div>
            {% endif %}

            <!-- LEG 4 -->
            {% if block.settings.leg4_team1_name != blank %}
              {% assign leg_bet_type = block.settings.leg4_bet_type | default: 'moneyline' %}
              <div style="background: #000000; border: 2px solid {{ units_color }}; border-radius: 1rem; padding: 2rem; margin: 0 auto 1rem; max-width: 32rem;">
                {% if leg_bet_type == 'moneyline' %}
                  <div style="text-align: center; color: rgba(255, 255, 255, 0.7); font-size: 1.125rem; font-weight: 600; margin-bottom: 1rem;">MONEYLINE</div>
                  <div style="display: flex; align-items: center; justify-content: space-between; gap: 1rem;">
                    <div style="text-align: center; flex: 1;">
                      <div style="width: 5rem; height: 5rem; border-radius: 50%; background: #ffffff; display: flex; align-items: center; justify-content: center; margin: 0 auto 0.5rem; padding: 0.75rem;">
                        {% if block.settings.leg4_team1_logo %}
                          <img src="{{ block.settings.leg4_team1_logo | image_url: width: 300 }}" alt="{{ block.settings.leg4_team1_name }}" style="width: 100%; height: 100%; object-fit: contain;">
                        {% endif %}
                      </div>
                      <div style="font-size: 0.875rem; font-weight: 600; color: #ffffff;">{{ block.settings.leg4_team1_name }}</div>
                    </div>
                    <div style="text-align: center;">
                      <div style="font-size: 1.5rem; font-weight: 700; color: rgba(255, 255, 255, 0.5);">VS</div>
                    </div>
                    <div style="text-align: center; flex: 1;">
                      <div style="width: 5rem; height: 5rem; border-radius: 50%; background: #ffffff; display: flex; align-items: center; justify-content: center; margin: 0 auto 0.5rem; padding: 0.75rem; {% if block.settings.result == 'win' %}border: 3px solid #22c55e;{% endif %}">
                        {% if block.settings.leg4_team2_logo %}
                          <img src="{{ block.settings.leg4_team2_logo | image_url: width: 300 }}" alt="{{ block.settings.leg4_team2_name }}" style="width: 100%; height: 100%; object-fit: contain;">
                        {% endif %}
                      </div>
                      <div style="font-size: 0.875rem; font-weight: 600; color: #ffffff;">{{ block.settings.leg4_team2_name }}</div>
                      <div style="font-size: 1rem; font-weight: 700; color: {{ units_color }}; margin-top: 0.5rem;">VICTOIRE</div>
                    </div>
                  </div>
                {% elsif leg_bet_type == 'spread' %}
                  <div style="text-align: center; color: rgba(255, 255, 255, 0.7); font-size: 1.125rem; font-weight: 600; margin-bottom: 1rem;">SPREAD</div>
                  <div style="display: flex; align-items: center; justify-content: space-between; gap: 1rem;">
                    <div style="text-align: center; flex: 1;">
                      <div style="width: 5rem; height: 5rem; border-radius: 50%; background: #ffffff; display: flex; align-items: center; justify-content: center; margin: 0 auto 0.5rem; padding: 0.75rem; {% if block.settings.result == 'win' and block.settings.leg4_spread_team == 'team1' %}border: 3px solid #22c55e;{% endif %}">
                        {% if block.settings.leg4_team1_logo %}
                          <img src="{{ block.settings.leg4_team1_logo | image_url: width: 300 }}" alt="{{ block.settings.leg4_team1_name }}" style="width: 100%; height: 100%; object-fit: contain;">
                        {% endif %}
                      </div>
                      <div style="font-size: 0.875rem; font-weight: 600; color: #ffffff;">{{ block.settings.leg4_team1_name }}</div>
                      {% if block.settings.leg4_spread_team == 'team1' %}
                        <div style="font-size: 1rem; font-weight: 700; color: {{ units_color }}; margin-top: 0.5rem;">{{ block.settings.leg4_spread_value }}</div>
                      {% endif %}
                    </div>
                    <div style="text-align: center;">
                      <div style="font-size: 1.5rem; font-weight: 700; color: rgba(255, 255, 255, 0.5);">VS</div>
                    </div>
                    <div style="text-align: center; flex: 1;">
                      <div style="width: 5rem; height: 5rem; border-radius: 50%; background: #ffffff; display: flex; align-items: center; justify-content: center; margin: 0 auto 0.5rem; padding: 0.75rem; {% if block.settings.result == 'win' and block.settings.leg4_spread_team == 'team2' %}border: 3px solid #22c55e;{% endif %}">
                        {% if block.settings.leg4_team2_logo %}
                          <img src="{{ block.settings.leg4_team2_logo | image_url: width: 300 }}" alt="{{ block.settings.leg4_team2_name }}" style="width: 100%; height: 100%; object-fit: contain;">
                        {% endif %}
                      </div>
                      <div style="font-size: 0.875rem; font-weight: 600; color: #ffffff;">{{ block.settings.leg4_team2_name }}</div>
                      {% if block.settings.leg4_spread_team == 'team2' %}
                        <div style="font-size: 1rem; font-weight: 700; color: {{ units_color }}; margin-top: 0.5rem;">{{ block.settings.leg4_spread_value }}</div>
                      {% endif %}
                    </div>
                  </div>
                {% elsif leg_bet_type == 'over_under' %}
                  <div style="text-align: center; color: rgba(255, 255, 255, 0.7); font-size: 1.125rem; font-weight: 600; margin-bottom: 1rem;">{{ block.settings.leg4_over_under_type | default: 'OVER' | upcase }}</div>
                  <div style="display: flex; align-items: center; justify-content: space-between; gap: 1rem;">
                    <div style="text-align: center; flex: 1;">
                      <div style="width: 5rem; height: 5rem; border-radius: 50%; background: #ffffff; display: flex; align-items: center; justify-content: center; margin: 0 auto 0.5rem; padding: 0.75rem;">
                        {% if block.settings.leg4_team1_logo %}
                          <img src="{{ block.settings.leg4_team1_logo | image_url: width: 300 }}" alt="{{ block.settings.leg4_team1_name }}" style="width: 100%; height: 100%; object-fit: contain;">
                        {% endif %}
                      </div>
                      <div style="font-size: 0.875rem; font-weight: 600; color: #ffffff;">{{ block.settings.leg4_team1_name }}</div>
                    </div>
                    <div style="text-align: center;">
                      <div style="font-size: 1.5rem; font-weight: 700; color: rgba(255, 255, 255, 0.5);">VS</div>
                      <div style="margin-top: 0.75rem;">
                        <div style="font-size: 1rem; font-weight: 700; color: {{ units_color }};">{{ block.settings.leg4_over_under_type | default: 'OVER' | upcase }}</div>
                        <div style="font-size: 1.25rem; font-weight: 700; color: {{ units_color }}; margin-top: 0.25rem;">{{ block.settings.leg4_over_under_value }}</div>
                        {% if block.settings.leg4_over_under_stat_type != blank %}
                          <div style="font-size: 0.75rem; color: {{ units_color }}; margin-top: 0.25rem;">{{ block.settings.leg4_over_under_stat_type }}</div>
                        {% endif %}
                      </div>
                    </div>
                    <div style="text-align: center; flex: 1;">
                      <div style="width: 5rem; height: 5rem; border-radius: 50%; background: #ffffff; display: flex; align-items: center; justify-content: center; margin: 0 auto 0.5rem; padding: 0.75rem;">
                        {% if block.settings.leg4_team2_logo %}
                          <img src="{{ block.settings.leg4_team2_logo | image_url: width: 300 }}" alt="{{ block.settings.leg4_team2_name }}" style="width: 100%; height: 100%; object-fit: contain;">
                        {% endif %}
                      </div>
                      <div style="font-size: 0.875rem; font-weight: 600; color: #ffffff;">{{ block.settings.leg4_team2_name }}</div>
                    </div>
                  </div>
                {% endif %}
              </div>
            {% endif %}

            <!-- LEG 5 -->
            {% if block.settings.leg5_team1_name != blank %}
              {% assign leg_bet_type = block.settings.leg5_bet_type | default: 'moneyline' %}
              <div style="background: #000000; border: 2px solid {{ units_color }}; border-radius: 1rem; padding: 2rem; margin: 0 auto 2rem; max-width: 32rem;">
                {% if leg_bet_type == 'moneyline' %}
                  <div style="text-align: center; color: rgba(255, 255, 255, 0.7); font-size: 1.125rem; font-weight: 600; margin-bottom: 1rem;">MONEYLINE</div>
                  <div style="display: flex; align-items: center; justify-content: space-between; gap: 1rem;">
                    <div style="text-align: center; flex: 1;">
                      <div style="width: 5rem; height: 5rem; border-radius: 50%; background: #ffffff; display: flex; align-items: center; justify-content: center; margin: 0 auto 0.5rem; padding: 0.75rem;">
                        {% if block.settings.leg5_team1_logo %}
                          <img src="{{ block.settings.leg5_team1_logo | image_url: width: 300 }}" alt="{{ block.settings.leg5_team1_name }}" style="width: 100%; height: 100%; object-fit: contain;">
                        {% endif %}
                      </div>
                      <div style="font-size: 0.875rem; font-weight: 600; color: #ffffff;">{{ block.settings.leg5_team1_name }}</div>
                    </div>
                    <div style="text-align: center;">
                      <div style="font-size: 1.5rem; font-weight: 700; color: rgba(255, 255, 255, 0.5);">VS</div>
                    </div>
                    <div style="text-align: center; flex: 1;">
                      <div style="width: 5rem; height: 5rem; border-radius: 50%; background: #ffffff; display: flex; align-items: center; justify-content: center; margin: 0 auto 0.5rem; padding: 0.75rem; {% if block.settings.result == 'win' %}border: 3px solid #22c55e;{% endif %}">
                        {% if block.settings.leg5_team2_logo %}
                          <img src="{{ block.settings.leg5_team2_logo | image_url: width: 300 }}" alt="{{ block.settings.leg5_team2_name }}" style="width: 100%; height: 100%; object-fit: contain;">
                        {% endif %}
                      </div>
                      <div style="font-size: 0.875rem; font-weight: 600; color: #ffffff;">{{ block.settings.leg5_team2_name }}</div>
                      <div style="font-size: 1rem; font-weight: 700; color: {{ units_color }}; margin-top: 0.5rem;">VICTOIRE</div>
                    </div>
                  </div>
                {% elsif leg_bet_type == 'spread' %}
                  <div style="text-align: center; color: rgba(255, 255, 255, 0.7); font-size: 1.125rem; font-weight: 600; margin-bottom: 1rem;">SPREAD</div>
                  <div style="display: flex; align-items: center; justify-content: space-between; gap: 1rem;">
                    <div style="text-align: center; flex: 1;">
                      <div style="width: 5rem; height: 5rem; border-radius: 50%; background: #ffffff; display: flex; align-items: center; justify-content: center; margin: 0 auto 0.5rem; padding: 0.75rem; {% if block.settings.result == 'win' and block.settings.leg5_spread_team == 'team1' %}border: 3px solid #22c55e;{% endif %}">
                        {% if block.settings.leg5_team1_logo %}
                          <img src="{{ block.settings.leg5_team1_logo | image_url: width: 300 }}" alt="{{ block.settings.leg5_team1_name }}" style="width: 100%; height: 100%; object-fit: contain;">
                        {% endif %}
                      </div>
                      <div style="font-size: 0.875rem; font-weight: 600; color: #ffffff;">{{ block.settings.leg5_team1_name }}</div>
                      {% if block.settings.leg5_spread_team == 'team1' %}
                        <div style="font-size: 1rem; font-weight: 700; color: {{ units_color }}; margin-top: 0.5rem;">{{ block.settings.leg5_spread_value }}</div>
                      {% endif %}
                    </div>
                    <div style="text-align: center;">
                      <div style="font-size: 1.5rem; font-weight: 700; color: rgba(255, 255, 255, 0.5);">VS</div>
                    </div>
                    <div style="text-align: center; flex: 1;">
                      <div style="width: 5rem; height: 5rem; border-radius: 50%; background: #ffffff; display: flex; align-items: center; justify-content: center; margin: 0 auto 0.5rem; padding: 0.75rem; {% if block.settings.result == 'win' and block.settings.leg5_spread_team == 'team2' %}border: 3px solid #22c55e;{% endif %}">
                        {% if block.settings.leg5_team2_logo %}
                          <img src="{{ block.settings.leg5_team2_logo | image_url: width: 300 }}" alt="{{ block.settings.leg5_team2_name }}" style="width: 100%; height: 100%; object-fit: contain;">
                        {% endif %}
                      </div>
                      <div style="font-size: 0.875rem; font-weight: 600; color: #ffffff;">{{ block.settings.leg5_team2_name }}</div>
                      {% if block.settings.leg5_spread_team == 'team2' %}
                        <div style="font-size: 1rem; font-weight: 700; color: {{ units_color }}; margin-top: 0.5rem;">{{ block.settings.leg5_spread_value }}</div>
                      {% endif %}
                    </div>
                  </div>
                {% elsif leg_bet_type == 'over_under' %}
                  <div style="text-align: center; color: rgba(255, 255, 255, 0.7); font-size: 1.125rem; font-weight: 600; margin-bottom: 1rem;">{{ block.settings.leg5_over_under_type | default: 'OVER' | upcase }}</div>
                  <div style="display: flex; align-items: center; justify-content: space-between; gap: 1rem;">
                    <div style="text-align: center; flex: 1;">
                      <div style="width: 5rem; height: 5rem; border-radius: 50%; background: #ffffff; display: flex; align-items: center; justify-content: center; margin: 0 auto 0.5rem; padding: 0.75rem;">
                        {% if block.settings.leg5_team1_logo %}
                          <img src="{{ block.settings.leg5_team1_logo | image_url: width: 300 }}" alt="{{ block.settings.leg5_team1_name }}" style="width: 100%; height: 100%; object-fit: contain;">
                        {% endif %}
                      </div>
                      <div style="font-size: 0.875rem; font-weight: 600; color: #ffffff;">{{ block.settings.leg5_team1_name }}</div>
                    </div>
                    <div style="text-align: center;">
                      <div style="font-size: 1.5rem; font-weight: 700; color: rgba(255, 255, 255, 0.5);">VS</div>
                      <div style="margin-top: 0.75rem;">
                        <div style="font-size: 1rem; font-weight: 700; color: {{ units_color }};">{{ block.settings.leg5_over_under_type | default: 'OVER' | upcase }}</div>
                        <div style="font-size: 1.25rem; font-weight: 700; color: {{ units_color }}; margin-top: 0.25rem;">{{ block.settings.leg5_over_under_value }}</div>
                        {% if block.settings.leg5_over_under_stat_type != blank %}
                          <div style="font-size: 0.75rem; color: {{ units_color }}; margin-top: 0.25rem;">{{ block.settings.leg5_over_under_stat_type }}</div>
                        {% endif %}
                      </div>
                    </div>
                    <div style="text-align: center; flex: 1;">
                      <div style="width: 5rem; height: 5rem; border-radius: 50%; background: #ffffff; display: flex; align-items: center; justify-content: center; margin: 0 auto 0.5rem; padding: 0.75rem;">
                        {% if block.settings.leg5_team2_logo %}
                          <img src="{{ block.settings.leg5_team2_logo | image_url: width: 300 }}" alt="{{ block.settings.leg5_team2_name }}" style="width: 100%; height: 100%; object-fit: contain;">
                        {% endif %}
                      </div>
                      <div style="font-size: 0.875rem; font-weight: 600; color: #ffffff;">{{ block.settings.leg5_team2_name }}</div>
                    </div>
                  </div>
                {% endif %}
              </div>
            {% endif %}

          {% endif %}
        {% endfor %}

        {% unless has_history %}
          <div class="card text-center" style="padding: 2rem;">
            <p style="color: rgba(255, 255, 255, 0.6);">
              Aucun parlay dans l'historique. Marquez vos parlays terminés avec "Envoyer à l'historique" dans l'éditeur Shopify.
            </p>
          </div>
        {% endunless %}
      </div>
    </div>

    <!-- PAGE 5: NOTRE STRATÉGIE -->
    <div id="page-strategy" class="page">
      <div class="container" style="max-width: 1000px; margin: 0 auto;">
        <h1 style="font-size: 3.5rem; margin-bottom: 1rem;">Notre Stratégie</h1>
        <p class="subtitle" style="font-size: 1.3rem; margin-bottom: 3rem;">Découvrez notre approche gagnante</p>
        
        <div style="display: grid; gap: 2rem;">
          
          <!-- Carte Stratégie : Guide des paris sportifs -->
          <a href="#page-guide-paris" onclick="navigateTo(event, 'page-guide-paris')" style="text-decoration: none; display: block; background: rgba(22, 163, 74, 0.08); border: 3px solid #16a34a; border-radius: 1rem; padding: 2rem 2.5rem; transition: all 0.3s; cursor: pointer;">
            <div style="display: flex; align-items: center; gap: 2rem;">
              <div style="flex-shrink: 0; width: 80px; height: 80px; background: #16a34a; border-radius: 0.75rem; display: flex; align-items: center; justify-content: center;">
                <svg style="width: 48px; height: 48px; color: #ffffff; stroke: #ffffff;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"/>
                </svg>
              </div>
              <div style="flex: 1;">
                <h3 style="color: #16a34a; font-size: 1.8rem; font-weight: 700; margin-bottom: 0.5rem;">Guide des paris sportifs</h3>
                <p style="color: #16a34a; font-size: 1.1rem; margin: 0; opacity: 0.9;">Comprends les bases du pari sportif — cotes, types de mises, logique du marché — et découvre comment Winabet.ai t'aide à parier plus intelligemment, sans effort.</p>
              </div>
              <svg style="width: 32px; height: 32px; color: #16a34a; flex-shrink: 0;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
              </svg>
            </div>
          </a>
          
        </div>
      </div>
    </div>

    <!-- PAGE 6: MON COMPTE -->
    <div id="page-account" class="page">
      <div class="container">
        <h1>Mon compte</h1>
        <p class="subtitle">Gérez votre profil et vos préférences</p>
        
        <div class="card">
          <p class="text-center" style="color: rgba(255, 255, 255, 0.6);">
            Fonctionnalité à venir. Vous pourrez bientôt gérer votre profil, vos préférences et vos paramètres.
          </p>
        </div>
      </div>
    </div>

    <!-- PAGE 7: BOUTIQUE -->
    <div id="page-boutique" class="page">
      <div class="container">
        <h1>Boutique</h1>
        <p class="subtitle">Découvrez nos produits et services</p>
        
        <div class="card">
          <p class="text-center" style="color: rgba(255, 255, 255, 0.6);">
            Fonctionnalité à venir. Découvrez bientôt nos offres exclusives et nos services premium.
          </p>
        </div>
      </div>
    </div>

    <!-- PAGE 8: SUPPORT -->
    <div id="page-support" class="page">
      <div class="container" style="max-width: 800px; margin: 0 auto;">
        <h1 style="font-size: 3.5rem; margin-bottom: 1rem;">Contactez-nous</h1>
        <p class="subtitle" style="font-size: 1.3rem; margin-bottom: 4rem;">Notre équipe est là pour vous aider</p>
        
        <!-- Contact rapide WhatsApp -->
        <div style="background: linear-gradient(135deg, rgba(22, 163, 74, 0.1) 0%, rgba(22, 163, 74, 0.05) 100%); padding: 3rem 2rem; border-radius: 1rem; margin-bottom: 3rem; text-align: center;">
          <div style="font-size: 4rem; margin-bottom: 1.5rem;">📱</div>
          <h2 style="color: #16a34a; font-size: 2rem; margin-bottom: 1rem; font-weight: 700;">Support sportif rapide</h2>
          <p style="color: #ffffff; font-size: 2.5rem; font-weight: 700; margin-bottom: 1rem; letter-spacing: 0.05em;">
            514-237-0725
          </p>
          <p style="color: rgba(255, 255, 255, 0.8); font-size: 1.2rem; line-height: 1.8;">
            WhatsApp ou message texte uniquement<br>
            <span style="color: rgba(255, 255, 255, 0.6); font-size: 1rem;">(Ligne de message seulement, pas d'appel téléphonique)</span>
          </p>
        </div>
        
        <!-- Contact par email -->
        <div style="background: linear-gradient(135deg, rgba(255, 255, 255, 0.05) 0%, rgba(255, 255, 255, 0.02) 100%); padding: 3rem 2rem; border-radius: 1rem; text-align: center;">
          <div style="font-size: 4rem; margin-bottom: 1.5rem;">✉️</div>
          <h2 style="color: #16a34a; font-size: 2rem; margin-bottom: 1rem; font-weight: 700;">Contact par email</h2>
          <a href="mailto:winabet.ai@gmail.com" style="color: #ffffff; font-size: 1.8rem; font-weight: 600; text-decoration: none; transition: color 0.3s;">
            winabet.ai@gmail.com
          </a>
          <p style="color: rgba(255, 255, 255, 0.6); font-size: 1rem; margin-top: 1rem;">
            Nous répondons sous 24-48h
          </p>
        </div>
      </div>
    </div>

    <!-- PAGE 9: GUIDE DES PARIS SPORTIFS -->
    <div id="page-guide-paris" class="page">
      <div class="container" style="max-width: 900px; margin: 0 auto;">
        <!-- Bouton retour -->
        <a href="#page-strategy" onclick="navigateTo(event, 'page-strategy')" style="display: inline-flex; align-items: center; gap: 0.5rem; color: #16a34a; text-decoration: none; margin-bottom: 2rem; font-size: 1.1rem; font-weight: 600;">
          <svg style="width: 24px; height: 24px;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
          </svg>
          Retour à Notre Stratégie
        </a>

        <div style="display: flex; align-items: center; gap: 1.5rem; margin-bottom: 2rem;">
          <div style="flex-shrink: 0; width: 60px; height: 60px; background: #16a34a; border-radius: 0.75rem; display: flex; align-items: center; justify-content: center;">
            <svg style="width: 36px; height: 36px; color: #ffffff; stroke: #ffffff;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"/>
            </svg>
          </div>
          <div>
            <h1 style="color: #ffffff; font-size: 3rem; margin-bottom: 0.5rem; text-align: left;">Guide des paris sportifs</h1>
            <p style="color: rgba(255, 255, 255, 0.7); font-size: 1.15rem; margin: 0;">
              Comprends les bases du pari sportif — cotes, types de mises, logique du marché — et découvre comment Winabet.ai t'aide à parier plus intelligemment, sans effort.
            </p>
          </div>
        </div>

        <!-- Section Introduction -->
        <div style="background: rgba(22, 163, 74, 0.08); border: 2px solid rgba(22, 163, 74, 0.3); border-radius: 1rem; padding: 2rem; margin-bottom: 2rem;">
          <h2 style="color: #ffffff; font-size: 2rem; font-weight: 700; margin-bottom: 1rem;">Introduction</h2>
          <p style="color: rgba(255, 255, 255, 0.9); font-size: 1.05rem; line-height: 1.8; margin-bottom: 1rem;">
            Apprends à comprendre le fonctionnement des paris sportifs avec l'aide de Winabet.ai. De la lecture des cotes jusqu'aux types de mises les plus courants, découvre les bases nécessaires pour savoir ce que tu fais avant de placer ton premier pari.
          </p>
          <p style="color: rgba(255, 255, 255, 0.9); font-size: 1.05rem; line-height: 1.8; margin-bottom: 1rem;">
            Les paris sportifs peuvent sembler complexes au début, mais une fois que tu comprends la logique derrière chaque chiffre, tout devient clair. Winabet.ai t'explique comment lire les cotes américaines, comme +150 ou –120, et ce qu'elles signifient réellement. Une cote positive indique combien tu gagnes pour 100 $ misés, tandis qu'une cote négative montre combien tu dois miser pour en gagner 100. Ces chiffres traduisent la probabilité implicite d'un résultat — une notion essentielle pour savoir si une cote est juste ou non.
          </p>
          <p style="color: rgba(255, 255, 255, 0.9); font-size: 1.05rem; line-height: 1.8;">
            Mais le véritable avantage de Winabet.ai, c'est que tu n'as même pas besoin de tout comprendre pour en profiter. Notre IA analyse les matchs, les statistiques et le marché en temps réel, puis te propose directement les bets les plus rentables du moment. Tu peux simplement suivre les recommandations et miser en quelques secondes. Cependant, mieux tu comprends comment tout cela fonctionne, mieux tu sauras pourquoi chaque pari est choisi, et tu développeras une vraie compréhension du jeu derrière les chiffres.
          </p>
        </div>

        <!-- Section Types de paris -->
        <div style="background: #000000; border: 2px solid rgba(22, 163, 74, 0.3); border-radius: 1rem; padding: 2rem; margin-bottom: 2rem;">
          <h2 style="color: #ffffff; font-size: 2rem; font-weight: 700; margin-bottom: 1rem;">Types de paris</h2>
          <p style="color: rgba(255, 255, 255, 0.7); font-size: 1rem; margin-bottom: 1.5rem; font-style: italic;">
            Moneyline, Over/Under, Spreads, Prop Bets : découvre les formats les plus utilisés et apprends à choisir le bon type de pari selon le contexte.
          </p>
          <p style="color: rgba(255, 255, 255, 0.9); font-size: 1.05rem; line-height: 1.8; margin-bottom: 1.5rem;">
            Avant de miser, il faut savoir sur quoi tu mises. Winabet.ai te présente les formats les plus courants et t'explique leur fonctionnement de façon simple et concrète :
          </p>
          <div style="display: grid; gap: 1.5rem;">
            <div style="padding: 1.25rem; background: rgba(22, 163, 74, 0.05); border-left: 4px solid #16a34a; border-radius: 0.5rem;">
              <h4 style="color: #ffffff; font-size: 1.3rem; font-weight: 700; margin-bottom: 0.5rem;">• Moneyline</h4>
              <p style="color: rgba(255, 255, 255, 0.9); font-size: 1rem; line-height: 1.7; margin: 0;">
                Le pari le plus direct. Tu choisis quelle équipe va gagner. Exemple : Montréal +180 → tu gagnes 180 $ pour chaque 100 $ misés si Montréal gagne.
              </p>
            </div>
            <div style="padding: 1.25rem; background: rgba(22, 163, 74, 0.05); border-left: 4px solid #16a34a; border-radius: 0.5rem;">
              <h4 style="color: #ffffff; font-size: 1.3rem; font-weight: 700; margin-bottom: 0.5rem;">• Point Spread</h4>
              <p style="color: rgba(255, 255, 255, 0.9); font-size: 1rem; line-height: 1.7; margin: 0;">
                Tu paries sur l'écart de victoire. Exemple : Montréal +1.5 → ton pari est gagnant si Montréal perd par un seul but ou gagne le match.
              </p>
            </div>
            <div style="padding: 1.25rem; background: rgba(22, 163, 74, 0.05); border-left: 4px solid #16a34a; border-radius: 0.5rem;">
              <h4 style="color: #ffffff; font-size: 1.3rem; font-weight: 700; margin-bottom: 0.5rem;">• Over/Under (Total)</h4>
              <p style="color: rgba(255, 255, 255, 0.9); font-size: 1rem; line-height: 1.7; margin: 0;">
                Tu paries sur le total de points ou de buts marqués, supérieur ou inférieur à une ligne donnée.
              </p>
            </div>
            <div style="padding: 1.25rem; background: rgba(22, 163, 74, 0.05); border-left: 4px solid #16a34a; border-radius: 0.5rem;">
              <h4 style="color: #ffffff; font-size: 1.3rem; font-weight: 700; margin-bottom: 0.5rem;">• Prop Bets</h4>
              <p style="color: rgba(255, 255, 255, 0.9); font-size: 1rem; line-height: 1.7; margin: 0;">
                Tu paries sur un événement précis, comme le nombre de buts d'un joueur ou le total de verges d'un quarterback.
              </p>
            </div>
          </div>
          <p style="color: rgba(255, 255, 255, 0.9); font-size: 1.05rem; line-height: 1.8; margin-top: 1.5rem;">
            Winabet.ai t'aide à comprendre ces formats, mais surtout, son IA choisit automatiquement les paris les plus prometteurs selon les données de match et les tendances du marché. Même sans expérience, tu peux suivre les recommandations de Winabet.ai et placer les bons paris en toute confiance — comprendre le système, c'est un plus, pas une obligation.
          </p>
        </div>

        <!-- Section Paris NHL & NFL -->
        <div style="background: #000000; border: 2px solid rgba(22, 163, 74, 0.3); border-radius: 1rem; padding: 2rem; margin-bottom: 2rem;">
          <h2 style="color: #ffffff; font-size: 2rem; font-weight: 700; margin-bottom: 1rem;">Paris NHL & NFL</h2>
          <p style="color: rgba(255, 255, 255, 0.7); font-size: 1rem; margin-bottom: 1.5rem; font-style: italic;">
            Chaque sport a ses particularités, et comprendre ces différences aide à mieux saisir pourquoi certains paris sont plus rentables que d'autres.
          </p>
          <p style="color: rgba(255, 255, 255, 0.9); font-size: 1.05rem; line-height: 1.8; margin-bottom: 1.5rem;">
            Winabet.ai t'explique comment fonctionnent les paris sur les deux ligues les plus populaires : la NHL et la NFL.
          </p>
          <div style="display: grid; gap: 1.5rem; margin-bottom: 1.5rem;">
            <div style="padding: 1.5rem; background: rgba(22, 163, 74, 0.05); border-radius: 0.75rem;">
              <h4 style="color: #ffffff; font-size: 1.4rem; font-weight: 700; margin-bottom: 0.75rem;">NHL</h4>
              <p style="color: rgba(255, 255, 255, 0.9); font-size: 1rem; line-height: 1.7; margin: 0;">
                En NHL, les résultats peuvent changer d'un jour à l'autre. Le gardien partant, le calendrier des matchs ou la forme du moment influencent fortement les cotes. Winabet.ai surveille tous ces paramètres pour ajuster ses analyses et t'indiquer les paris les plus logiques à placer.
              </p>
            </div>
            <div style="padding: 1.5rem; background: rgba(22, 163, 74, 0.05); border-radius: 0.75rem;">
              <h4 style="color: #ffffff; font-size: 1.4rem; font-weight: 700; margin-bottom: 0.75rem;">NFL</h4>
              <p style="color: rgba(255, 255, 255, 0.9); font-size: 1rem; line-height: 1.7; margin: 0;">
                En NFL, la saison est courte mais intense. Chaque semaine, les cotes bougent selon les blessures, les conditions météo ou la popularité d'une équipe. Tu apprendras à reconnaître les lignes typiques comme +3.5, –7 ou –10.5, mais surtout à comprendre pourquoi certaines cotes valent plus que d'autres.
              </p>
            </div>
          </div>
          <p style="color: rgba(255, 255, 255, 0.9); font-size: 1.05rem; line-height: 1.8;">
            Et encore une fois, Winabet.ai fait tout le travail d'analyse pour toi. L'IA traite les statistiques, les historiques et les conditions du moment pour te recommander directement les paris à plus forte probabilité de succès. Tu n'as pas besoin de tout connaître pour en profiter, mais savoir comment ça marche te permettra de mieux comprendre pourquoi chaque pari a été choisi.
          </p>
        </div>

        <!-- Section Lire les cotes -->
        <div style="background: #000000; border: 2px solid rgba(22, 163, 74, 0.3); border-radius: 1rem; padding: 2rem; margin-bottom: 2rem;">
          <h2 style="color: #ffffff; font-size: 2rem; font-weight: 700; margin-bottom: 1rem;">Lire les cotes</h2>
          <p style="color: rgba(255, 255, 255, 0.7); font-size: 1rem; margin-bottom: 1.5rem; font-style: italic;">
            Comprendre une cote, c'est comprendre la probabilité réelle derrière ton pari.
          </p>
          <p style="color: rgba(255, 255, 255, 0.9); font-size: 1.05rem; line-height: 1.8; margin-bottom: 1.5rem;">
            Winabet.ai t'apprend à lire les +200, –150 et autres formats pour que tu saches ce que signifient vraiment les chiffres affichés avant de miser.
          </p>
          <div style="padding: 1.5rem; background: rgba(22, 163, 74, 0.05); border-radius: 0.75rem; margin-bottom: 1.5rem;">
            <p style="color: rgba(255, 255, 255, 0.9); font-size: 1rem; line-height: 1.7; margin-bottom: 1rem;">
              Une cote +200 indique que tu gagnes 200 $ pour chaque 100 $ misés si le pari réussit, soit une probabilité d'environ 33 %. Une cote –150, au contraire, veut dire que tu dois miser 150 $ pour gagner 100 $, ce qui représente environ 60 % de chances de réussite.
            </p>
            <p style="color: rgba(255, 255, 255, 0.9); font-size: 1rem; line-height: 1.7; margin-bottom: 1rem;">
              Ces chiffres ne sont pas arbitraires : ils traduisent la perception du marché sur la probabilité d'un résultat. Winabet.ai t'aide à comprendre cette logique, mais surtout, son IA fait déjà les calculs à ta place. Elle identifie automatiquement les cotes mal évaluées, repère les paris sous-cotés et te les recommande directement.
            </p>
            <p style="color: rgba(255, 255, 255, 0.9); font-size: 1rem; line-height: 1.7; margin: 0;">
              Même si tu n'as jamais parié auparavant, tu peux simplement suivre les sélections proposées par Winabet.ai. Mais comprendre comment une cote fonctionne te permettra d'avoir une longueur d'avance sur les autres utilisateurs, en sachant pourquoi un pari est rentable — pas seulement qu'il l'est.
            </p>
          </div>
        </div>

        <!-- Bouton retour en bas -->
        <a href="#page-strategy" onclick="navigateTo(event, 'page-strategy')" style="display: inline-flex; align-items: center; gap: 0.5rem; color: #16a34a; text-decoration: none; font-size: 1.1rem; font-weight: 600;">
          <svg style="width: 24px; height: 24px;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
          </svg>
          Retour à Notre Stratégie
        </a>
      </div>
    </div>
  </main>

  <!-- AI Loading Overlay -->
  <div id="ai-loading-overlay" class="ai-loading-overlay">
    <div class="ai-loading-spinner">
      <span class="ai-loading-spinner-text">IA</span>
    </div>
    <div class="ai-loading-logo">
      <span style="color: #ffffff;">WIN</span><span style="color: #16a34a;">A</span><span style="color: #ffffff;">BET</span><span style="color: #16a34a; font-size: 0.6em;">.AI</span>
    </div>
    <p class="ai-loading-message">CHARGEMENT DE NOTRE IA ET DES DONNÉES<br>LES PLUS RÉCENTES…</p>
  </div>

  <!-- Dialog: Modifier la mise -->
  <div id="bet-dialog" class="dialog-overlay">
    <div class="dialog">
      <div class="dialog-header">
        <h2 class="dialog-title">Modifier votre mise</h2>
        <button class="dialog-close" onclick="closeBetDialog()" aria-label="Fermer">
          <svg width="24" height="24" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
          </svg>
        </button>
      </div>
      <div class="dialog-content">
        <div class="bet-buttons">
          <button class="bet-button" onclick="setBetAmount(10)">$10</button>
          <button class="bet-button" onclick="setBetAmount(20)">$20</button>
          <button class="bet-button" onclick="setBetAmount(50)">$50</button>
          <button class="bet-button" onclick="setBetAmount(100)">$100</button>
          <button class="bet-button" onclick="setBetAmount(150)">$150</button>
          <button class="bet-button" onclick="setBetAmount(200)">$200</button>
          <button class="bet-button" onclick="setBetAmount(500)">$500</button>
          <button class="bet-button" onclick="customBetAmount()">Autre</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Dialog: Analyse IA Complète -->
  <div id="analysis-dialog" class="dialog-overlay">
    <div class="dialog dialog-large">
      <div class="analysis-header">
        <button class="dialog-close" onclick="closeAnalysisDialog()" aria-label="Fermer" style="position: absolute; top: 1rem; right: 1rem;">
          <svg width="24" height="24" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
          </svg>
        </button>

        <div style="display: flex; align-items: center; justify-content: center; gap: 0.75rem; margin-bottom: 0.75rem;">
          <div class="ai-spinner" style="width: 2.4rem; height: 2.4rem;">
            <span class="ai-badge" style="color: #ffffff;">IA</span>
          </div>
          <span style="color: #ffffff; font-weight: 600; font-size: 1.125rem; letter-spacing: 0.03em;">
            <span id="dialog-data-count">2 909</span> DONNÉES ANALYSÉ PAR NOTRE IA POUR CE BET JUSQU'À PRÉSENT
          </span>
        </div>

        <div style="display: flex; align-items: center; justify-content: center; gap: 0.5rem; margin-bottom: 1rem;">
          <div style="width: 10px; height: 10px; background: #16a34a; border-radius: 50%;"></div>
          <span style="color: rgba(255, 255, 255, 0.9); font-size: 1rem; font-weight: 500;">Dernière mise à jour IA pour ce bet : <span id="analysis-time">19:42</span></span>
        </div>
      </div>

      <div class="dialog-content">
        <div id="loading-section" class="loading-container">
          <div class="loading-dots">
            <div class="loading-dot"></div>
            <div class="loading-dot"></div>
            <div class="loading-dot"></div>
          </div>
          <p style="color: rgba(255, 255, 255, 0.6);">Analyse en cours...</p>
        </div>

        <div id="analysis-content" style="display: none;">
          <!-- Chance de gagner -->
          <div class="confidence-section">
            <div class="confidence-label">CHANCE DE GAGNER</div>
            <div class="confidence-value"><span id="dialog-win-percentage">92</span>%</div>
            <div class="confidence-progress">
              <div id="dialog-progress-bar" class="confidence-progress-bar" style="width: 0%"></div>
            </div>
          </div>

          <!-- ========== TEMPLATE NHL ========== -->
          <div id="template-nhl">
          <h3 class="analysis-section-title">Analyse du marché & meilleures cotes</h3>
          <div class="analysis-section">
            <div class="analysis-subsection">
              <div class="analysis-subsection-icon">
                <span class="ai-badge">IA</span>
              </div>
              <div class="analysis-subsection-title">Analyse — Marché & pricing (Équipe domicile)</div>
              <div class="analysis-subsection-content">
                • Analyse de la probabilité implicite du marché pour l'équipe domicile, obtenue par conversion des cotes en pourcentage réel.
              </div>
            </div>

            <div class="analysis-subsection">
              <div class="analysis-subsection-icon">
                <span class="ai-badge">IA</span>
              </div>
              <div class="analysis-subsection-title">Analyse — Marché & pricing (Équipe domicile)</div>
              <div class="analysis-subsection-content">
                • Comparaison inter-bookmakers pour identifier la meilleure cote disponible ("best price") et mesurer l'efficience du marché.
              </div>
            </div>

            <div class="analysis-subsection">
              <div class="analysis-subsection-icon">
                <span class="ai-badge">IA</span>
              </div>
              <div class="analysis-subsection-title">Analyse — Marché & pricing (Équipe domicile)</div>
              <div class="analysis-subsection-content">
                • Observation du mouvement de ligne (line movement) afin de déterminer si la valeur évolue en faveur ou en défaveur de l'équipe domicile.
              </div>
            </div>

            <div class="analysis-subsection">
              <div class="analysis-subsection-icon">
                <span class="ai-badge">IA</span>
              </div>
              <div class="analysis-subsection-title">Analyse — Marché & pricing (Équipe domicile)</div>
              <div class="analysis-subsection-content">
                • Détection d'un éventuel closing line value (CLV) et influence du sharp money par rapport au public money.
              </div>
            </div>

            <div class="analysis-subsection">
              <div class="analysis-subsection-icon">
                <span class="ai-badge">IA</span>
              </div>
              <div class="analysis-subsection-title">Analyse — Marché & pricing (Équipe extérieur)</div>
              <div class="analysis-subsection-content">
                • Analyse de la probabilité implicite du marché pour l'équipe extérieur, obtenue par conversion des cotes en pourcentage réel.
              </div>
            </div>

            <div class="analysis-subsection">
              <div class="analysis-subsection-icon">
                <span class="ai-badge">IA</span>
              </div>
              <div class="analysis-subsection-title">Analyse — Marché & pricing (Équipe extérieur)</div>
              <div class="analysis-subsection-content">
                • Comparaison inter-bookmakers pour identifier la meilleure cote disponible ("best price") et mesurer l'efficience du marché.
              </div>
            </div>

            <div class="analysis-subsection">
              <div class="analysis-subsection-icon">
                <span class="ai-badge">IA</span>
              </div>
              <div class="analysis-subsection-title">Analyse — Marché & pricing (Équipe extérieur)</div>
              <div class="analysis-subsection-content">
                • Observation du mouvement de ligne (line movement) afin de déterminer si la valeur évolue en faveur ou en défaveur de l'équipe extérieur.
              </div>
            </div>

            <div class="analysis-subsection">
              <div class="analysis-subsection-icon">
                <span class="ai-badge">IA</span>
              </div>
              <div class="analysis-subsection-title">Analyse — Marché & pricing (Équipe extérieur)</div>
              <div class="analysis-subsection-content">
                • Détection d'un éventuel closing line value (CLV) et influence du sharp money par rapport au public money.
              </div>
            </div>
          </div>

          <!-- Historique des confrontations (H2H) -->
          <h3 class="analysis-section-title">Historique des confrontations (H2H)</h3>
          <div class="analysis-section">
            <div class="analysis-subsection">
              <div class="analysis-subsection-icon">
                <span class="ai-badge">IA</span>
              </div>
              <div class="analysis-subsection-title">Analyse — Historique des confrontations (H2H)</div>
              <div class="analysis-subsection-content">
                Analyse des précédents affrontements entre les deux équipes, incluant les tendances récurrentes du matchup, les styles dominants lors de ces duels, ainsi que les profils statistiques qui se répètent historiquement lorsque ces formations s'opposent.
              </div>
            </div>
          </div>

          <!-- Lineup / alignement projeté du jour -->
          <h3 class="analysis-section-title">Lineup / alignement projeté du jour</h3>
          <div class="analysis-section">
            <div class="analysis-subsection">
              <div class="analysis-subsection-icon">
                <span class="ai-badge">IA</span>
              </div>
              <div class="analysis-subsection-title">Analyse — Alignement projeté du jour</div>
              <div class="analysis-subsection-content">
                Analyse de l'alignement prévu pour chaque équipe, incluant les trios et paires défensives projetées, la disponibilité des joueurs clés, les éventuels absents, ainsi que l'impact attendu des lignes déployées sur le rythme offensif et la structure tactique globale.
              </div>
            </div>
          </div>

          <!-- Analyse du jeu de puissance & discipline -->
          <h3 class="analysis-section-title">Analyse du jeu de puissance & discipline</h3>
          <div class="analysis-section">
            <div class="analysis-subsection">
              <div class="analysis-subsection-icon">
                <span class="ai-badge">IA</span>
              </div>
              <div class="analysis-subsection-title">Analyse — Power Play (Équipe domicile)</div>
              <div class="analysis-subsection-content">
                Analyse de l'efficacité du power play de l'équipe domicile, incluant la structure tactique en zone offensive, la qualité des entrées de zone contrôlées, la création de chances dangereuses (HDCF) et l'exécution globale des séquences en supériorité numérique (xGoals/PP).
              </div>
            </div>

            <div class="analysis-subsection">
              <div class="analysis-subsection-icon">
                <span class="ai-badge">IA</span>
              </div>
              <div class="analysis-subsection-title">Analyse — Power Play (Équipe extérieur)</div>
              <div class="analysis-subsection-content">
                Analyse de l'efficacité du power play de l'équipe extérieur, incluant la structure tactique en zone offensive, la qualité des entrées de zone contrôlées, la création de chances dangereuses (HDCF) et l'exécution globale des séquences en supériorité numérique (xGoals/PP).
              </div>
            </div>

            <div class="analysis-subsection">
              <div class="analysis-subsection-icon">
                <span class="ai-badge">IA</span>
              </div>
              <div class="analysis-subsection-title">Analyse — Discipline & Pénalités (Équipe domicile)</div>
              <div class="analysis-subsection-content">
                Analyse du niveau de discipline de l'équipe domicile, basée sur la fréquence des pénalités concédées, le temps passé en infériorité numérique, l'impact sur le momentum et l'exposition défensive répétée en PK.
              </div>
            </div>

            <div class="analysis-subsection">
              <div class="analysis-subsection-icon">
                <span class="ai-badge">IA</span>
              </div>
              <div class="analysis-subsection-title">Analyse — Discipline & Pénalités (Équipe extérieur)</div>
              <div class="analysis-subsection-content">
                Analyse du niveau de discipline de l'équipe extérieur, basée sur la fréquence des pénalités concédées, le temps passé en infériorité numérique, l'impact sur le momentum et l'exposition défensive répétée en PK.
              </div>
            </div>
          </div>

          <!-- Analyse du gardien & structure défensive -->
          <h3 class="analysis-section-title">Analyse du gardien & structure défensive</h3>
          <div class="analysis-section">
            <div class="analysis-subsection">
              <div class="analysis-subsection-icon">
                <span class="ai-badge">IA</span>
              </div>
              <div class="analysis-subsection-title">Analyse — Performance du gardien (Équipe domicile)</div>
              <div class="analysis-subsection-content">
                Analyse du rendement du gardien projeté de l'équipe domicile, basée sur l'efficacité face aux tirs à haut danger, la qualité technique, la constance sous pression et les indicateurs avancés type GSAA.
              </div>
            </div>

            <div class="analysis-subsection">
              <div class="analysis-subsection-icon">
                <span class="ai-badge">IA</span>
              </div>
              <div class="analysis-subsection-title">Analyse — Performance du gardien (Équipe extérieur)</div>
              <div class="analysis-subsection-content">
                Analyse du rendement du gardien projeté de l'équipe extérieur, basée sur l'efficacité face aux tirs à haut danger, la qualité technique, la constance sous pression et les indicateurs avancés type GSAA.
              </div>
            </div>

            <div class="analysis-subsection">
              <div class="analysis-subsection-icon">
                <span class="ai-badge">IA</span>
              </div>
              <div class="analysis-subsection-title">Analyse — Structure défensive (Équipe domicile)</div>
              <div class="analysis-subsection-content">
                Analyse de la structure défensive de l'équipe domicile, incluant la protection du slot, la gestion des rebonds, la transition défensive et la limitation des occasions adverses de haute qualité.
              </div>
            </div>

            <div class="analysis-subsection">
              <div class="analysis-subsection-icon">
                <span class="ai-badge">IA</span>
              </div>
              <div class="analysis-subsection-title">Analyse — Structure défensive (Équipe extérieur)</div>
              <div class="analysis-subsection-content">
                Analyse de la structure défensive de l'équipe extérieur, incluant la protection du slot, la gestion des rebonds, la transition défensive et la limitation des occasions adverses de haute qualité.
              </div>
            </div>
          </div>

          <!-- Analyse de la possession & qualité offensive -->
          <h3 class="analysis-section-title">Analyse de la possession & qualité offensive</h3>
          <div class="analysis-section">
            <div class="analysis-subsection">
              <div class="analysis-subsection-icon">
                <span class="ai-badge">IA</span>
              </div>
              <div class="analysis-subsection-title">Analyse — Expected Goals (Équipe domicile)</div>
              <div class="analysis-subsection-content">
                Analyse de la production offensive de l'équipe domicile, basée sur la quantité et la qualité des tirs générés, les emplacements de tir et la probabilité attendue de convertir les occasions (xG).
              </div>
            </div>

            <div class="analysis-subsection">
              <div class="analysis-subsection-icon">
                <span class="ai-badge">IA</span>
              </div>
              <div class="analysis-subsection-title">Analyse — Expected Goals (Équipe extérieur)</div>
              <div class="analysis-subsection-content">
                Analyse de la production offensive de l'équipe extérieur, basée sur la quantité et la qualité des tirs générés, les emplacements de tir et la probabilité attendue de convertir les occasions (xG).
              </div>
            </div>

            <div class="analysis-subsection">
              <div class="analysis-subsection-icon">
                <span class="ai-badge">IA</span>
              </div>
              <div class="analysis-subsection-title">Analyse — Possession (Corsi/Fenwick) (Équipe domicile)</div>
              <div class="analysis-subsection-content">
                Analyse du contrôle du palet de l'équipe domicile, à travers le volume de tirs tentés, la capacité à maintenir la zone offensive et la dictée du rythme de jeu.
              </div>
            </div>

            <div class="analysis-subsection">
              <div class="analysis-subsection-icon">
                <span class="ai-badge">IA</span>
              </div>
              <div class="analysis-subsection-title">Analyse — Possession (Corsi/Fenwick) (Équipe extérieur)</div>
              <div class="analysis-subsection-content">
                Analyse du contrôle du palet de l'équipe extérieur, à travers le volume de tirs tentés, la capacité à maintenir la zone offensive et la dictée du rythme de jeu.
              </div>
            </div>
          </div>

          <!-- Analyse de l'alignement & profondeur -->
          <h3 class="analysis-section-title">Analyse de l'alignement & profondeur</h3>
          <div class="analysis-section">
            <div class="analysis-subsection">
              <div class="analysis-subsection-icon">
                <span class="ai-badge">IA</span>
              </div>
              <div class="analysis-subsection-title">Analyse — Profondeur offensive (Équipe domicile)</div>
              <div class="analysis-subsection-content">
                Analyse de la profondeur de l'équipe domicile, incluant la contribution du top-6, l'impact du bottom-6, la flexibilité tactique et la capacité à maintenir la pression offensive sur plusieurs trios.
              </div>
            </div>

            <div class="analysis-subsection">
              <div class="analysis-subsection-icon">
                <span class="ai-badge">IA</span>
              </div>
              <div class="analysis-subsection-title">Analyse — Profondeur offensive (Équipe extérieur)</div>
              <div class="analysis-subsection-content">
                Analyse de la profondeur de l'équipe extérieur, incluant la contribution du top-6, l'impact du bottom-6, la flexibilité tactique et la capacité à maintenir la pression offensive sur plusieurs trios.
              </div>
            </div>

            <div class="analysis-subsection">
              <div class="analysis-subsection-icon">
                <span class="ai-badge">IA</span>
              </div>
              <div class="analysis-subsection-title">Analyse — Stabilité défensive (Équipe domicile)</div>
              <div class="analysis-subsection-content">
                Analyse de la profondeur défensive de l'équipe domicile, basée sur la solidité du top-4, la mobilité en relance et la gestion des transitions adverses.
              </div>
            </div>

            <div class="analysis-subsection">
              <div class="analysis-subsection-icon">
                <span class="ai-badge">IA</span>
              </div>
              <div class="analysis-subsection-title">Analyse — Stabilité défensive (Équipe extérieur)</div>
              <div class="analysis-subsection-content">
                Analyse de la profondeur défensive de l'équipe extérieur, basée sur la solidité du top-4, la mobilité en relance et la gestion des transitions adverses.
              </div>
            </div>
          </div>

          <!-- Analyse du contexte & fatigue -->
          <h3 class="analysis-section-title">Analyse du contexte & fatigue</h3>
          <div class="analysis-section">
            <div class="analysis-subsection">
              <div class="analysis-subsection-icon">
                <span class="ai-badge">IA</span>
              </div>
              <div class="analysis-subsection-title">Analyse — Cadence & calendrier (Équipe domicile)</div>
              <div class="analysis-subsection-content">
                Analyse du contexte physique de l'équipe domicile, incluant l'enchaînement des matchs, le repos disponible, la présence éventuelle d'un back-to-back et la charge de déplacement.
              </div>
            </div>

            <div class="analysis-subsection">
              <div class="analysis-subsection-icon">
                <span class="ai-badge">IA</span>
              </div>
              <div class="analysis-subsection-title">Analyse — Cadence & calendrier (Équipe extérieur)</div>
              <div class="analysis-subsection-content">
                Analyse du contexte physique de l'équipe extérieur, incluant l'enchaînement des matchs, le repos disponible, la présence éventuelle d'un back-to-back et la charge de déplacement.
              </div>
            </div>

            <div class="analysis-subsection">
              <div class="analysis-subsection-icon">
                <span class="ai-badge">IA</span>
              </div>
              <div class="analysis-subsection-title">Analyse — Avantage domicile / extérieur (Équipe domicile)</div>
              <div class="analysis-subsection-content">
                Analyse de la performance contextuelle de l'équipe domicile, selon qu'elle évolue à domicile ou sur la route, et l'impact du dernier changement sur les matchups.
              </div>
            </div>

            <div class="analysis-subsection">
              <div class="analysis-subsection-icon">
                <span class="ai-badge">IA</span>
              </div>
              <div class="analysis-subsection-title">Analyse — Avantage domicile / extérieur (Équipe extérieur)</div>
              <div class="analysis-subsection-content">
                Analyse de la performance contextuelle de l'équipe extérieur, selon qu'elle évolue à domicile ou sur la route, et l'impact du dernier changement sur les matchups.
              </div>
            </div>
          </div>

          <!-- Autres analyses complémentaires -->
          <h3 class="analysis-section-title">Autres analyses complémentaires</h3>
          <div class="analysis-section">
            <div class="analysis-subsection">
              <div class="analysis-subsection-icon">
                <span class="ai-badge">IA</span>
              </div>
              <div class="analysis-subsection-title">Analyse — Facteurs additionnels</div>
              <div class="analysis-subsection-content">
                L'IA peut également prendre en compte d'autres variables secondaires telles que la dynamique mentale, la confiance du vestiaire, la qualité du coaching staff, la stratégie d'entrée de zone, l'exécution en transition neutre, le style de match attendu (haut événement / bas événement) et l'adaptation tactique entre périodes.
              </div>
            </div>
          </div>
          <!-- ========== FIN TEMPLATE NHL ========== -->
          </div>

          <!-- ========== TEMPLATE NFL ========== -->
          <div id="template-nfl" style="display:none;">
          
          <!-- Analyse du marché & meilleures cotes -->
          <h3 class="analysis-section-title">Analyse du marché & meilleures cotes</h3>
          <div class="analysis-section">
            <div class="analysis-subsection">
              <div class="analysis-subsection-icon">
                <span class="ai-badge">IA</span>
              </div>
              <div class="analysis-subsection-title">Probabilité implicite - Équipe domicile</div>
              <div class="analysis-subsection-content">
                Analyse de la probabilité implicite du marché pour Équipe domicile, obtenue par conversion des cotes en pourcentage réel.
              </div>
            </div>
            <div class="analysis-subsection">
              <div class="analysis-subsection-icon">
                <span class="ai-badge">IA</span>
              </div>
              <div class="analysis-subsection-title">Comparaison bookmakers - Équipe domicile</div>
              <div class="analysis-subsection-content">
                Comparaison inter-bookmakers pour identifier la meilleure cote disponible ("best price") et mesurer l'efficience du marché.
              </div>
            </div>
            <div class="analysis-subsection">
              <div class="analysis-subsection-icon">
                <span class="ai-badge">IA</span>
              </div>
              <div class="analysis-subsection-title">Mouvement de ligne - Équipe domicile</div>
              <div class="analysis-subsection-content">
                Observation du mouvement de ligne (line movement) afin de déterminer si la valeur évolue en faveur ou en défaveur de Équipe domicile.
              </div>
            </div>
            <div class="analysis-subsection">
              <div class="analysis-subsection-icon">
                <span class="ai-badge">IA</span>
              </div>
              <div class="analysis-subsection-title">Closing line value - Équipe domicile</div>
              <div class="analysis-subsection-content">
                Détection d'un éventuel closing line value (CLV) et influence du sharp money par rapport au public money.
              </div>
            </div>
          </div>

          <div class="analysis-section">
            <div class="analysis-subsection">
              <div class="analysis-subsection-icon">
                <span class="ai-badge">IA</span>
              </div>
              <div class="analysis-subsection-title">Probabilité implicite - Équipe extérieur</div>
              <div class="analysis-subsection-content">
                Analyse de la probabilité implicite du marché pour Équipe extérieur, obtenue par conversion des cotes en pourcentage réel.
              </div>
            </div>
            <div class="analysis-subsection">
              <div class="analysis-subsection-icon">
                <span class="ai-badge">IA</span>
              </div>
              <div class="analysis-subsection-title">Comparaison bookmakers - Équipe extérieur</div>
              <div class="analysis-subsection-content">
                Comparaison inter-bookmakers pour identifier la meilleure cote disponible ("best price") et mesurer l'efficience du marché.
              </div>
            </div>
            <div class="analysis-subsection">
              <div class="analysis-subsection-icon">
                <span class="ai-badge">IA</span>
              </div>
              <div class="analysis-subsection-title">Mouvement de ligne - Équipe extérieur</div>
              <div class="analysis-subsection-content">
                Observation du mouvement de ligne (line movement) afin de déterminer si la valeur évolue en faveur ou en défaveur de Équipe extérieur.
              </div>
            </div>
            <div class="analysis-subsection">
              <div class="analysis-subsection-icon">
                <span class="ai-badge">IA</span>
              </div>
              <div class="analysis-subsection-title">Closing line value - Équipe extérieur</div>
              <div class="analysis-subsection-content">
                Détection d'un éventuel closing line value (CLV) et influence du sharp money par rapport au public money.
              </div>
            </div>
          </div>

          <!-- Historique des confrontations -->
          <h3 class="analysis-section-title">Historique des confrontations (H2H)</h3>
          <div class="analysis-section">
            <div class="analysis-subsection">
              <div class="analysis-subsection-icon">
                <span class="ai-badge">IA</span>
              </div>
              <div class="analysis-subsection-title">Analyse H2H</div>
              <div class="analysis-subsection-content">
                Analyse des précédents affrontements entre les deux équipes, incluant les tendances de matchups, la réussite des quarterbacks face aux défenses adverses, les performances red zone et les schémas dominants historiquement.
              </div>
            </div>
          </div>

          <!-- Alignement offensif & défensif -->
          <h3 class="analysis-section-title">Alignement offensif & défensif projeté</h3>
          <div class="analysis-section">
            <div class="analysis-subsection">
              <div class="analysis-subsection-icon">
                <span class="ai-badge">IA</span>
              </div>
              <div class="analysis-subsection-title">Starters offensifs - Équipe domicile</div>
              <div class="analysis-subsection-content">
                Analyse des starters offensifs projetés pour Équipe domicile (QB, WR1/2/3, RB, TE, OL), en lien avec la production attendue et les matchups défensifs.
              </div>
            </div>
            <div class="analysis-subsection">
              <div class="analysis-subsection-icon">
                <span class="ai-badge">IA</span>
              </div>
              <div class="analysis-subsection-title">Starters défensifs - Équipe domicile</div>
              <div class="analysis-subsection-content">
                Analyse des starters défensifs projetés pour Équipe domicile, y compris le front-7, les schémas de couverture (zone, homme) et les playmakers clés.
              </div>
            </div>
          </div>

          <div class="analysis-section">
            <div class="analysis-subsection">
              <div class="analysis-subsection-icon">
                <span class="ai-badge">IA</span>
              </div>
              <div class="analysis-subsection-title">Starters offensifs - Équipe extérieur</div>
              <div class="analysis-subsection-content">
                Analyse des starters offensifs projetés pour Équipe extérieur, en lien avec la production attendue et les matchups défensifs.
              </div>
            </div>
            <div class="analysis-subsection">
              <div class="analysis-subsection-icon">
                <span class="ai-badge">IA</span>
              </div>
              <div class="analysis-subsection-title">Starters défensifs - Équipe extérieur</div>
              <div class="analysis-subsection-content">
                Analyse des starters défensifs projetés pour Équipe extérieur, y compris le front-7, les schémas de couverture (zone, homme) et les playmakers clés.
              </div>
            </div>
          </div>

          <!-- Quarterback & efficacité aérienne -->
          <h3 class="analysis-section-title">Quarterback & efficacité aérienne</h3>
          <div class="analysis-section">
            <div class="analysis-subsection">
              <div class="analysis-subsection-icon">
                <span class="ai-badge">IA</span>
              </div>
              <div class="analysis-subsection-title">QB - Équipe domicile</div>
              <div class="analysis-subsection-content">
                Analyse du rendement du quarterback de Équipe domicile : lecture pré-snap, efficacité sous pression, production en red zone, mobilité, TD/INT ratio et EPA/play.
              </div>
            </div>
          </div>

          <div class="analysis-section">
            <div class="analysis-subsection">
              <div class="analysis-subsection-icon">
                <span class="ai-badge">IA</span>
              </div>
              <div class="analysis-subsection-title">QB - Équipe extérieur</div>
              <div class="analysis-subsection-content">
                Analyse du rendement du quarterback de Équipe extérieur : lecture pré-snap, efficacité sous pression, production en red zone, mobilité, TD/INT ratio et EPA/play.
              </div>
            </div>
          </div>

          <!-- Jeu au sol & contrôle du tempo -->
          <h3 class="analysis-section-title">Jeu au sol & contrôle du tempo</h3>
          <div class="analysis-section">
            <div class="analysis-subsection">
              <div class="analysis-subsection-icon">
                <span class="ai-badge">IA</span>
              </div>
              <div class="analysis-subsection-title">Jeu au sol - Équipe domicile</div>
              <div class="analysis-subsection-content">
                Analyse du jeu au sol de Équipe domicile : efficacité par tentative (YPC), blocking de la ligne offensive, efficacité en 3e & court, contrôle de l'horloge.
              </div>
            </div>
          </div>

          <div class="analysis-section">
            <div class="analysis-subsection">
              <div class="analysis-subsection-icon">
                <span class="ai-badge">IA</span>
              </div>
              <div class="analysis-subsection-title">Jeu au sol - Équipe extérieur</div>
              <div class="analysis-subsection-content">
                Analyse du jeu au sol de Équipe extérieur : efficacité par tentative (YPC), blocking de la ligne offensive, efficacité en 3e & court, contrôle de l'horloge.
              </div>
            </div>
          </div>

          <!-- Défense contre la passe & contre la course -->
          <h3 class="analysis-section-title">Défense contre la passe & contre la course</h3>
          <div class="analysis-section">
            <div class="analysis-subsection">
              <div class="analysis-subsection-icon">
                <span class="ai-badge">IA</span>
              </div>
              <div class="analysis-subsection-title">Défense vs passe - Équipe domicile</div>
              <div class="analysis-subsection-content">
                Évaluation de la défense de Équipe domicile contre la passe : efficacité des CB, pression sur le QB adverse, taux de complétion autorisé, DVOA Pass Defense.
              </div>
            </div>
            <div class="analysis-subsection">
              <div class="analysis-subsection-icon">
                <span class="ai-badge">IA</span>
              </div>
              <div class="analysis-subsection-title">Défense vs course - Équipe domicile</div>
              <div class="analysis-subsection-content">
                Évaluation de la défense de Équipe domicile contre la course : gestion des gaps, taux de plaquage manqué, yards concédés après contact.
              </div>
            </div>
          </div>

          <div class="analysis-section">
            <div class="analysis-subsection">
              <div class="analysis-subsection-icon">
                <span class="ai-badge">IA</span>
              </div>
              <div class="analysis-subsection-title">Défense vs passe - Équipe extérieur</div>
              <div class="analysis-subsection-content">
                Évaluation de la défense de Équipe extérieur contre la passe : efficacité des CB, pression sur le QB adverse, taux de complétion autorisé, DVOA Pass Defense.
              </div>
            </div>
            <div class="analysis-subsection">
              <div class="analysis-subsection-icon">
                <span class="ai-badge">IA</span>
              </div>
              <div class="analysis-subsection-title">Défense vs course - Équipe extérieur</div>
              <div class="analysis-subsection-content">
                Évaluation de la défense de Équipe extérieur contre la course : gestion des gaps, taux de plaquage manqué, yards concédés après contact.
              </div>
            </div>
          </div>

          <!-- 3rd down / red zone / discipline -->
          <h3 class="analysis-section-title">3rd down / red zone / discipline</h3>
          <div class="analysis-section">
            <div class="analysis-subsection">
              <div class="analysis-subsection-icon">
                <span class="ai-badge">IA</span>
              </div>
              <div class="analysis-subsection-title">3rd down & red zone - Équipe domicile</div>
              <div class="analysis-subsection-content">
                Efficacité de Équipe domicile sur les 3rd downs (conversion %) et en red zone (TD %), incluant le playcalling et les tendances de game script.
              </div>
            </div>
            <div class="analysis-subsection">
              <div class="analysis-subsection-icon">
                <span class="ai-badge">IA</span>
              </div>
              <div class="analysis-subsection-title">Discipline - Équipe domicile</div>
              <div class="analysis-subsection-content">
                Discipline globale : pénalités par match, perte de yardage évitable, impact sur les drives.
              </div>
            </div>
          </div>

          <div class="analysis-section">
            <div class="analysis-subsection">
              <div class="analysis-subsection-icon">
                <span class="ai-badge">IA</span>
              </div>
              <div class="analysis-subsection-title">3rd down & red zone - Équipe extérieur</div>
              <div class="analysis-subsection-content">
                Efficacité de Équipe extérieur sur les 3rd downs (conversion %) et en red zone (TD %), incluant le playcalling et les tendances de game script.
              </div>
            </div>
            <div class="analysis-subsection">
              <div class="analysis-subsection-icon">
                <span class="ai-badge">IA</span>
              </div>
              <div class="analysis-subsection-title">Discipline - Équipe extérieur</div>
              <div class="analysis-subsection-content">
                Discipline globale : pénalités par match, perte de yardage évitable, impact sur les drives.
              </div>
            </div>
          </div>

          <!-- Spécial teams & kicker -->
          <h3 class="analysis-section-title">Spécial teams & kicker</h3>
          <div class="analysis-section">
            <div class="analysis-subsection">
              <div class="analysis-subsection-icon">
                <span class="ai-badge">IA</span>
              </div>
              <div class="analysis-subsection-title">Unités spéciales - Équipe domicile</div>
              <div class="analysis-subsection-content">
                Analyse des unités spéciales de Équipe domicile : punt coverage, kick return, erreurs critiques, performance du kicker et taux de réussite FG.
              </div>
            </div>
          </div>

          <div class="analysis-section">
            <div class="analysis-subsection">
              <div class="analysis-subsection-icon">
                <span class="ai-badge">IA</span>
              </div>
              <div class="analysis-subsection-title">Unités spéciales - Équipe extérieur</div>
              <div class="analysis-subsection-content">
                Analyse des unités spéciales de Équipe extérieur : punt coverage, kick return, erreurs critiques, performance du kicker et taux de réussite FG.
              </div>
            </div>
          </div>

          <!-- Coaching, stratégie & adaptabilité -->
          <h3 class="analysis-section-title">Coaching, stratégie & adaptabilité</h3>
          <div class="analysis-section">
            <div class="analysis-subsection">
              <div class="analysis-subsection-icon">
                <span class="ai-badge">IA</span>
              </div>
              <div class="analysis-subsection-title">Coaching - Équipe domicile</div>
              <div class="analysis-subsection-content">
                Profil du coaching staff de Équipe domicile : agressivité en 4th down, prise de décision analytique, game planning, gestion de l'horloge, playcalling offensif/défensif.
              </div>
            </div>
          </div>

          <div class="analysis-section">
            <div class="analysis-subsection">
              <div class="analysis-subsection-icon">
                <span class="ai-badge">IA</span>
              </div>
              <div class="analysis-subsection-title">Coaching - Équipe extérieur</div>
              <div class="analysis-subsection-content">
                Profil du coaching staff de Équipe extérieur : agressivité en 4th down, prise de décision analytique, game planning, gestion de l'horloge, playcalling offensif/défensif.
              </div>
            </div>
          </div>

          <!-- Contexte physique & calendrier -->
          <h3 class="analysis-section-title">Contexte physique & calendrier</h3>
          <div class="analysis-section">
            <div class="analysis-subsection">
              <div class="analysis-subsection-icon">
                <span class="ai-badge">IA</span>
              </div>
              <div class="analysis-subsection-title">Contexte physique - Équipe domicile</div>
              <div class="analysis-subsection-content">
                Analyse du contexte physique de Équipe domicile : jours de repos, enchaînement de matchs, fatigue accumulée, voyages transcontinentaux.
              </div>
            </div>
          </div>

          <div class="analysis-section">
            <div class="analysis-subsection">
              <div class="analysis-subsection-icon">
                <span class="ai-badge">IA</span>
              </div>
              <div class="analysis-subsection-title">Contexte physique - Équipe extérieur</div>
              <div class="analysis-subsection-content">
                Analyse du contexte physique de Équipe extérieur : jours de repos, enchaînement de matchs, fatigue accumulée, voyages transcontinentaux.
              </div>
            </div>
          </div>

          <!-- Autres facteurs contextuels -->
          <h3 class="analysis-section-title">Autres facteurs contextuels</h3>
          <div class="analysis-section">
            <div class="analysis-subsection">
              <div class="analysis-subsection-icon">
                <span class="ai-badge">IA</span>
              </div>
              <div class="analysis-subsection-title">Conditions météo</div>
              <div class="analysis-subsection-content">
                Analyse des conditions météo (vent, pluie, température) et impact potentiel sur le playcalling offensif et les kicking units.
              </div>
            </div>
            <div class="analysis-subsection">
              <div class="analysis-subsection-icon">
                <span class="ai-badge">IA</span>
              </div>
              <div class="analysis-subsection-title">Facteurs psychologiques</div>
              <div class="analysis-subsection-content">
                Analyse de la motivation (match crucial, rivalité, revenge game), du momentum psychologique et de la pression médiatique.
              </div>
            </div>
          </div>

          </div>
          <!-- ========== FIN TEMPLATE NFL ========== -->
        </div>
      </div>
    </div>
  </div>

  <script>
    // State
    let currentBetAmount = 100;
    let currentMultiplier = 1.74;
    let currentCard = null;
    let currentPage = 'bet';
    let isMobileSidebarOpen = false;

    // ===========================
    // SYSTÈME D'AUTO-INCRÉMENTATION
    // ===========================
    let autoIncrementInterval = null;
    let activeCardCounterEl = null;
    
    function startAutoIncrement(initialCount, intervalMinutes, amount) {
      // Arrêter l'intervalle précédent s'il existe
      if (autoIncrementInterval) {
        clearInterval(autoIncrementInterval);
      }
      
      // Nettoyer la valeur : enlever tous les espaces et caractères non numériques sauf les chiffres
      const cleanedCount = String(initialCount).replace(/\s/g, '').replace(/[^\d]/g, '');
      let currentCount = parseInt(cleanedCount) || 2843;
      
      console.log(`🚀 Auto-incrémentation démarrée: ${currentCount} données de base, +${amount} toutes les ${intervalMinutes} min`);
      
      // Démarrer l'incrémentation automatique
      const intervalMs = intervalMinutes * 60 * 1000; // Convertir minutes en millisecondes
      console.log(`⏱️ Lancement setInterval avec`, { intervalMinutes, intervalMs, firstTickIn: `${intervalMs}ms` });
      
      autoIncrementInterval = setInterval(() => {
        currentCount += parseInt(amount);
        updateDataCount(currentCount);
        console.log(`✅ Auto-incrémentation: ${currentCount} données IA (+${amount})`);
      }, intervalMs);
    }
    
    function stopAutoIncrement() {
      if (autoIncrementInterval) {
        clearInterval(autoIncrementInterval);
        autoIncrementInterval = null;
        console.log('🛑 Auto-incrémentation arrêtée');
      }
    }
    
    function updateDataCount(count) {
      const dialogDataCount = document.getElementById('dialog-data-count');
      if (dialogDataCount) {
        // Animation flash pour rendre le changement visible
        dialogDataCount.style.transition = 'color 0.3s ease';
        dialogDataCount.style.color = '#16a34a'; // Vert
        dialogDataCount.textContent = count.toLocaleString('fr-FR');
        
        setTimeout(() => {
          dialogDataCount.style.color = ''; // Revenir à la couleur normale
        }, 500);
      }
      
      // Mettre à jour le compteur au-dessus de la carte
      if (activeCardCounterEl) {
        activeCardCounterEl.textContent = count.toLocaleString('fr-FR');
      }
      
      console.log(`📊 Compteur mis à jour: ${count} (Dialog: ${!!dialogDataCount}, Card: ${!!activeCardCounterEl})`);
    }

    // ===========================
    // AUTO-INCRÉMENTATION GLOBALE (compteurs au-dessus des cartes)
    // ===========================
    const cardAutoIntervals = new Map(); // Map<Element, number>

    function updateCounterElement(el, count) {
      if (!el) return;
      el.textContent = Number(count).toLocaleString('fr-FR');
    }

    function startCardCounterAutoIncrement(counterEl, initialCount, intervalMinutes, amount) {
      if (!counterEl) return;

      // Stopper interval précédent pour cet élément
      const previous = cardAutoIntervals.get(counterEl);
      if (previous) clearInterval(previous);

      // Nettoyage + parsing de la valeur initiale
      const cleaned = String(initialCount).replace(/\s/g, '').replace(/[^\d]/g, '');
      let current = parseInt(cleaned) || 2843;
      const step = parseInt(String(amount)) || 5;

      // Mettre à jour immédiatement l'affichage (optionnel, rend visible tout de suite)
      updateCounterElement(counterEl, current);

      const intervalMs = Number(intervalMinutes) * 60 * 1000;
      if (!Number.isFinite(intervalMs) || intervalMs <= 0) return;

      console.log('🔁 Auto-incrément global activé', { current, step, intervalMinutes, intervalMs });
      const id = setInterval(() => {
        current += step;
        updateCounterElement(counterEl, current);
        console.log('↗️ Compteur carte mis à jour', { current, step });
      }, intervalMs);

      cardAutoIntervals.set(counterEl, id);
    }

    function initGlobalAutoIncrementCounters() {
      // Pour chaque carte, lire les paramètres sur le bouton "Voir analyse IA"
      const buttons = document.querySelectorAll('.bet-card .btn-analysis');
      buttons.forEach((btn) => {
        try {
          const card = btn.closest('.bet-card');
          if (!card) return;

          // Compteur au-dessus de la carte
          const counterAbove = card.previousElementSibling;
          if (!counterAbove || !counterAbove.classList.contains('ai-counter-above')) return;
          const countEl = counterAbove.querySelector('span span');
          if (!countEl) return;

          // Paramètres
          const autoIncRaw = btn.dataset.autoIncrement;
          const enabled = String(autoIncRaw).toLowerCase() === 'true';
          if (!enabled) return;

          const rawInterval = btn.dataset.incrementInterval;
          const intervalParsed = Number.parseFloat(rawInterval);
          const interval = Number.isFinite(intervalParsed) && intervalParsed > 0 ? intervalParsed : 5;
          const amount = parseInt(btn.dataset.incrementAmount || '5') || 5;

          // Valeur initiale
          const initial = countEl.textContent || btn.dataset.aiDataCount || '2843';

          startCardCounterAutoIncrement(countEl, initial, interval, amount);
        } catch (e) {
          console.warn('❗Erreur init auto-incrément carte', e);
        }
      });
    }

    // ===========================
    // FONCTIONS PRINCIPALES
    // ===========================

    // Calculate return
    function calculateReturn(amount) {
      return (amount * currentMultiplier).toFixed(2);
    }

    // Update display
    function updateDisplay() {
      if (!currentCard) return;
      
      // Mise (votre mise)
      const betAmountSmall = currentCard.querySelector('.bet-amount-value-small');
      if (betAmountSmall) {
        betAmountSmall.textContent = '$' + currentBetAmount;
      }
      
      // Cashout (montant total)
      const cashoutAmount = currentCard.querySelector('.cashout-amount');
      if (cashoutAmount) {
        cashoutAmount.textContent = '$' + calculateReturn(currentBetAmount);
      }
      
      // Bénéfice
      const cashoutProfit = currentCard.querySelector('.cashout-profit');
      if (cashoutProfit) {
        const profit = (currentBetAmount * currentMultiplier - currentBetAmount).toFixed(2);
        cashoutProfit.textContent = '+$' + profit + ' bénéfice';
      }
      
      // Anciens éléments (pour compatibilité)
      const betDisplay = currentCard.querySelector('.bet-amount-value');
      const gainDisplay = currentCard.querySelector('.gain-value');
      
      if (betDisplay) {
        betDisplay.textContent = '$' + currentBetAmount;
      }
      if (gainDisplay) {
        gainDisplay.textContent = '$' + calculateReturn(currentBetAmount);
      }
    }

    // Set bet amount
    function setBetAmount(amount) {
      currentBetAmount = amount;
      updateDisplay();
      closeBetDialog();
    }

    // Custom bet amount
    function customBetAmount() {
      const amount = prompt('Entrez le montant de votre mise:');
      if (amount && !isNaN(amount) && amount > 0) {
        setBetAmount(parseFloat(amount));
      }
    }

    // Toggle sidebar (mobile)
    function toggleSidebar() {
      const sidebar = document.querySelector('.sidebar');
      const overlay = document.querySelector('.overlay');
      isMobileSidebarOpen = !isMobileSidebarOpen;
      
      if (isMobileSidebarOpen) {
        sidebar.classList.add('active');
        overlay.classList.add('active');
      } else {
        sidebar.classList.remove('active');
        overlay.classList.remove('active');
      }
    }

    // Navigate to page
    function navigateTo(event, pageName) {
      if (event) {
        event.preventDefault();
      }

      // Afficher le chargement AI pour les pages bet et parlay
      if (pageName === 'bet' || pageName === 'parlay') {
        const loadingOverlay = document.getElementById('ai-loading-overlay');
        loadingOverlay.classList.add('active');
        document.body.classList.add('body-no-scroll');
        
        // 75% du temps: 0.7s, 25% du temps: 3s
        const loadingDuration = Math.random() < 0.75 ? 700 : 3000;
        
        setTimeout(() => {
          loadingOverlay.classList.remove('active');
          document.body.classList.remove('body-no-scroll');
          performNavigation(pageName);
        }, loadingDuration);
      } else {
        performNavigation(pageName);
      }
    }

    // Perform the actual navigation
    function performNavigation(pageName) {
      // Hide all pages
      document.querySelectorAll('.page').forEach(page => {
        page.classList.remove('active');
      });

      // Show selected page
      const targetPage = document.getElementById('page-' + pageName);
      if (targetPage) {
        targetPage.classList.add('active');
      }

      // Update active nav item
      document.querySelectorAll('.nav-item').forEach(item => {
        item.classList.remove('active');
      });
      const navItem = document.querySelector(`.nav-item[data-page="${pageName}"]`);
      if (navItem) {
        navItem.classList.add('active');
      }

      // Close mobile sidebar
      if (isMobileSidebarOpen) {
        toggleSidebar();
      }

      // Update current page
      currentPage = pageName;

      // Persist current page for editor reloads
      try { localStorage.setItem('dashboard_current_page', pageName); } catch {}

      // Update URL hash
      window.location.hash = pageName;
    }

    // Open bet dialog
    function openBetDialog(element) {
      currentCard = element.closest('.bet-card');
      const multiplier = parseFloat(element.dataset.multiplier);
      
      if (!isNaN(multiplier)) {
        currentMultiplier = multiplier;
      }
      
      document.getElementById('bet-dialog').classList.add('active');
    }

    // Close bet dialog
    function closeBetDialog() {
      document.getElementById('bet-dialog').classList.remove('active');
    }

    // Open analysis dialog
    function openAnalysisDialog(trigger) {
      const dialogWinPercentage = document.getElementById('dialog-win-percentage');
      const dialogProgressBar = document.getElementById('dialog-progress-bar');
      const dialogDataCount = document.getElementById('dialog-data-count');

      // Récupérer les valeurs depuis le bouton cliqué
      let pctRaw = trigger?.dataset?.winPercentage;
      let dataCountRaw = trigger?.dataset?.aiDataCount;

      // Récupérer les infos de template et équipes
      const sportType = (trigger?.dataset?.sportType || 'nhl').toLowerCase();
      const team1 = trigger?.dataset?.team1 || 'ÉQUIPE DOMICILE';
      const team2 = trigger?.dataset?.team2 || 'ÉQUIPE EXTÉRIEUR';
      
      // Récupérer les paramètres d'auto-incrémentation
      const autoIncrement = trigger?.dataset?.autoIncrement === 'true' || trigger?.dataset?.autoIncrement === true;
      const rawInterval = trigger?.dataset?.incrementInterval;
      const parsedInterval = Number.parseFloat(rawInterval);
      const incrementInterval = Number.isFinite(parsedInterval) && parsedInterval > 0 ? parsedInterval : 5;
      const incrementAmount = parseInt(trigger?.dataset?.incrementAmount) || 5;

      // Afficher le bon template
      const nhlEl = document.getElementById('template-nhl');
      const nflEl = document.getElementById('template-nfl');
      if (nhlEl && nflEl) {
        if (sportType === 'nfl') {
          nhlEl.style.display = 'none';
          nflEl.style.display = 'block';
        } else {
          nhlEl.style.display = 'block';
          nflEl.style.display = 'none';
        }
      }

      // Remplacer les placeholders d'équipes dans tout le contenu
      const contentRoot = document.getElementById('analysis-content');
      if (contentRoot) {
        const targets = contentRoot.querySelectorAll('.analysis-subsection-title, .analysis-subsection-content');
        targets.forEach((el) => {
          if (!el.dataset.template) {
            el.dataset.template = el.innerHTML;
          }
          el.innerHTML = el.dataset.template
            .replace(/Équipe domicile/g, team1)
            .replace(/Équipe extérieur/g, team2);
        });
      }

      // Fallback: chercher dans la carte parente si les data-attributes ne sont pas présents
      if (!pctRaw && trigger) {
        const card = trigger.closest('.bet-card');
        const confidenceEl = card?.querySelector('.confidence-percentage');
        if (confidenceEl) {
          pctRaw = confidenceEl.textContent;
        }
      }

      if (!dataCountRaw && trigger) {
        const card = trigger.closest('.bet-card');
        const counterAbove = card?.previousElementSibling;
        if (counterAbove?.classList?.contains('ai-counter-above')) {
          const countEl = counterAbove.querySelector('span span');
          if (countEl) {
            dataCountRaw = countEl.textContent;
            activeCardCounterEl = countEl; // Mémoriser l'élément à mettre à jour
          }
        }
      }

      // Normaliser et appliquer le pourcentage
      if (dialogWinPercentage && dialogProgressBar && pctRaw) {
        const pct = Math.max(0, Math.min(100, parseFloat(String(pctRaw).replace('%', '').replace(',', '.').trim())));
        if (!Number.isNaN(pct)) {
          dialogWinPercentage.textContent = String(pct).replace(/\.0+$/, '');
          dialogProgressBar.style.width = pct + '%';
        }
      }

      // Appliquer le data count
      if (dialogDataCount && dataCountRaw) {
        dialogDataCount.textContent = String(dataCountRaw).trim();
      }
      
      // Afficher l'overlay de chargement AI
      const loadingOverlay = document.getElementById('ai-loading-overlay');
      loadingOverlay.classList.add('active');
      document.body.classList.add('body-no-scroll');
      
      // Durée aléatoire entre 2 et 3 secondes (2000-3000ms)
      const randomDuration = Math.floor(Math.random() * 1000) + 2000;
      
      setTimeout(() => {
        // Cacher l'overlay de chargement
        loadingOverlay.classList.remove('active');
        document.body.classList.remove('body-no-scroll');
        
        // Mettre à jour l'heure actuelle
        const now = new Date();
        const hours = String(now.getHours()).padStart(2, '0');
        const minutes = String(now.getMinutes()).padStart(2, '0');
        const timeElement = document.getElementById('analysis-time');
        if (timeElement) {
          timeElement.textContent = `${hours}:${minutes}`;
        }
        
        // Ouvrir le dialog d'analyse directement avec le contenu
        const dialog = document.getElementById('analysis-dialog');
        const loading = document.getElementById('loading-section');
        const content = document.getElementById('analysis-content');
        
        dialog.classList.add('active');
        loading.style.display = 'none';
        content.style.display = 'block';
        
        // Démarrer l'auto-incrémentation APRÈS l'ouverture du dialog
        if (autoIncrement) {
          console.log(`🎯 Paramètres auto-incrémentation:`, {
            enabled: autoIncrement,
            interval: `${incrementInterval} minutes`,
            intervalMs: incrementInterval * 60 * 1000,
            amount: incrementAmount,
            initialCount: dataCountRaw,
            cleanedCount: String(dataCountRaw).replace(/\s/g, '')
          });
          startAutoIncrement(dataCountRaw, incrementInterval, incrementAmount);
        } else {
          console.log('⚠️ Auto-incrémentation désactivée');
        }
      }, randomDuration);
    }

    // Close analysis dialog
    function closeAnalysisDialog() {
      document.getElementById('analysis-dialog').classList.remove('active');
      // Arrêter l'auto-incrémentation lors de la fermeture
      stopAutoIncrement();
      activeCardCounterEl = null; // Réinitialiser la référence
    }

    // Initialize
    document.addEventListener('DOMContentLoaded', () => {
      updateDisplay();

      // Initialiser l'auto-incrémentation globale des compteurs au-dessus des cartes
      initGlobalAutoIncrementCounters();

      // Handle hash navigation with persistence
      const hash = window.location.hash.substring(1);
      let savedPage = '';
      try { savedPage = localStorage.getItem('dashboard_current_page') || ''; } catch {}
      const targetPage = hash || savedPage || 'bet';
      navigateTo(null, targetPage);

      // Update time display
      updateTime();
      setInterval(updateTime, 1000);

      // In Shopify editor, preserve the current page across partial reloads
      document.addEventListener('shopify:section:load', () => {
        try {
          const p = localStorage.getItem('dashboard_current_page');
          if (p && typeof performNavigation === 'function') {
            performNavigation(p);
          }
        } catch {}
      });
      document.addEventListener('shopify:section:select', () => {
        try {
          const p = localStorage.getItem('dashboard_current_page');
          if (p && typeof performNavigation === 'function') {
            performNavigation(p);
          }
        } catch {}
      });
    });

    // Update time display
    function updateTime() {
      const now = new Date();
      const hours = String(now.getHours()).padStart(2, '0');
      const minutes = String(now.getMinutes()).padStart(2, '0');
      const timeString = `${hours}:${minutes}`;
      
      const sidebarTime = document.getElementById('sidebar-time');
      const headerTime = document.getElementById('header-time');
      
      if (sidebarTime) sidebarTime.textContent = timeString;
      if (headerTime) headerTime.textContent = timeString;
    }

    // Handle browser back/forward
    window.addEventListener('hashchange', () => {
      const hash = window.location.hash.substring(1);
      if (hash) {
        navigateTo(null, hash);
      }
    });
  </script>
</body>
</html>

{% schema %}
{
  "name": "Dashboard WINABET.AI",
  "settings": [
    {
      "type": "text",
      "id": "title",
      "label": "Titre du Dashboard",
      "default": "WINABET.AI"
    },
    {
      "type": "textarea",
      "id": "subtitle",
      "label": "Sous-titre",
      "default": "Paris Sportifs Professionnels"
    }
  ],
  "blocks": [
    {
      "type": "bet_card",
      "name": "Carte de Pari",
      "settings": [
            {
              "type": "select",
              "id": "sport_type",
              "label": "🏒🏈 Type de sport pour l'analyse IA",
              "options": [
                {
                  "value": "nhl",
                  "label": "🏒 NHL (Hockey)"
                },
                {
                  "value": "nfl",
                  "label": "🏈 NFL (Football américain)"
                }
              ],
              "default": "nhl",
              "info": "Sélectionnez le template d'analyse à afficher"
            },
            {
              "type": "checkbox",
              "id": "auto_increment_enabled",
              "label": "🔄 Activer l'auto-incrémentation des données IA",
              "default": false,
              "info": "Les données IA analysées augmenteront automatiquement"
            },
            {
              "type": "select",
              "id": "auto_increment_interval",
              "label": "⏱️ Intervalle d'incrémentation",
              "options": [
                {
                  "value": "0.1",
                  "label": "⚡ Test: Toutes les 6 secondes"
                },
                {
                  "value": "0.5",
                  "label": "⚡ Test: Toutes les 30 secondes"
                },
                {
                  "value": "1",
                  "label": "Toutes les 1 minute"
                },
                {
                  "value": "2",
                  "label": "Toutes les 2 minutes"
                },
                {
                  "value": "5",
                  "label": "Toutes les 5 minutes"
                },
                {
                  "value": "10",
                  "label": "Toutes les 10 minutes"
                }
              ],
              "default": "5",
              "info": "Fréquence d'ajout automatique de données"
            },
            {
              "type": "select",
              "id": "auto_increment_amount",
              "label": "📊 Quantité à ajouter",
              "options": [
                {
                  "value": "1",
                  "label": "1 donnée"
                },
                {
                  "value": "5",
                  "label": "5 données"
                },
                {
                  "value": "10",
                  "label": "10 données"
                },
                {
                  "value": "25",
                  "label": "25 données"
                },
                {
                  "value": "50",
                  "label": "50 données"
                }
              ],
              "default": "5",
              "info": "Combien de données ajouter à chaque intervalle"
            },
        {
          "type": "number",
          "id": "ai_data_count",
          "label": "Nombre de données IA analysées",
          "default": 2857
        },
        {
          "type": "select",
          "id": "bet_type",
          "label": "📊 Type de pari",
          "options": [
            {
              "value": "moneyline",
              "label": "💰 Moneyline"
            },
            {
              "value": "spread",
              "label": "📏 Spread"
            },
            {
              "value": "over_under",
              "label": "🔢 Over/Under"
            }
          ],
          "default": "moneyline",
          "info": "Sélectionnez le type de pari à afficher"
        },
        {
          "type": "text",
          "id": "spread_value",
          "label": "📏 Valeur du Spread",
          "default": "-3.5",
          "info": "Ex: -3.5, +7.5, -10.5 (utilisé uniquement pour le type Spread)"
        },
        {
          "type": "select",
          "id": "spread_team",
          "label": "🎯 Équipe avec le Spread",
          "options": [
            {
              "value": "team1",
              "label": "Équipe 1"
            },
            {
              "value": "team2",
              "label": "Équipe 2"
            }
          ],
          "default": "team2",
          "info": "Quelle équipe a le spread (utilisé uniquement pour le type Spread)"
        },
        {
          "type": "select",
          "id": "over_under_type",
          "label": "🔼🔽 Over ou Under",
          "options": [
            {
              "value": "over",
              "label": "OVER"
            },
            {
              "value": "under",
              "label": "UNDER"
            }
          ],
          "default": "over",
          "info": "Sélectionnez OVER ou UNDER (utilisé uniquement pour le type Over/Under)"
        },
        {
          "type": "text",
          "id": "over_under_value",
          "label": "🔢 Valeur Over/Under",
          "default": "225.5",
          "info": "Ex: 225.5, 45.5, 310.5 (utilisé uniquement pour le type Over/Under)"
        },
        {
          "type": "text",
          "id": "over_under_stat_type",
          "label": "📊 Type de statistique (optionnel)",
          "default": "points totaux",
          "info": "Ex: 'points totaux', 'yards de Patrick Mahomes' (utilisé uniquement pour le type Over/Under)"
        },
        {
          "type": "range",
          "id": "win_percentage",
          "label": "Pourcentage de chance de gagner (%)",
          "min": 0,
          "max": 100,
          "step": 1,
          "default": 92
        },
        {
          "type": "text",
          "id": "team1_name",
          "label": "Équipe 1 (à domicile)",
          "default": "VEGAS"
        },
        {
          "type": "image_picker",
          "id": "team1_logo",
          "label": "Logo Équipe 1"
        },
        {
          "type": "text",
          "id": "team1_bet_type",
          "label": "Type de pari Équipe 1",
          "default": "MONEYLINE",
          "info": "Ex: MONEYLINE, SPREAD, TOTAL"
        },
        {
          "type": "text",
          "id": "team2_name",
          "label": "Équipe 2 (à l'extérieur)",
          "default": "TAMPA BAY"
        },
        {
          "type": "image_picker",
          "id": "team2_logo",
          "label": "Logo Équipe 2"
        },
        {
          "type": "text",
          "id": "team2_bet_type",
          "label": "Type de pari Équipe 2",
          "default": "VICTOIRE",
          "info": "Ex: VICTOIRE, SPREAD, TOTAL"
        },
        {
          "type": "text",
          "id": "bet_units",
          "label": "Nombre d'unités",
          "default": "1",
          "info": "Nombre d'unités à parier"
        },
        {
          "type": "text",
          "id": "match_time",
          "label": "Heure du match",
          "default": "5:00 PM"
        },
        {
          "type": "text",
          "id": "match_date",
          "label": "Date du match",
          "default": "Aujourd'hui",
          "info": "Ex: Aujourd'hui, Demain, 28 Octobre"
        },
        {
          "type": "text",
          "id": "multiplier",
          "label": "Multiplicateur (cote)",
          "default": "1.74",
          "info": "Ex: 1.74, 2.50, 3.25"
        },
        {
          "type": "number",
          "id": "odds",
          "label": "Cote principale",
          "default": -136,
          "info": "Format américain (ex: -136, +150)"
        },
        {
          "type": "text",
          "id": "best_bookmaker",
          "label": "Meilleur bookmaker",
          "default": "DRAFTKINGS"
        },
        {
          "type": "number",
          "id": "best_odds",
          "label": "Meilleures cotes",
          "default": -135,
          "info": "Format américain"
        },
        {
          "type": "textarea",
          "id": "ai_explanation",
          "label": "Explication de l'IA",
          "default": "Notre IA a analysé plus de 2857 variables incluant les performances récentes, les statistiques head-to-head, les conditions de jeu, et les tendances du marché pour vous proposer ce pari avec une confiance élevée."
        },
        {
          "type": "checkbox",
          "id": "send_to_history",
          "label": "📋 Envoyer à l'historique",
          "default": false,
          "info": "Cochez pour déplacer cette carte vers l'historique"
        },
        {
          "type": "select",
          "id": "result",
          "label": "🎯 Résultat du pari",
          "options": [
            {
              "value": "pending",
              "label": "En attente"
            },
            {
              "value": "win",
              "label": "✅ Gagné (Win)"
            },
            {
              "value": "loose",
              "label": "❌ Perdu (Loose)"
            }
          ],
          "default": "pending",
          "info": "Sélectionnez le résultat du pari"
        },
        {
          "type": "checkbox",
          "id": "show_card",
          "label": "Afficher cette carte",
          "default": true
        }
      ]
    },
    {
      "type": "parlay_card",
      "name": "🎲 Carte Parlay Avancée",
      "settings": [
            {
              "type": "select",
              "id": "sport_type",
              "label": "🏒🏈 Type de sport pour l'analyse IA",
              "options": [
                {
                  "value": "nhl",
                  "label": "🏒 NHL (Hockey)"
                },
                {
                  "value": "nfl",
                  "label": "🏈 NFL (Football américain)"
                }
              ],
              "default": "nhl",
              "info": "Sélectionnez le template d'analyse à afficher"
            },
            {
              "type": "checkbox",
              "id": "auto_increment_enabled",
              "label": "🔄 Activer l'auto-incrémentation des données IA",
              "default": false,
              "info": "Les données IA analysées augmenteront automatiquement"
            },
            {
              "type": "select",
              "id": "auto_increment_interval",
              "label": "⏱️ Intervalle d'incrémentation",
              "options": [
                {
                  "value": "0.1",
                  "label": "⚡ Test: Toutes les 6 secondes"
                },
                {
                  "value": "0.5",
                  "label": "⚡ Test: Toutes les 30 secondes"
                },
                {
                  "value": "1",
                  "label": "Toutes les 1 minute"
                },
                {
                  "value": "2",
                  "label": "Toutes les 2 minutes"
                },
                {
                  "value": "5",
                  "label": "Toutes les 5 minutes"
                },
                {
                  "value": "10",
                  "label": "Toutes les 10 minutes"
                }
              ],
              "default": "5",
              "info": "Fréquence d'ajout automatique de données"
            },
            {
              "type": "select",
              "id": "auto_increment_amount",
              "label": "📊 Quantité à ajouter",
              "options": [
                {
                  "value": "1",
                  "label": "1 donnée"
                },
                {
                  "value": "5",
                  "label": "5 données"
                },
                {
                  "value": "10",
                  "label": "10 données"
                },
                {
                  "value": "25",
                  "label": "25 données"
                },
                {
                  "value": "50",
                  "label": "50 données"
                }
              ],
              "default": "5",
              "info": "Combien de données ajouter à chaque intervalle"
            },
        {
          "type": "number",
          "id": "ai_data_count",
          "label": "Nombre de données IA analysées",
          "default": 2857
        },
        {
          "type": "select",
          "id": "bet_type",
          "label": "📊 Type de pari",
          "options": [
            {
              "value": "moneyline",
              "label": "💰 Moneyline"
            },
            {
              "value": "spread",
              "label": "📏 Spread"
            },
            {
              "value": "over_under",
              "label": "🔢 Over/Under"
            }
          ],
          "default": "moneyline",
          "info": "Sélectionnez le type de pari à afficher"
        },
        {
          "type": "text",
          "id": "spread_value",
          "label": "📏 Valeur du Spread",
          "default": "-3.5",
          "info": "Ex: -3.5, +7.5, -10.5 (utilisé uniquement pour le type Spread)"
        },
        {
          "type": "select",
          "id": "spread_team",
          "label": "🎯 Équipe avec le Spread",
          "options": [
            {
              "value": "team1",
              "label": "Équipe 1"
            },
            {
              "value": "team2",
              "label": "Équipe 2"
            }
          ],
          "default": "team2",
          "info": "Quelle équipe a le spread (utilisé uniquement pour le type Spread)"
        },
        {
          "type": "select",
          "id": "over_under_type",
          "label": "🔼🔽 Over ou Under",
          "options": [
            {
              "value": "over",
              "label": "OVER"
            },
            {
              "value": "under",
              "label": "UNDER"
            }
          ],
          "default": "over",
          "info": "Sélectionnez OVER ou UNDER (utilisé uniquement pour le type Over/Under)"
        },
        {
          "type": "text",
          "id": "over_under_value",
          "label": "🔢 Valeur Over/Under",
          "default": "225.5",
          "info": "Ex: 225.5, 45.5, 310.5 (utilisé uniquement pour le type Over/Under)"
        },
        {
          "type": "text",
          "id": "over_under_stat_type",
          "label": "📊 Type de statistique (optionnel)",
          "default": "points totaux",
          "info": "Ex: 'points totaux', 'yards de Patrick Mahomes' (utilisé uniquement pour le type Over/Under)"
        },
        {
          "type": "range",
          "id": "win_percentage",
          "label": "Pourcentage de chance de gagner (%)",
          "min": 0,
          "max": 100,
          "step": 1,
          "default": 92
        },
        {
          "type": "header",
          "content": "🎯 LEG 1"
        },
        {
          "type": "text",
          "id": "leg1_team1_name",
          "label": "Équipe 1 (à domicile)",
          "default": "VEGAS"
        },
        {
          "type": "image_picker",
          "id": "leg1_team1_logo",
          "label": "Logo Équipe 1"
        },
        {
          "type": "text",
          "id": "leg1_team2_name",
          "label": "Équipe 2 (à l'extérieur)",
          "default": "TAMPA BAY"
        },
        {
          "type": "image_picker",
          "id": "leg1_team2_logo",
          "label": "Logo Équipe 2"
        },
        {
          "type": "text",
          "id": "leg1_match_time",
          "label": "Heure du match",
          "default": "7:00 PM"
        },
        {
          "type": "select",
          "id": "leg1_bet_type",
          "label": "📊 Type de pari",
          "options": [
            {"value": "moneyline", "label": "💰 Moneyline"},
            {"value": "spread", "label": "📏 Spread"},
            {"value": "over_under", "label": "🔢 Over/Under"}
          ],
          "default": "moneyline"
        },
        {
          "type": "text",
          "id": "leg1_spread_value",
          "label": "📏 Valeur du Spread",
          "default": "-3.5"
        },
        {
          "type": "select",
          "id": "leg1_spread_team",
          "label": "🎯 Équipe avec le Spread",
          "options": [
            {"value": "team1", "label": "Équipe 1"},
            {"value": "team2", "label": "Équipe 2"}
          ],
          "default": "team1"
        },
        {
          "type": "select",
          "id": "leg1_over_under_type",
          "label": "🔼🔽 Over ou Under",
          "options": [
            {"value": "over", "label": "OVER"},
            {"value": "under", "label": "UNDER"}
          ],
          "default": "over"
        },
        {
          "type": "text",
          "id": "leg1_over_under_value",
          "label": "🔢 Valeur Over/Under",
          "default": "225.5"
        },
        {
          "type": "text",
          "id": "leg1_over_under_stat_type",
          "label": "📊 Type de statistique (optionnel)",
          "default": "points totaux"
        },
        {
          "type": "header",
          "content": "🎯 LEG 2"
        },
        {
          "type": "text",
          "id": "leg2_team1_name",
          "label": "Équipe 1 (à domicile) - Laisser vide pour ne pas afficher ce leg"
        },
        {
          "type": "image_picker",
          "id": "leg2_team1_logo",
          "label": "Logo Équipe 1"
        },
        {
          "type": "text",
          "id": "leg2_team2_name",
          "label": "Équipe 2 (à l'extérieur)"
        },
        {
          "type": "image_picker",
          "id": "leg2_team2_logo",
          "label": "Logo Équipe 2"
        },
        {
          "type": "text",
          "id": "leg2_match_time",
          "label": "Heure du match",
          "default": "7:00 PM"
        },
        {
          "type": "select",
          "id": "leg2_bet_type",
          "label": "📊 Type de pari",
          "options": [
            {"value": "moneyline", "label": "💰 Moneyline"},
            {"value": "spread", "label": "📏 Spread"},
            {"value": "over_under", "label": "🔢 Over/Under"}
          ],
          "default": "moneyline"
        },
        {
          "type": "text",
          "id": "leg2_spread_value",
          "label": "📏 Valeur du Spread",
          "default": "-3.5"
        },
        {
          "type": "select",
          "id": "leg2_spread_team",
          "label": "🎯 Équipe avec le Spread",
          "options": [
            {"value": "team1", "label": "Équipe 1"},
            {"value": "team2", "label": "Équipe 2"}
          ],
          "default": "team1"
        },
        {
          "type": "select",
          "id": "leg2_over_under_type",
          "label": "🔼🔽 Over ou Under",
          "options": [
            {"value": "over", "label": "OVER"},
            {"value": "under", "label": "UNDER"}
          ],
          "default": "over"
        },
        {
          "type": "text",
          "id": "leg2_over_under_value",
          "label": "🔢 Valeur Over/Under",
          "default": "225.5"
        },
        {
          "type": "text",
          "id": "leg2_over_under_stat_type",
          "label": "📊 Type de statistique (optionnel)",
          "default": "points totaux"
        },
        {
          "type": "header",
          "content": "🎯 LEG 3"
        },
        {
          "type": "text",
          "id": "leg3_team1_name",
          "label": "Équipe 1 (à domicile) - Laisser vide pour ne pas afficher ce leg"
        },
        {
          "type": "image_picker",
          "id": "leg3_team1_logo",
          "label": "Logo Équipe 1"
        },
        {
          "type": "text",
          "id": "leg3_team2_name",
          "label": "Équipe 2 (à l'extérieur)"
        },
        {
          "type": "image_picker",
          "id": "leg3_team2_logo",
          "label": "Logo Équipe 2"
        },
        {
          "type": "text",
          "id": "leg3_match_time",
          "label": "Heure du match",
          "default": "7:00 PM"
        },
        {
          "type": "select",
          "id": "leg3_bet_type",
          "label": "📊 Type de pari",
          "options": [
            {"value": "moneyline", "label": "💰 Moneyline"},
            {"value": "spread", "label": "📏 Spread"},
            {"value": "over_under", "label": "🔢 Over/Under"}
          ],
          "default": "moneyline"
        },
        {
          "type": "text",
          "id": "leg3_spread_value",
          "label": "📏 Valeur du Spread",
          "default": "-3.5"
        },
        {
          "type": "select",
          "id": "leg3_spread_team",
          "label": "🎯 Équipe avec le Spread",
          "options": [
            {"value": "team1", "label": "Équipe 1"},
            {"value": "team2", "label": "Équipe 2"}
          ],
          "default": "team1"
        },
        {
          "type": "select",
          "id": "leg3_over_under_type",
          "label": "🔼🔽 Over ou Under",
          "options": [
            {"value": "over", "label": "OVER"},
            {"value": "under", "label": "UNDER"}
          ],
          "default": "over"
        },
        {
          "type": "text",
          "id": "leg3_over_under_value",
          "label": "🔢 Valeur Over/Under",
          "default": "225.5"
        },
        {
          "type": "text",
          "id": "leg3_over_under_stat_type",
          "label": "📊 Type de statistique (optionnel)",
          "default": "points totaux"
        },
        {
          "type": "header",
          "content": "🎯 LEG 4"
        },
        {
          "type": "text",
          "id": "leg4_team1_name",
          "label": "Équipe 1 (à domicile) - Laisser vide pour ne pas afficher ce leg"
        },
        {
          "type": "image_picker",
          "id": "leg4_team1_logo",
          "label": "Logo Équipe 1"
        },
        {
          "type": "text",
          "id": "leg4_team2_name",
          "label": "Équipe 2 (à l'extérieur)"
        },
        {
          "type": "image_picker",
          "id": "leg4_team2_logo",
          "label": "Logo Équipe 2"
        },
        {
          "type": "text",
          "id": "leg4_match_time",
          "label": "Heure du match",
          "default": "7:00 PM"
        },
        {
          "type": "select",
          "id": "leg4_bet_type",
          "label": "📊 Type de pari",
          "options": [
            {"value": "moneyline", "label": "💰 Moneyline"},
            {"value": "spread", "label": "📏 Spread"},
            {"value": "over_under", "label": "🔢 Over/Under"}
          ],
          "default": "moneyline"
        },
        {
          "type": "text",
          "id": "leg4_spread_value",
          "label": "📏 Valeur du Spread",
          "default": "-3.5"
        },
        {
          "type": "select",
          "id": "leg4_spread_team",
          "label": "🎯 Équipe avec le Spread",
          "options": [
            {"value": "team1", "label": "Équipe 1"},
            {"value": "team2", "label": "Équipe 2"}
          ],
          "default": "team1"
        },
        {
          "type": "select",
          "id": "leg4_over_under_type",
          "label": "🔼🔽 Over ou Under",
          "options": [
            {"value": "over", "label": "OVER"},
            {"value": "under", "label": "UNDER"}
          ],
          "default": "over"
        },
        {
          "type": "text",
          "id": "leg4_over_under_value",
          "label": "🔢 Valeur Over/Under",
          "default": "225.5"
        },
        {
          "type": "text",
          "id": "leg4_over_under_stat_type",
          "label": "📊 Type de statistique (optionnel)",
          "default": "points totaux"
        },
        {
          "type": "header",
          "content": "🎯 LEG 5"
        },
        {
          "type": "text",
          "id": "leg5_team1_name",
          "label": "Équipe 1 (à domicile) - Laisser vide pour ne pas afficher ce leg"
        },
        {
          "type": "image_picker",
          "id": "leg5_team1_logo",
          "label": "Logo Équipe 1"
        },
        {
          "type": "text",
          "id": "leg5_team2_name",
          "label": "Équipe 2 (à l'extérieur)"
        },
        {
          "type": "image_picker",
          "id": "leg5_team2_logo",
          "label": "Logo Équipe 2"
        },
        {
          "type": "text",
          "id": "leg5_match_time",
          "label": "Heure du match",
          "default": "7:00 PM"
        },
        {
          "type": "select",
          "id": "leg5_bet_type",
          "label": "📊 Type de pari",
          "options": [
            {"value": "moneyline", "label": "💰 Moneyline"},
            {"value": "spread", "label": "📏 Spread"},
            {"value": "over_under", "label": "🔢 Over/Under"}
          ],
          "default": "moneyline"
        },
        {
          "type": "text",
          "id": "leg5_spread_value",
          "label": "📏 Valeur du Spread",
          "default": "-3.5"
        },
        {
          "type": "select",
          "id": "leg5_spread_team",
          "label": "🎯 Équipe avec le Spread",
          "options": [
            {"value": "team1", "label": "Équipe 1"},
            {"value": "team2", "label": "Équipe 2"}
          ],
          "default": "team1"
        },
        {
          "type": "select",
          "id": "leg5_over_under_type",
          "label": "🔼🔽 Over ou Under",
          "options": [
            {"value": "over", "label": "OVER"},
            {"value": "under", "label": "UNDER"}
          ],
          "default": "over"
        },
        {
          "type": "text",
          "id": "leg5_over_under_value",
          "label": "🔢 Valeur Over/Under",
          "default": "225.5"
        },
        {
          "type": "text",
          "id": "leg5_over_under_stat_type",
          "label": "📊 Type de statistique (optionnel)",
          "default": "points totaux"
        },
        {
          "type": "header",
          "content": "🎯 LEG 6"
        },
        {
          "type": "text",
          "id": "leg6_team1_name",
          "label": "Équipe 1 (à domicile) - Laisser vide pour ne pas afficher ce leg"
        },
        {
          "type": "image_picker",
          "id": "leg6_team1_logo",
          "label": "Logo Équipe 1"
        },
        {
          "type": "text",
          "id": "leg6_team2_name",
          "label": "Équipe 2 (à l'extérieur)"
        },
        {
          "type": "image_picker",
          "id": "leg6_team2_logo",
          "label": "Logo Équipe 2"
        },
        {
          "type": "text",
          "id": "leg6_match_time",
          "label": "Heure du match",
          "default": "7:00 PM"
        },
        {
          "type": "select",
          "id": "leg6_bet_type",
          "label": "📊 Type de pari",
          "options": [
            {"value": "moneyline", "label": "💰 Moneyline"},
            {"value": "spread", "label": "📏 Spread"},
            {"value": "over_under", "label": "🔢 Over/Under"}
          ],
          "default": "moneyline"
        },
        {
          "type": "text",
          "id": "leg6_spread_value",
          "label": "📏 Valeur du Spread",
          "default": "-3.5"
        },
        {
          "type": "select",
          "id": "leg6_spread_team",
          "label": "🎯 Équipe avec le Spread",
          "options": [
            {"value": "team1", "label": "Équipe 1"},
            {"value": "team2", "label": "Équipe 2"}
          ],
          "default": "team1"
        },
        {
          "type": "select",
          "id": "leg6_over_under_type",
          "label": "🔼🔽 Over ou Under",
          "options": [
            {"value": "over", "label": "OVER"},
            {"value": "under", "label": "UNDER"}
          ],
          "default": "over"
        },
        {
          "type": "text",
          "id": "leg6_over_under_value",
          "label": "🔢 Valeur Over/Under",
          "default": "225.5"
        },
        {
          "type": "text",
          "id": "leg6_over_under_stat_type",
          "label": "📊 Type de statistique (optionnel)",
          "default": "points totaux"
        },
        {
          "type": "header",
          "content": "🎯 LEG 7"
        },
        {
          "type": "text",
          "id": "leg7_team1_name",
          "label": "Équipe 1 (à domicile) - Laisser vide pour ne pas afficher ce leg"
        },
        {
          "type": "image_picker",
          "id": "leg7_team1_logo",
          "label": "Logo Équipe 1"
        },
        {
          "type": "text",
          "id": "leg7_team2_name",
          "label": "Équipe 2 (à l'extérieur)"
        },
        {
          "type": "image_picker",
          "id": "leg7_team2_logo",
          "label": "Logo Équipe 2"
        },
        {
          "type": "text",
          "id": "leg7_match_time",
          "label": "Heure du match",
          "default": "7:00 PM"
        },
        {
          "type": "select",
          "id": "leg7_bet_type",
          "label": "📊 Type de pari",
          "options": [
            {"value": "moneyline", "label": "💰 Moneyline"},
            {"value": "spread", "label": "📏 Spread"},
            {"value": "over_under", "label": "🔢 Over/Under"}
          ],
          "default": "moneyline"
        },
        {
          "type": "text",
          "id": "leg7_spread_value",
          "label": "📏 Valeur du Spread",
          "default": "-3.5"
        },
        {
          "type": "select",
          "id": "leg7_spread_team",
          "label": "🎯 Équipe avec le Spread",
          "options": [
            {"value": "team1", "label": "Équipe 1"},
            {"value": "team2", "label": "Équipe 2"}
          ],
          "default": "team1"
        },
        {
          "type": "select",
          "id": "leg7_over_under_type",
          "label": "🔼🔽 Over ou Under",
          "options": [
            {"value": "over", "label": "OVER"},
            {"value": "under", "label": "UNDER"}
          ],
          "default": "over"
        },
        {
          "type": "text",
          "id": "leg7_over_under_value",
          "label": "🔢 Valeur Over/Under",
          "default": "225.5"
        },
        {
          "type": "text",
          "id": "leg7_over_under_stat_type",
          "label": "📊 Type de statistique (optionnel)",
          "default": "points totaux"
        },
        {
          "type": "header",
          "content": "🎯 LEG 8"
        },
        {
          "type": "text",
          "id": "leg8_team1_name",
          "label": "Équipe 1 (à domicile) - Laisser vide pour ne pas afficher ce leg"
        },
        {
          "type": "image_picker",
          "id": "leg8_team1_logo",
          "label": "Logo Équipe 1"
        },
        {
          "type": "text",
          "id": "leg8_team2_name",
          "label": "Équipe 2 (à l'extérieur)"
        },
        {
          "type": "image_picker",
          "id": "leg8_team2_logo",
          "label": "Logo Équipe 2"
        },
        {
          "type": "text",
          "id": "leg8_match_time",
          "label": "Heure du match",
          "default": "7:00 PM"
        },
        {
          "type": "select",
          "id": "leg8_bet_type",
          "label": "📊 Type de pari",
          "options": [
            {"value": "moneyline", "label": "💰 Moneyline"},
            {"value": "spread", "label": "📏 Spread"},
            {"value": "over_under", "label": "🔢 Over/Under"}
          ],
          "default": "moneyline"
        },
        {
          "type": "text",
          "id": "leg8_spread_value",
          "label": "📏 Valeur du Spread",
          "default": "-3.5"
        },
        {
          "type": "select",
          "id": "leg8_spread_team",
          "label": "🎯 Équipe avec le Spread",
          "options": [
            {"value": "team1", "label": "Équipe 1"},
            {"value": "team2", "label": "Équipe 2"}
          ],
          "default": "team1"
        },
        {
          "type": "select",
          "id": "leg8_over_under_type",
          "label": "🔼🔽 Over ou Under",
          "options": [
            {"value": "over", "label": "OVER"},
            {"value": "under", "label": "UNDER"}
          ],
          "default": "over"
        },
        {
          "type": "text",
          "id": "leg8_over_under_value",
          "label": "🔢 Valeur Over/Under",
          "default": "225.5"
        },
        {
          "type": "text",
          "id": "leg8_over_under_stat_type",
          "label": "📊 Type de statistique (optionnel)",
          "default": "points totaux"
        },
        {
          "type": "header",
          "content": "🎯 LEG 9"
        },
        {
          "type": "text",
          "id": "leg9_team1_name",
          "label": "Équipe 1 (à domicile) - Laisser vide pour ne pas afficher ce leg"
        },
        {
          "type": "image_picker",
          "id": "leg9_team1_logo",
          "label": "Logo Équipe 1"
        },
        {
          "type": "text",
          "id": "leg9_team2_name",
          "label": "Équipe 2 (à l'extérieur)"
        },
        {
          "type": "image_picker",
          "id": "leg9_team2_logo",
          "label": "Logo Équipe 2"
        },
        {
          "type": "text",
          "id": "leg9_match_time",
          "label": "Heure du match",
          "default": "7:00 PM"
        },
        {
          "type": "select",
          "id": "leg9_bet_type",
          "label": "📊 Type de pari",
          "options": [
            {"value": "moneyline", "label": "💰 Moneyline"},
            {"value": "spread", "label": "📏 Spread"},
            {"value": "over_under", "label": "🔢 Over/Under"}
          ],
          "default": "moneyline"
        },
        {
          "type": "text",
          "id": "leg9_spread_value",
          "label": "📏 Valeur du Spread",
          "default": "-3.5"
        },
        {
          "type": "select",
          "id": "leg9_spread_team",
          "label": "🎯 Équipe avec le Spread",
          "options": [
            {"value": "team1", "label": "Équipe 1"},
            {"value": "team2", "label": "Équipe 2"}
          ],
          "default": "team1"
        },
        {
          "type": "select",
          "id": "leg9_over_under_type",
          "label": "🔼🔽 Over ou Under",
          "options": [
            {"value": "over", "label": "OVER"},
            {"value": "under", "label": "UNDER"}
          ],
          "default": "over"
        },
        {
          "type": "text",
          "id": "leg9_over_under_value",
          "label": "🔢 Valeur Over/Under",
          "default": "225.5"
        },
        {
          "type": "text",
          "id": "leg9_over_under_stat_type",
          "label": "📊 Type de statistique (optionnel)",
          "default": "points totaux"
        },
        {
          "type": "header",
          "content": "🎯 LEG 10"
        },
        {
          "type": "text",
          "id": "leg10_team1_name",
          "label": "Équipe 1 (à domicile) - Laisser vide pour ne pas afficher ce leg"
        },
        {
          "type": "image_picker",
          "id": "leg10_team1_logo",
          "label": "Logo Équipe 1"
        },
        {
          "type": "text",
          "id": "leg10_team2_name",
          "label": "Équipe 2 (à l'extérieur)"
        },
        {
          "type": "image_picker",
          "id": "leg10_team2_logo",
          "label": "Logo Équipe 2"
        },
        {
          "type": "text",
          "id": "leg10_match_time",
          "label": "Heure du match",
          "default": "7:00 PM"
        },
        {
          "type": "select",
          "id": "leg10_bet_type",
          "label": "📊 Type de pari",
          "options": [
            {"value": "moneyline", "label": "💰 Moneyline"},
            {"value": "spread", "label": "📏 Spread"},
            {"value": "over_under", "label": "🔢 Over/Under"}
          ],
          "default": "moneyline"
        },
        {
          "type": "text",
          "id": "leg10_spread_value",
          "label": "📏 Valeur du Spread",
          "default": "-3.5"
        },
        {
          "type": "select",
          "id": "leg10_spread_team",
          "label": "🎯 Équipe avec le Spread",
          "options": [
            {"value": "team1", "label": "Équipe 1"},
            {"value": "team2", "label": "Équipe 2"}
          ],
          "default": "team1"
        },
        {
          "type": "select",
          "id": "leg10_over_under_type",
          "label": "🔼🔽 Over ou Under",
          "options": [
            {"value": "over", "label": "OVER"},
            {"value": "under", "label": "UNDER"}
          ],
          "default": "over"
        },
        {
          "type": "text",
          "id": "leg10_over_under_value",
          "label": "🔢 Valeur Over/Under",
          "default": "225.5"
        },
        {
          "type": "text",
          "id": "leg10_over_under_stat_type",
          "label": "📊 Type de statistique (optionnel)",
          "default": "points totaux"
        },
        {
          "type": "text",
          "id": "bet_units",
          "label": "Nombre d'unités",
          "default": "1",
          "info": "Nombre d'unités à parier"
        },
        {
          "type": "text",
          "id": "match_time",
          "label": "Heure du match",
          "default": "5:00 PM"
        },
        {
          "type": "text",
          "id": "match_date",
          "label": "Date du match",
          "default": "Aujourd'hui",
          "info": "Ex: Aujourd'hui, Demain, 28 Octobre"
        },
        {
          "type": "text",
          "id": "multiplier",
          "label": "Multiplicateur (cote)",
          "default": "1.74",
          "info": "Ex: 1.74, 2.50, 3.25"
        },
        {
          "type": "number",
          "id": "odds",
          "label": "Cote principale",
          "default": -136,
          "info": "Format américain (ex: -136, +150)"
        },
        {
          "type": "text",
          "id": "best_bookmaker",
          "label": "Meilleur bookmaker",
          "default": "DRAFTKINGS"
        },
        {
          "type": "number",
          "id": "best_odds",
          "label": "Meilleures cotes",
          "default": -135,
          "info": "Format américain"
        },
        {
          "type": "textarea",
          "id": "ai_explanation",
          "label": "Explication de l'IA",
          "default": "Notre IA a analysé plus de 2857 variables incluant les performances récentes, les statistiques head-to-head, les conditions de jeu, et les tendances du marché pour vous proposer ce pari avec une confiance élevée."
        },
        {
          "type": "checkbox",
          "id": "send_to_history",
          "label": "📋 Envoyer à l'historique",
          "default": false,
          "info": "Cochez pour déplacer cette carte vers l'historique"
        },
        {
          "type": "select",
          "id": "result",
          "label": "🎯 Résultat du pari",
          "options": [
            {
              "value": "pending",
              "label": "En attente"
            },
            {
              "value": "win",
              "label": "✅ Gagné (Win)"
            },
            {
              "value": "loose",
              "label": "❌ Perdu (Loose)"
            }
          ],
          "default": "pending",
          "info": "Sélectionnez le résultat du pari"
        },
        {
          "type": "checkbox",
          "id": "show_card",
          "label": "Afficher cette carte",
          "default": true
        }
      ]
    }
  ],
  "max_blocks": 20,
  "presets": [
    {
      "name": "Dashboard WINABET.AI",
      "blocks": [
        {
          "type": "bet_card",
          "settings": {
            "ai_data_count": 2843,
            "win_percentage": 92,
            "team1_name": "ST. LOUIS",
            "team1_bet_type": "MONEYLINE",
            "team2_name": "PITTSBURGH",
            "team2_bet_type": "VICTOIRE",
            "match_time": "7:00 PM",
            "match_date": "Aujourd'hui",
            "multiplier": "1.95",
            "bet_units": "1",
            "odds": -105,
            "best_bookmaker": "DRAFTKINGS",
            "best_odds": -105,
            "show_card": true
          }
        },
        {
          "type": "parlay_card",
          "settings": {
            "ai_data_count": 5214,
            "win_percentage": 78,
            "leg1_team1_name": "VEGAS",
            "leg1_team2_name": "TAMPA BAY",
            "leg1_bet_type": "moneyline",
            "leg1_match_time": "7:00 PM",
            "multiplier": "5.24",
            "bet_units": "1",
            "odds": 495,
            "best_bookmaker": "DRAFTKINGS",
            "best_odds": 495,
            "show_card": true
          }
        }
      ]
    }
  ]
}
{% endschema %}